if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),o="#"===o?[]:o;var a=e(document).find(o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),o="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.4.1",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||n.data("bs.carousel",r=new i(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n="prev"==e?-1:1,r=(i+n)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),"object"==typeof o&&o.length&&o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(i){var n=e(this),r=n.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var o=n.attr("data-target")||r,a=e(document).find(o);if(a.hasClass("carousel")){var s=e.extend({},a.data(),n.data()),l=n.attr("data-slide-to");l&&(s.interval=!1),t.call(a,s),l&&a.data("bs.carousel").to(l),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.4.1",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"))&&t.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();i.call(o,s)})}(jQuery),function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n="#"!==i?e(document).find(i):null;return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(r).remove(),e(o).each(function(){var n=e(this),r=t(n),o={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(r[0],i.target)||(r.trigger(i=e.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.4.1",a.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var s={relatedTarget:this};if(o.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=t(n),a=r.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&r.find(o).trigger("focus"),n.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new i(this,a)),"string"==typeof t?o[t](n):a.show&&o.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var i=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+i),e(this.fixedContent).each(function(t,n){var r=n.style.paddingRight,o=e(n).css("padding-right");e(n).data("padding-right",r).css("padding-right",parseFloat(o)+i+"px")}))},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(t,i){var n=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=n||""})},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),o=n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),a=e(document).find(o),s=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(a,s,this)})}(jQuery),function(e){"use strict";function t(t,i){var n=t.nodeName.toLowerCase();if(-1!==e.inArray(n,i))return-1===e.inArray(n,o)||Boolean(t.nodeValue.match(l)||t.nodeValue.match(c));for(var r=e(i).filter(function(e,t){return t instanceof RegExp}),a=0,s=r.length;a<s;a++)if(n.match(r[a]))return!0;return!1}function i(i,n,r){if(0===i.length)return i;if(r&&"function"==typeof r)return r(i);if(!document.implementation||!document.implementation.createHTMLDocument)return i;var o=document.implementation.createHTMLDocument("sanitization");o.body.innerHTML=i;for(var a=e.map(n,function(e,t){return t}),s=e(o.body).find("*"),l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();if(-1!==e.inArray(d,a))for(var p=e.map(u.attributes,function(e){return e}),h=[].concat(n["*"]||[],n[d]||[]),f=0,g=p.length;f<g;f++)t(p[f],h)||u.removeAttribute(p[f].nodeName);else u.parentNode.removeChild(u)}return o.body.innerHTML}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.tooltip"),r="object"==typeof t&&t;!n&&/destroy|hide/.test(t)||(n||i.data("bs.tooltip",n=new u(this,r)),"string"==typeof t&&n[t]())})}var r=["sanitize","whiteList","sanitizeFn"],o=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^aria-[\w-]*$/i,s={"*":["class","dir","id","lang","role",a],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},l=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,u=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};u.VERSION="3.4.1",u.TRANSITION_DURATION=150,u.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:s},u.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},u.prototype.getDefaults=function(){return u.DEFAULTS},u.prototype.getOptions=function(t){var n=this.$element.data();for(var o in n)n.hasOwnProperty(o)&&-1!==e.inArray(o,r)&&delete n[o];return t=e.extend({},this.getDefaults(),n,t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=i(t.template,t.whiteList,t.sanitizeFn)),t},u.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},u.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},u.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},u.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},u.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var n=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(a);l&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(e(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=r[0].offsetWidth,p=r[0].offsetHeight;if(l){var h=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+p>f.bottom?"top":"top"==a&&c.top-p<f.top?"bottom":"right"==a&&c.right+d>f.width?"left":"left"==a&&c.left-d<f.left?"right":a,r.removeClass(h).addClass(a)}var g=this.getCalculatedOffset(a,c,d,p);this.applyPlacement(g,a);var m=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(u.TRANSITION_DURATION):m()}},u.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),p=d?2*u.left-r+l:2*u.top-o+c,h=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][h],d)},u.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},u.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=i(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},u.prototype.hide=function(t){function i(){"in"!=n.hoverState&&r.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,r=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(u.TRANSITION_DURATION):i(),this.hoverState=null,this},u.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},u.prototype.hasContent=function(){return this.getTitle()},u.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&i instanceof window.SVGElement,a=n?{top:0,left:0}:o?null:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},u.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},u.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+n;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+i;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},u.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},u.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},u.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},u.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},u.prototype.enable=function(){this.enabled=!0},u.prototype.disable=function(){this.enabled=!1},u.prototype.toggleEnabled=function(){this.enabled=!this.enabled},u.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},u.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},u.prototype.sanitizeHtml=function(e){return i(e,this.options.whiteList,this.options.sanitizeFn)};var d=e.fn.tooltip;e.fn.tooltip=n,e.fn.tooltip.Constructor=u,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=d,this}}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.4.1",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();if(this.options.html){var n=typeof i
;this.options.sanitize&&(t=this.sanitizeHtml(t),"string"===n&&(i=this.sanitizeHtml(i))),e.find(".popover-title").html(t),e.find(".popover-content").children().detach().end()["string"===n?"html":"append"](i)}else e.find(".popover-title").text(t),e.find(".popover-content").children().detach().end().text(i);e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,o)),"string"==typeof i&&r[i]()})}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.4.1",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(document).find(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=n.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),o="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n);var r=this.options.target===i.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.4.1",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-n)&&"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=i&&r<=i?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i,t,t.document)}:e(jQuery,window,document)}(function(e,t,i,n){"use strict";function r(t){var i,n,o="a aa ai ao as b fn i m o s ",a={};e.each(t,function(e,s){(i=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!==o.indexOf(i[1]+" ")&&(n=e.replace(i[0],i[2].toLowerCase()),a[n]=e,"o"===i[1]&&r(t[e]))}),t._hungarianMap=a}function o(t,i,a){t._hungarianMap||r(t);var s;e.each(i,function(r,l){(s=t._hungarianMap[r])===n||!a&&i[s]!==n||("o"===s.charAt(0)?(i[s]||(i[s]={}),e.extend(!0,i[s],i[r]),o(t[s],i[s],a)):i[s]=i[r])})}function a(e){var t=Ke.defaults.oLanguage,i=t.sDecimal;if(i&&Ue(i),e){var n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Oe(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Oe(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&i!==r&&Ue(r)}}function s(e){ft(e,"ordering","bSort"),ft(e,"orderMulti","bSortMulti"),ft(e,"orderClasses","bSortClasses"),ft(e,"orderCellsTop","bSortCellsTop"),ft(e,"order","aaSorting"),ft(e,"orderFixed","aaSortingFixed"),ft(e,"paging","bPaginate"),ft(e,"pagingType","sPaginationType"),ft(e,"pageLength","iDisplayLength"),ft(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var i=0,n=t.length;i<n;i++)t[i]&&o(Ke.models.oSearch,t[i])}function l(t){ft(t,"orderable","bSortable"),ft(t,"orderData","aDataSort"),ft(t,"orderSequence","asSorting"),ft(t,"orderDataType","sortDataType");var i=t.aDataSort;"number"!=typeof i||e.isArray(i)||(t.aDataSort=[i])}function c(i){if(!Ke.__browser){var n={};Ke.__browser=n;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();n.barWidth=o[0].offsetWidth-o[0].clientWidth,n.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,n.bScrollbarLeft=1!==Math.round(a.offset().left),n.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(i.oBrowser,Ke.__browser),i.oScroll.iBarWidth=Ke.__browser.barWidth}function u(e,t,i,r,o,a){var s,l=r,c=!1;for(i!==n&&(s=i,c=!0);l!==o;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function d(t,n){var r=Ke.defaults.column,o=t.aoColumns.length,a=e.extend({},Ke.models.oColumn,r,{nTh:n||i.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[o]=e.extend({},Ke.models.oSearch,s[o]),p(t,o,e(n).data())}function p(t,i,r){var a=t.aoColumns[i],s=t.oClasses,c=e(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=c.attr("width")||null;var u=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(a.sWidthOrig=u[1])}r!==n&&null!==r&&(l(r),o(Ke.defaults.column,r),r.mDataProp===n||r.mData||(r.mData=r.mDataProp),r.sType&&(a._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&c.addClass(r.sClass),e.extend(a,r),Oe(a,r,"sWidth","sWidthOrig"),r.iDataSort!==n&&(a.aDataSort=[r.iDataSort]),Oe(a,r,"aDataSort"));var d=a.mData,p=D(d),h=a.mRender?D(a.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};a._bAttrSrc=e.isPlainObject(d)&&(f(d.sort)||f(d.type)||f(d.filter)),a._setter=null,a.fnGetData=function(e,t,i){var r=p(e,t,n,i);return h&&t?h(r,t,e,i):r},a.fnSetData=function(e,t,i){return A(d)(e,t,i)},"number"!=typeof d&&(t._rowReadObject=!0),t.oFeatures.bSort||(a.bSortable=!1,c.addClass(s.sSortableNone));var g=-1!==e.inArray("asc",a.asSorting),m=-1!==e.inArray("desc",a.asSorting);a.bSortable&&(g||m)?g&&!m?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&m?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function h(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ve(e);for(var i=0,n=t.length;i<n;i++)t[i].nTh.style.width=t[i].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||ge(e),je(e,null,"column-sizing",[e])}function f(e,t){var i=v(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function g(t,i){var n=v(t,"bVisible"),r=e.inArray(i,n);return-1!==r?r:null}function m(t){var i=0;return e.each(t.aoColumns,function(t,n){n.bVisible&&"none"!==e(n.nTh).css("display")&&i++}),i}function v(t,i){var n=[];return e.map(t.aoColumns,function(e,t){e[i]&&n.push(t)}),n}function y(e){var t,i,r,o,a,s,l,c,u,d=e.aoColumns,p=e.aoData,h=Ke.ext.type.detect;for(t=0,i=d.length;t<i;t++)if(l=d[t],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(a=0,s=p.length;a<s&&(u[a]===n&&(u[a]=C(e,a,t,"type")),(c=h[r](u[a],e))||r===h.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,i,r,o){var a,s,l,c,u,p,h,f=t.aoColumns;if(i)for(a=i.length-1;a>=0;a--){h=i[a];var g=h.targets!==n?h.targets:h.aTargets;for(e.isArray(g)||(g=[g]),l=0,c=g.length;l<c;l++)if("number"==typeof g[l]&&g[l]>=0){for(;f.length<=g[l];)d(t);o(g[l],h)}else if("number"==typeof g[l]&&g[l]<0)o(f.length+g[l],h);else if("string"==typeof g[l])for(u=0,p=f.length;u<p;u++)("_all"==g[l]||e(f[u].nTh).hasClass(g[l]))&&o(u,h)}if(r)for(a=0,s=r.length;a<s;a++)o(a,r[a])}function w(t,i,r,o){var a=t.aoData.length,s=e.extend(!0,{},Ke.models.oRow,{src:r?"dom":"data",idx:a});s._aData=i,t.aoData.push(s);for(var l=t.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;t.aiDisplayMaster.push(a);var d=t.rowIdFn(i);return d!==n&&(t.aIds[d]=s),!r&&t.oFeatures.bDeferRender||R(t,a,r,o),a}function _(t,i){var n;return i instanceof e||(i=e(i)),i.map(function(e,i){return n=O(t,i),w(t,n.data,i,n.cells)})}function x(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function S(t,i,n){return e.inArray(n,t.aoData[i].anCells)}function C(e,t,i,r){var o=e.iDraw,a=e.aoColumns[i],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,r,{settings:e,row:t,col:i});if(c===n)return e.iDrawError!=o&&null===l&&(Pe(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+i,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l||r===n){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function k(e,t,i,n){var r=e.aoColumns[i],o=e.aoData[t]._aData;r.fnSetData(o,n,{settings:e,row:t,col:i})}function T(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function D(t){if(e.isPlainObject(t)){var i={};return e.each(t,function(e,t){t&&(i[e]=D(t))}),function(e,t,r,o){var a=i[t]||i._;return a!==n?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,i,n,r){return t(e,i,n,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){return e[t]};var r=function(t,i,o){var a,s,l,c;if(""!==o)for(var u=T(o),d=0,p=u.length;d<p;d++){if(a=u[d].match(gt),s=u[d].match(mt),a){if(u[d]=u[d].replace(gt,""),""!==u[d]&&(t=t[u[d]]),l=[],u.splice(0,d+1),c=u.join("."),e.isArray(t))for(var h=0,f=t.length;h<f;h++)l.push(r(t[h],i,c));var g=a[0].substring(1,a[0].length-1);t=""===g?l:l.join(g);break}if(s)u[d]=u[d].replace(mt,""),t=t[u[d]]();else{if(null===t||t[u[d]]===n)return n;t=t[u[d]]}}return t};return function(e,i){return r(e,i,t)}}function A(t){if(e.isPlainObject(t))return A(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,i,n){t(e,"set",i,n)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,i){e[t]=i};var i=function(t,r,o){for(var a,s,l,c,u,d=T(o),p=d[d.length-1],h=0,f=d.length-1;h<f;h++){if(s=d[h].match(gt),l=d[h].match(mt),s){if(d[h]=d[h].replace(gt,""),t[d[h]]=[],a=d.slice(),a.splice(0,h+1),u=a.join("."),e.isArray(r))for(var g=0,m=r.length;g<m;g++)c={},i(c,r[g],u),t[d[h]].push(c);else t[d[h]]=r;return}l&&(d[h]=d[h].replace(mt,""),t=t[d[h]](r)),null!==t[d[h]]&&t[d[h]]!==n||(t[d[h]]={}),t=t[d[h]]}p.match(mt)?t=t[p.replace(mt,"")](r):t[p.replace(gt,"")]=r};return function(e,n){return i(e,n,t)}}function E(e){return st(e.aoData,"_aData")}function I(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function $(e,t,i){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&i===n&&e.splice(r,1)}function P(e,t,i,r){var o,a,s=e.aoData[t],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=C(e,t,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var c=s.anCells;if(c)if(r!==n)l(c[r],r);else for(o=0,a=c.length;o<a;o++)l(c[o],o)}else s._aData=O(e,s,r,r===n?n:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=e.aoColumns;if(r!==n)u[r].sType=null;else{for(o=0,a=u.length;o<a;o++)u[o].sType=null;F(e,s)}}function O(t,i,r,o){var a,s,l,c=[],u=i.firstChild,d=0,p=t.aoColumns,h=t._rowReadObject;o=o!==n?o:h?{}:[];var f=function(e,t){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var n=e.substring(i+1);A(e)(o,t.getAttribute(n))}}},g=function(t){if(r===n||r===d)if(s=p[d],l=e.trim(t.innerHTML),s&&s._bAttrSrc){var i=A(s.mData._);i(o,l),f(s.mData.sort,t),f(s.mData.type,t),f(s.mData.filter,t)}else h?(s._setter||(s._setter=A(s.mData)),s._setter(o,l)):o[d]=l;d++};if(u)for(;u;)a=u.nodeName.toUpperCase(),"TD"!=a&&"TH"!=a||(g(u),c.push(u)),u=u.nextSibling;else{c=i.anCells;for(var m=0,v=c.length;m<v;m++)g(c[m])}var y=i.firstChild?i:i.nTr;if(y){var b=y.getAttribute("id");b&&A(t.rowId)(o,b)}return{data:o,cells:c}}function R(t,n,r,o){var a,s,l,c,u,d=t.aoData[n],p=d._aData,h=[];if(null===d.nTr){for(a=r||i.createElement("tr"),d.nTr=a,d.anCells=h,a._DT_RowIndex=n,F(t,d),c=0,u=t.aoColumns.length;c<u;c++)l=t.aoColumns[c],s=r?o[c]:i.createElement(l.sCellType),s._DT_CellIndex={row:n,column:c},h.push(s),r&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=C(t,n,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,C(t,n,c),p,n,c);je(t,"aoRowCreatedCallback",null,[a,p,n,h])}d.nTr.setAttribute("role","row")}function F(t,i){var n=i.nTr,r=i._aData;if(n){var o=t.rowIdFn(r);if(o&&(n.id=o),r.DT_RowClass){var a=r.DT_RowClass.split(" ");i.__rowc=i.__rowc?ht(i.__rowc.concat(a)):a,e(n).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&e(n).attr(r.DT_RowAttr),r.DT_RowData&&e(n).data(r.DT_RowData)}}function L(t){var i,n,r,o,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,u=t.oClasses,d=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(s)),i=0,n=d.length;i<n;i++)a=d[i],r=e(a.nTh).addClass(a.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Te(t,a.nTh,i))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Ne(t,"header")(t,r,a,u);if(c&&z(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var p=t.aoFooter[0];for(i=0,n=p.length;i<n;i++)a=d[i],a.nTf=p[i].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function j(t,i,r){var o,a,s,l,c,u,d,p,h,f=[],g=[],m=t.aoColumns.length;if(i){for(r===n&&(r=!1),o=0,a=i.length;o<a;o++){for(f[o]=i[o].slice(),f[o].nTr=i[o].nTr,s=m-1;s>=0;s--)t.aoColumns[s].bVisible||r||f[o].splice(s,1);g.push([])}for(o=0,a=f.length;o<a;o++){if(d=f[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,l=f[o].length;s<l;s++)if(p=1,h=1,g[o][s]===n){for(d.appendChild(f[o][s].cell),g[o][s]=1;f[o+p]!==n&&f[o][s].cell==f[o+p][s].cell;)g[o+p][s]=1,p++;for(;f[o][s+h]!==n&&f[o][s].cell==f[o][s+h].cell;){for(c=0;c<p;c++)g[o+c][s+h]=1;h++}e(f[o][s].cell).attr("rowspan",p).attr("colspan",h)}}}}function M(t){var i=je(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,i))return void he(t,!1);var r=[],o=0,a=t.asStripeClasses,s=a.length,l=(t.aoOpenRows.length,t.oLanguage),c=t.iInitDisplayStart,u="ssp"==Be(t),d=t.aiDisplay;t.bDrawing=!0,c!==n&&-1!==c&&(t._iDisplayStart=u?c:c>=t.fnRecordsDisplay()?0:c,t.iInitDisplayStart=-1);var p=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,he(t,!1);else if(u){if(!t.bDestroying&&!q(t))return}else t.iDraw++;if(0!==d.length)for(var f=u?0:p,g=u?t.aoData.length:h,v=f;v<g;v++){var y=d[v],b=t.aoData[y];null===b.nTr&&R(t,y);var w=b.nTr;if(0!==s){var _=a[o%s];b._sRowStripe!=_&&(e(w).removeClass(b._sRowStripe).addClass(_),b._sRowStripe=_)}je(t,"aoRowCallback",null,[w,b._aData,o,v,y]),r.push(w),o++}else{var x=l.sZeroRecords;1==t.iDraw&&"ajax"==Be(t)?x=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(x=l.sEmptyTable),r[0]=e("<tr/>",{class:s?a[0]:""}).append(e("<td />",{valign:"top",colSpan:m(t),class:t.oClasses.sRowEmpty}).html(x))[0]}je(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],E(t),p,h,d]),je(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],E(t),p,h,d]);var S=e(t.nTBody);S.children().detach(),S.append(e(r)),je(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function N(e,t){var i=e.oFeatures,n=i.bSort,r=i.bFilter;n&&Se(e),r?Z(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,M(e),e._drawHold=!1}function B(t){var i=t.oClasses,n=e(t.nTable),r=e("<div/>").insertBefore(n),o=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper",class:i.sWrapper+(t.nTFoot?"":" "+i.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,l,c,u,d,p,h=t.sDom.split(""),f=0;f<h.length;f++){if(s=null,"<"==(l=h[f])){if(c=e("<div/>")[0],"'"==(u=h[f+1])||'"'==u){for(d="",p=2;h[f+p]!=u;)d+=h[f+p],p++;if("H"==d?d=i.sJUIHeader:"F"==d&&(d=i.sJUIFooter),-1!=d.indexOf(".")){var g=d.split(".");c.id=g[0].substr(1,g[0].length-1),c.className=g[1]}else"#"==d.charAt(0)?c.id=d.substr(1,d.length-1):c.className=d;f+=p}a.append(c),a=e(c)}else if(">"==l)a=a.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=ce(t);else if("f"==l&&o.bFilter)s=K(t);else if("r"==l&&o.bProcessing)s=pe(t);else if("t"==l)s=fe(t);else if("i"==l&&o.bInfo)s=ne(t);else if("p"==l&&o.bPaginate)s=ue(t);else if(0!==Ke.ext.feature.length)for(var m=Ke.ext.feature,v=0,y=m.length;v<y;v++)if(l==m[v].cFeature){s=m[v].fnInit(t);break}if(s){var b=t.aanFeatures;b[l]||(b[l]=[]),b[l].push(s),a.append(s)}}r.replaceWith(a),t.nHolding=null}function z(t,i){var n,r,o,a,s,l,c,u,d,p,h,f=e(i).children("tr");for(t.splice(0,t.length),o=0,l=f.length;o<l;o++)t.push([]);for(o=0,l=f.length;o<l;o++)for(n=f[o],u=0,r=n.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(d=1*r.getAttribute("colspan"),p=1*r.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,p=p&&0!==p&&1!==p?p:1,c=function(e,t,i){for(var n=e[t];n[i];)i++;return i}(t,o,u),h=1===d,s=0;s<d;s++)for(a=0;a<p;a++)t[o+a][c+s]={cell:r,unique:h},t[o+a].nTr=n;r=r.nextSibling}}function U(e,t,i){var n=[];i||(i=e.aoHeader,t&&(i=[],z(i,t)));for(var r=0,o=i.length;r<o;r++)for(var a=0,s=i[r].length;a<s;a++)!i[r][a].unique||n[a]&&e.bSortCellsTop||(n[a]=i[r][a].cell);return n}function H(t,i,n){if(je(t,"aoServerParams","serverParams",[i]),i&&e.isArray(i)){var r={},o=/(.*?)\[\]$/;e.each(i,function(e,t){var i=t.name.match(o);if(i){var n=i[0];r[n]||(r[n]=[]),r[n].push(t.value)}else r[t.name]=t.value}),i=r}var a,s=t.ajax,l=t.oInstance,c=function(e){je(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(e.isPlainObject(s)&&s.data){a=s.data;var u="function"==typeof a?a(i,t):a;i="function"==typeof a&&u?u:e.extend(!0,i,u),delete s.data}var d={data:i,success:function(e){var i=e.error||e.sError;i&&Pe(t,0,i),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,n,r){var o=je(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==n?Pe(t,0,"Invalid JSON response",1):4===i.readyState&&Pe(t,0,"Ajax error",7)),he(t,!1)}};t.oAjaxData=i,je(t,null,"preXhr",[t,i]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(i,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(d,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(l,i,c,t):(t.jqXHR=e.ajax(e.extend(d,s)),s.data=a)}function q(e){return!e.bAjaxDataGet||(e.iDraw++,he(e,!0),H(e,G(e),function(t){W(e,t)}),!1)}function G(t){var i,n,r,o,a=t.aoColumns,s=a.length,l=t.oFeatures,c=t.oPreviousSearch,u=t.aoPreSearchCols,d=[],p=xe(t),h=t._iDisplayStart,f=!1!==l.bPaginate?t._iDisplayLength:-1,g=function(e,t){d.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",st(a,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",f);var m={draw:t.iDraw,columns:[],order:[],start:h,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(i=0;i<s;i++)r=a[i],o=u[i],n="function"==typeof r.mData?"function":r.mData,m.columns.push({data:n,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+i,n),l.bFilter&&(g("sSearch_"+i,o.sSearch),g("bRegex_"+i,o.bRegex),g("bSearchable_"+i,r.bSearchable)),l.bSort&&g("bSortable_"+i,r.bSortable);l.bFilter&&(g("sSearch",c.sSearch),g("bRegex",c.bRegex)),l.bSort&&(e.each(p,function(e,t){m.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",p.length));var v=Ke.ext.legacy.ajax;return null===v?t.sAjaxSource?d:m:v?d:m}function W(e,t){var i=function(e,i){return t[e]!==n?t[e]:t[i]},r=V(e,t),o=i("sEcho","draw"),a=i("iTotalRecords","recordsTotal"),s=i("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}I(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=r.length;l<c;l++)w(e,r[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,M(e),e._bInitComplete||se(e,t),e.bAjaxDataGet=!0,he(e,!1)}function V(t,i){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==n?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?i.aaData||i[r]:""!==r?D(r)(i):i}function K(t){var n=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=e("<div/>",{id:s.f?null:r+"_filter",class:n.sFilter}).append(e("<label/>").append(c)),d=function(){var e=(s.f,this.value?this.value:"");e!=a.sSearch&&(Z(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,M(t))},p=null!==t.searchDelay?t.searchDelay:"ssp"===Be(t)?400:0,h=e("input",u).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",p?_t(d,p):d).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,n){if(t===n)try{h[0]!==i.activeElement&&h.val(a.sSearch)}catch(e){}}),u[0]}function Z(e,t,i){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex};if(y(e),"ssp"!=Be(e)){X(e,t.sSearch,i,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<o.length;l++)Y(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);Q(e)}else a(t);e.bFiltered=!0,je(e,null,"search",[e])}function Q(t){for(var i,n,r=Ke.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],c=0,u=o.length;c<u;c++)n=o[c],i=t.aoData[n],r[a](t,i._aFilterData,n,i._aData,c)&&l.push(n);o.length=0,e.merge(o,l)}}function Y(e,t,i,n,r,o){if(""!==t){for(var a,s=[],l=e.aiDisplay,c=J(t,n,r,o),u=0;u<l.length;u++)a=e.aoData[l[u]]._aFilterData[i],c.test(a)&&s.push(l[u]);e.aiDisplay=s}}function X(e,t,i,n,r,o){var a,s,l,c=J(t,n,r,o),u=e.oPreviousSearch.sSearch,d=e.aiDisplayMaster,p=[];if(0!==Ke.ext.search.length&&(i=!0),s=ee(e),t.length<=0)e.aiDisplay=d.slice();else{for((s||i||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=d.slice()),a=e.aiDisplay,l=0;l<a.length;l++)c.test(e.aoData[a[l]]._sFilterRow)&&p.push(a[l]);e.aiDisplay=p}}function J(t,i,n,r){if(t=i?t:vt(t),n){t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}function ee(e){var t,i,n,r,o,a,s,l,c=e.aoColumns,u=Ke.ext.type.search,d=!1;for(i=0,r=e.aoData.length;i<r;i++)if(l=e.aoData[i],!l._aFilterData){for(a=[],n=0,o=c.length;n<o;n++)t=c[n],t.bSearchable?(s=C(e,i,n,"filter"),u[t.sType]&&(s=u[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(yt.innerHTML=s,s=bt?yt.textContent:yt.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),d=!0}return d}function te(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ie(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ne(t){var i=t.sTableId,n=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:n?null:i+"_info"});return n||(t.aoDrawCallback.push({fn:re,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",i+"_info")),r[0]}function re(t){var i=t.aanFeatures.i;if(0!==i.length){var n=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?n.sInfo:n.sInfoEmpty;s!==a&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=oe(t,l);var c=n.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,r,o,a,s,l)),e(i).html(l)}}function oe(e,t){var i=e.fnFormatNumber,n=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,i.call(e,n)).replace(/_END_/g,i.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,i.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(e,o)).replace(/_PAGE_/g,i.call(e,a?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(e,a?1:Math.ceil(o/r)))}function ae(e){var t,i,n,r=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(!e.bInitialised)return void setTimeout(function(){ae(e)},200);for(B(e),L(e),j(e,e.aoHeader),j(e,e.aoFooter),he(e,!0),a.bAutoWidth&&ve(e),t=0,i=o.length;t<i;t++)n=o[t],n.sWidth&&(n.nTh.style.width=_e(n.sWidth));je(e,null,"preInit",[e]),N(e);var l=Be(e);("ssp"!=l||s)&&("ajax"==l?H(e,[],function(i){var n=V(e,i);for(t=0;t<n.length;t++)w(e,n[t]);e.iInitDisplayStart=r,N(e),he(e,!1),se(e,i)},e):(he(e,!1),se(e)))}function se(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&h(e),je(e,null,"plugin-init",[e,t]),je(e,"aoInitComplete","init",[e,t])}function le(e,t){var i=parseInt(t,10);e._iDisplayLength=i,Me(e),je(e,null,"length",[e,i])}function ce(t){for(var i=t.oClasses,n=t.sTableId,r=t.aLengthMenu,o=e.isArray(r[0]),a=o?r[0]:r,s=o?r[1]:r,l=e("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect}),c=0,u=a.length;c<u;c++)l[0][c]=new Option("number"==typeof s[c]?t.fnFormatNumber(s[c]):s[c],a[c]);var d=e("<div><label/></div>").addClass(i.sLength);return t.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",d).val(t._iDisplayLength).on("change.DT",function(i){le(t,e(this).val()),M(t)}),e(t.nTable).on("length.dt.DT",function(i,n,r){t===n&&e("select",d).val(r)}),d[0]}function ue(t){var i=t.sPaginationType,n=Ke.ext.pager[i],r="function"==typeof n,o=function(e){M(e)},a=e("<div/>").addClass(t.oClasses.sPaging+i)[0],s=t.aanFeatures;return r||n.fnInit(t,a,o),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,i,a=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(a/l),p=u?1:Math.ceil(c/l),h=n(d,p);for(t=0,i=s.p.length;t<i;t++)Ne(e,"pageButton")(e,s.p[t],t,h,d,p)}else n.fnUpdate(e,o)},sName:"pagination"})),a}function de(e,t,i){var n=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay()
;0===o||-1===r?n=0:"number"==typeof t?(n=t*r)>o&&(n=0):"first"==t?n=0:"previous"==t?(n=r>=0?n-r:0)<0&&(n=0):"next"==t?n+r<o&&(n+=r):"last"==t?n=Math.floor((o-1)/r)*r:Pe(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==n;return e._iDisplayStart=n,a&&(je(e,null,"page",[e]),i&&M(e)),a}function pe(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function he(t,i){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",i?"block":"none"),je(t,null,"processing",[t,i])}function fe(t){var i=e(t.nTable);i.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var r=n.sX,o=n.sY,a=t.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,c=e(i[0].cloneNode(!1)),u=e(i[0].cloneNode(!1)),d=i.children("tfoot"),p="<div/>",h=function(e){return e?_e(e):null};d.length||(d=null);var f=e(p,{class:a.sScrollWrapper}).append(e(p,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?h(r):"100%"}).append(e(p,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(e(p,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:h(r)}).append(i));d&&f.append(e(p,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?h(r):"100%"}).append(e(p,{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var g=f.children(),m=g[0],v=g[1],y=d?g[2]:null;return r&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t,d&&(y.scrollLeft=t)}),e(v).css(o&&n.bCollapse?"max-height":"height",o),t.nScrollHead=m,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:ge,sName:"scrolling"}),f[0]}function ge(t){var i,r,o,a,s,l,c,u,d,p=t.oScroll,g=p.sX,m=p.sXInner,v=p.sY,y=p.iBarWidth,b=e(t.nScrollHead),w=b[0].style,_=b.children("div"),x=_[0].style,S=_.children("table"),C=t.nScrollBody,k=e(C),T=C.style,D=e(t.nScrollFoot),A=D.children("div"),E=A.children("table"),I=e(t.nTHead),$=e(t.nTable),P=$[0],O=P.style,R=t.nTFoot?e(t.nTFoot):null,F=t.oBrowser,L=F.bScrollOversize,j=st(t.aoColumns,"nTh"),M=[],N=[],B=[],z=[],H=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},q=C.scrollHeight>C.clientHeight;if(t.scrollBarVis!==q&&t.scrollBarVis!==n)return t.scrollBarVis=q,void h(t);t.scrollBarVis=q,$.children("thead, tfoot").remove(),R&&(l=R.clone().prependTo($),r=R.find("tr"),a=l.find("tr")),s=I.clone().prependTo($),i=I.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),g||(T.width="100%",b[0].style.width="100%"),e.each(U(t,s),function(e,i){c=f(t,e),i.style.width=t.aoColumns[c].sWidth}),R&&me(function(e){e.style.width=""},a),d=$.outerWidth(),""===g?(O.width="100%",L&&($.find("tbody").height()>C.offsetHeight||"scroll"==k.css("overflow-y"))&&(O.width=_e($.outerWidth()-y)),d=$.outerWidth()):""!==m&&(O.width=_e(m),d=$.outerWidth()),me(H,o),me(function(t){B.push(t.innerHTML),M.push(_e(e(t).css("width")))},o),me(function(t,i){-1!==e.inArray(t,j)&&(t.style.width=M[i])},i),e(o).height(0),R&&(me(H,a),me(function(t){z.push(t.innerHTML),N.push(_e(e(t).css("width")))},a),me(function(e,t){e.style.width=N[t]},r),e(a).height(0)),me(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+B[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=M[t]},o),R&&me(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+z[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=N[t]},a),$.outerWidth()<d?(u=C.scrollHeight>C.offsetHeight||"scroll"==k.css("overflow-y")?d+y:d,L&&(C.scrollHeight>C.offsetHeight||"scroll"==k.css("overflow-y"))&&(O.width=_e(u-y)),""!==g&&""===m||Pe(t,1,"Possible column misalignment",6)):u="100%",T.width=_e(u),w.width=_e(u),R&&(t.nScrollFoot.style.width=_e(u)),v||L&&(T.height=_e(P.offsetHeight+y));var G=$.outerWidth();S[0].style.width=_e(G),x.width=_e(G);var W=$.height()>C.clientHeight||"scroll"==k.css("overflow-y"),V="padding"+(F.bScrollbarLeft?"Left":"Right");x[V]=W?y+"px":"0px",R&&(E[0].style.width=_e(G),A[0].style.width=_e(G),A[0].style[V]=W?y+"px":"0px"),$.children("colgroup").insertBefore($.children("thead")),k.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(C.scrollTop=0)}function me(e,t,i){for(var n,r,o=0,a=0,s=t.length;a<s;){for(n=t[a].firstChild,r=i?i[a].firstChild:null;n;)1===n.nodeType&&(i?e(n,r,o):e(n,o),o++),n=n.nextSibling,r=i?r.nextSibling:null;a++}}function ve(i){var n,r,o,a=i.nTable,s=i.aoColumns,l=i.oScroll,c=l.sY,u=l.sX,d=l.sXInner,p=s.length,g=v(i,"bVisible"),y=e("th",i.nTHead),b=a.getAttribute("width"),w=a.parentNode,_=!1,x=i.oBrowser,S=x.bScrollOversize,C=a.style.width;for(C&&-1!==C.indexOf("%")&&(b=C),n=0;n<g.length;n++)r=s[g[n]],null!==r.sWidth&&(r.sWidth=ye(r.sWidthOrig,w),_=!0);if(S||!_&&!u&&!c&&p==m(i)&&p==y.length)for(n=0;n<p;n++){var k=f(i,n);null!==k&&(s[k].sWidth=_e(y.eq(n).width()))}else{var T=e(a).clone().css("visibility","hidden").removeAttr("id");T.find("tbody tr").remove();var D=e("<tr/>").appendTo(T.find("tbody"));for(T.find("thead, tfoot").remove(),T.append(e(i.nTHead).clone()).append(e(i.nTFoot).clone()),T.find("tfoot th, tfoot td").css("width",""),y=U(i,T.find("thead")[0]),n=0;n<g.length;n++)r=s[g[n]],y[n].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?_e(r.sWidthOrig):"",r.sWidthOrig&&u&&e(y[n]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<g.length;n++)o=g[n],r=s[o],e(be(i,o)).clone(!1).append(r.sContentPadding).appendTo(D);e("[name]",T).removeAttr("name");var A=e("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(T).appendTo(w);u&&d?T.width(d):u?(T.css("width","auto"),T.removeAttr("width"),T.width()<w.clientWidth&&b&&T.width(w.clientWidth)):c?T.width(w.clientWidth):b&&T.width(b);var E=0;for(n=0;n<g.length;n++){var I=e(y[n]),$=I.outerWidth()-I.width(),P=x.bBounding?Math.ceil(y[n].getBoundingClientRect().width):I.outerWidth();E+=P,s[g[n]].sWidth=_e(P-$)}a.style.width=_e(E),A.remove()}if(b&&(a.style.width=_e(b)),(b||u)&&!i._reszEvt){var O=function(){e(t).on("resize.DT-"+i.sInstance,_t(function(){h(i)}))};S?setTimeout(O,1e3):O(),i._reszEvt=!0}}function ye(t,n){if(!t)return 0;var r=e("<div/>").css("width",_e(t)).appendTo(n||i.body),o=r[0].offsetWidth;return r.remove(),o}function be(t,i){var n=we(t,i);if(n<0)return null;var r=t.aoData[n];return r.nTr?r.anCells[i]:e("<td/>").html(C(t,n,i,"display"))[0]}function we(e,t){for(var i,n=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)i=C(e,o,t,"display")+"",i=i.replace(wt,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,r=o);return r}function _e(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function xe(t){var i,r,o,a,s,l,c,u=[],d=t.aoColumns,p=t.aaSortingFixed,h=e.isPlainObject(p),f=[],g=function(t){t.length&&!e.isArray(t[0])?f.push(t):e.merge(f,t)};for(e.isArray(p)&&g(p),h&&p.pre&&g(p.pre),g(t.aaSorting),h&&p.post&&g(p.post),i=0;i<f.length;i++)for(c=f[i][0],a=d[c].aDataSort,r=0,o=a.length;r<o;r++)s=a[r],l=d[s].sType||"string",f[i]._idx===n&&(f[i]._idx=e.inArray(f[i][1],d[s].asSorting)),u.push({src:c,col:s,dir:f[i][1],index:f[i]._idx,type:l,formatter:Ke.ext.type.order[l+"-pre"]});return u}function Se(e){var t,i,n,r,o,a=[],s=Ke.ext.type.order,l=e.aoData,c=(e.aoColumns,0),u=e.aiDisplayMaster;for(y(e),o=xe(e),t=0,i=o.length;t<i;t++)r=o[t],r.formatter&&c++,Ae(e,r.col);if("ssp"!=Be(e)&&0!==o.length){for(t=0,n=u.length;t<n;t++)a[u[t]]=t;c===o.length?u.sort(function(e,t){var i,n,r,s,c,u=o.length,d=l[e]._aSortData,p=l[t]._aSortData;for(r=0;r<u;r++)if(c=o[r],i=d[c.col],n=p[c.col],0!==(s=i<n?-1:i>n?1:0))return"asc"===c.dir?s:-s;return i=a[e],n=a[t],i<n?-1:i>n?1:0}):u.sort(function(e,t){var i,n,r,c,u,d,p=o.length,h=l[e]._aSortData,f=l[t]._aSortData;for(r=0;r<p;r++)if(u=o[r],i=h[u.col],n=f[u.col],d=s[u.type+"-"+u.dir]||s["string-"+u.dir],0!==(c=d(i,n)))return c;return i=a[e],n=a[t],i<n?-1:i>n?1:0})}e.bSorted=!0}function Ce(e){for(var t,i,n=e.aoColumns,r=xe(e),o=e.oLanguage.oAria,a=0,s=n.length;a<s;a++){var l=n[a],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==a?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=c[r[0].index+1]||c[0]):i=c[0],t=u+("asc"===i?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function ke(t,i,r,o){var a,s=t.aoColumns[i],l=t.aaSorting,c=s.asSorting,u=function(t,i){var r=t._idx;return r===n&&(r=e.inArray(t[1],c)),r+1<c.length?r+1:i?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),r&&t.oFeatures.bSortMulti){var d=e.inArray(i,st(l,"0"));-1!==d?(a=u(l[d],!0),null===a&&1===l.length&&(a=0),null===a?l.splice(d,1):(l[d][1]=c[a],l[d]._idx=a)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(a=u(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);N(t),"function"==typeof o&&o(t)}function Te(e,t,i,n){var r=e.aoColumns[i];Fe(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(he(e,!0),setTimeout(function(){ke(e,i,t.shiftKey,n),"ssp"!==Be(e)&&he(e,!1)},0)):ke(e,i,t.shiftKey,n))})}function De(t){var i,n,r,o=t.aLastSort,a=t.oClasses.sSortColumn,s=xe(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=o.length;i<n;i++)r=o[i].src,e(st(t.aoData,"anCells",r)).removeClass(a+(i<2?i+1:3));for(i=0,n=s.length;i<n;i++)r=s[i].src,e(st(t.aoData,"anCells",r)).addClass(a+(i<2?i+1:3))}t.aLastSort=s}function Ae(e,t){var i,n=e.aoColumns[t],r=Ke.ext.order[n.sSortDataType];r&&(i=r.call(e.oInstance,e,t,g(e,t)));for(var o,a,s=Ke.ext.type.order[n.sType+"-pre"],l=0,c=e.aoData.length;l<c;l++)o=e.aoData[l],o._aSortData||(o._aSortData=[]),o._aSortData[t]&&!r||(a=r?i[l]:C(e,l,t,"sort"),o._aSortData[t]=s?s(a):a)}function Ee(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:te(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,i){return{visible:e.bVisible,search:te(t.aoPreSearchCols[i])}})};je(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.oSavedState=i,t.fnStateSaveCallback.call(t.oInstance,t,i)}}function Ie(t,i,r){var o,a,s=t.aoColumns,l=function(i){if(!i||!i.time)return void r();var l=je(t,"aoStateLoadParams","stateLoadParams",[t,i]);if(-1!==e.inArray(!1,l))return void r();var c=t.iStateDuration;if(c>0&&i.time<+new Date-1e3*c)return void r();if(i.columns&&s.length!==i.columns.length)return void r();if(t.oLoadedState=e.extend(!0,{},i),i.start!==n&&(t._iDisplayStart=i.start,t.iInitDisplayStart=i.start),i.length!==n&&(t._iDisplayLength=i.length),i.order!==n&&(t.aaSorting=[],e.each(i.order,function(e,i){t.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)})),i.search!==n&&e.extend(t.oPreviousSearch,ie(i.search)),i.columns)for(o=0,a=i.columns.length;o<a;o++){var u=i.columns[o];u.visible!==n&&(s[o].bVisible=u.visible),u.search!==n&&e.extend(t.aoPreSearchCols[o],ie(u.search))}je(t,"aoStateLoaded","stateLoaded",[t,i]),r()};if(!t.oFeatures.bStateSave)return void r();var c=t.fnStateLoadCallback.call(t.oInstance,t,l);c!==n&&l(c)}function $e(t){var i=Ke.settings,n=e.inArray(t,st(i,"nTable"));return-1!==n?i[n]:null}function Pe(e,i,n,r){if(n="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+n,r&&(n+=". For more information about this error, please see http://datatables.net/tn/"+r),i)t.console&&console.log&&console.log(n);else{var o=Ke.ext,a=o.sErrMode||o.errMode;if(e&&je(e,null,"error",[e,r,n]),"alert"==a)alert(n);else{if("throw"==a)throw new Error(n);"function"==typeof a&&a(e,r,n)}}}function Oe(t,i,r,o){if(e.isArray(r))return void e.each(r,function(n,r){e.isArray(r)?Oe(t,i,r[0],r[1]):Oe(t,i,r)});o===n&&(o=r),i[r]!==n&&(t[o]=i[r])}function Re(t,i,n){var r;for(var o in i)i.hasOwnProperty(o)&&(r=i[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):n&&"data"!==o&&"aaData"!==o&&e.isArray(r)?t[o]=r.slice():t[o]=r);return t}function Fe(t,i,n){e(t).on("click.DT",i,function(i){e(t).blur(),n(i)}).on("keypress.DT",i,function(e){13===e.which&&(e.preventDefault(),n(e))}).on("selectstart.DT",function(){return!1})}function Le(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function je(t,i,n,r){var o=[];if(i&&(o=e.map(t[i].slice().reverse(),function(e,i){return e.fn.apply(t.oInstance,r)})),null!==n){var a=e.Event(n+".dt");e(t.nTable).trigger(a,r),o.push(a.result)}return o}function Me(e){var t=e._iDisplayStart,i=e.fnDisplayEnd(),n=e._iDisplayLength;t>=i&&(t=i-n),t-=t%n,(-1===n||t<0)&&(t=0),e._iDisplayStart=t}function Ne(t,i){var n=t.renderer,r=Ke.ext.renderer[i];return e.isPlainObject(n)&&n[i]?r[n[i]]||r._:"string"==typeof n?r[n]||r._:r._}function Be(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function ze(e,t){var i=[],n=zt.numbers_length,r=Math.floor(n/2);return t<=n?i=ct(0,t):e<=r?(i=ct(0,n-2),i.push("ellipsis"),i.push(t-1)):e>=t-1-r?(i=ct(t-(n-2),t),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ct(e-r+2,e+r-1),i.push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Ue(t){e.each({num:function(e){return Ut(e,t)},"num-fmt":function(e){return Ut(e,t,et)},"html-num":function(e){return Ut(e,t,Ye)},"html-num-fmt":function(e){return Ut(e,t,Ye,et)}},function(e,i){qe.type.order[e+t+"-pre"]=i,e.match(/^html\-/)&&(qe.type.search[e+t]=qe.type.search.html)})}function He(e){return function(){var t=[$e(this[Ke.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ke.ext.internal[e].apply(this,t)}}var qe,Ge,We,Ve,Ke=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ge(e?$e(this[qe.iApiIndex]):this)},this.fnAddData=function(t,i){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(i===n||i)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],r=i.oScroll;e===n||e?t.draw(!1):""===r.sX&&""===r.sY||ge(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var r=this.api(!0),o=r.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(i===n||i)&&r.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,i,r,o,a){var s=this.api(!0);null===t||t===n?s.search(e,i,r,a):s.column(t).search(e,i,r,a),s.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==r||"th"==r?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),i=e.nodeName.toUpperCase();if("TR"==i)return t.row(e).index();if("TD"==i||"TH"==i){var n=t.cell(e).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,i){return this.api(!0).row(e).child(t,i).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){var r=this.api(!0).column(e).visible(t);(i===n||i)&&r.columns.adjust().draw()},this.fnSettings=function(){return $e(this[qe.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,i){this.api(!0).order.listener(e,t,i)},this.fnUpdate=function(e,t,i,r,o){var a=this.api(!0);return i===n||null===i?a.row(t).data(e):a.cell(t,i).data(e),(o===n||o)&&a.columns.adjust(),(r===n||r)&&a.draw(),0},this.fnVersionCheck=qe.fnVersionCheck;var i=this,r=t===n,u=this.length;r&&(t={}),this.oApi=this.internal=qe.internal;for(var h in Ke.ext.internal)h&&(this[h]=He(h));return this.each(function(){var h,f={},g=u>1?Re(f,t,!0):t,m=0,v=this.getAttribute("id"),y=!1,x=Ke.defaults,S=e(this);if("table"!=this.nodeName.toLowerCase())return void Pe(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(x),l(x.column),o(x,x,!0),o(x.column,x.column,!0),o(x,e.extend(g,S.data()));var C=Ke.settings;for(m=0,h=C.length;m<h;m++){var k=C[m];if(k.nTable==this||k.nTHead&&k.nTHead.parentNode==this||k.nTFoot&&k.nTFoot.parentNode==this){var T=g.bRetrieve!==n?g.bRetrieve:x.bRetrieve,A=g.bDestroy!==n?g.bDestroy:x.bDestroy;if(r||T)return k.oInstance;if(A){k.oInstance.fnDestroy();break}return void Pe(k,0,"Cannot reinitialise DataTable",3)}if(k.sTableId==this.id){C.splice(m,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Ke.ext._unique++,this.id=v);var E=e.extend(!0,{},Ke.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:v,sTableId:v});E.nTable=this,E.oApi=i.internal,E.oInit=g,C.push(E),E.oInstance=1===i.length?i:S.dataTable(),s(g),a(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=e.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Re(e.extend(!0,{},x),g),Oe(E.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Oe(E,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Oe(E.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Oe(E.oLanguage,g,"fnInfoCallback"),Le(E,"aoDrawCallback",g.fnDrawCallback,"user"),Le(E,"aoServerParams",g.fnServerParams,"user"),Le(E,"aoStateSaveParams",g.fnStateSaveParams,"user"),Le(E,"aoStateLoadParams",g.fnStateLoadParams,"user"),Le(E,"aoStateLoaded",g.fnStateLoaded,"user"),Le(E,"aoRowCallback",g.fnRowCallback,"user"),Le(E,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Le(E,"aoHeaderCallback",g.fnHeaderCallback,"user"),Le(E,"aoFooterCallback",g.fnFooterCallback,"user"),Le(E,"aoInitComplete",g.fnInitComplete,"user"),Le(E,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),E.rowIdFn=D(g.rowId),c(E);var I=E.oClasses;if(e.extend(I,Ke.ext.classes,g.oClasses),S.addClass(I.sTable),E.iInitDisplayStart===n&&(E.iInitDisplayStart=g.iDisplayStart,E._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){E.bDeferLoading=!0;var $=e.isArray(g.iDeferLoading);E._iRecordsDisplay=$?g.iDeferLoading[0]:g.iDeferLoading,E._iRecordsTotal=$?g.iDeferLoading[1]:g.iDeferLoading}var P=E.oLanguage;e.extend(!0,P,g.oLanguage),P.sUrl&&(e.ajax({dataType:"json",url:P.sUrl,success:function(t){a(t),o(x.oLanguage,t),e.extend(!0,P,t),ae(E)},error:function(){ae(E)}}),y=!0),null===g.asStripeClasses&&(E.asStripeClasses=[I.sStripeOdd,I.sStripeEven]);var O=E.asStripeClasses,R=S.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(O,function(e,t){return R.hasClass(e)}))&&(e("tbody tr",this).removeClass(O.join(" ")),E.asDestroyStripes=O.slice());var F,L=[],j=this.getElementsByTagName("thead");if(0!==j.length&&(z(E.aoHeader,j[0]),L=U(E)),null===g.aoColumns)for(F=[],m=0,h=L.length;m<h;m++)F.push(null);else F=g.aoColumns;for(m=0,h=F.length;m<h;m++)d(E,L?L[m]:null);if(b(E,g.aoColumnDefs,F,function(e,t){p(E,e,t)}),R.length){var M=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(R[0]).children("th, td").each(function(e,t){var i=E.aoColumns[e];if(i.mData===e){var r=M(t,"sort")||M(t,"order"),o=M(t,"filter")||M(t,"search");null===r&&null===o||(i.mData={_:e+".display",sort:null!==r?e+".@data-"+r:n,type:null!==r?e+".@data-"+r:n,filter:null!==o?e+".@data-"+o:n},p(E,e))}})}var N=E.oFeatures,B=function(){if(g.aaSorting===n){var t=E.aaSorting;for(m=0,h=t.length;m<h;m++)t[m][1]=E.aoColumns[m].asSorting[0]}De(E),N.bSort&&Le(E,"aoDrawCallback",function(){if(E.bSorted){var t=xe(E),i={};e.each(t,function(e,t){i[t.src]=t.dir}),je(E,null,"order",[E,t,i]),Ce(E)}}),Le(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===Be(E)||N.bDeferRender)&&De(E)},"sc");var i=S.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),r=S.children("thead");0===r.length&&(r=e("<thead/>").appendTo(S)),E.nTHead=r[0];var o=S.children("tbody");0===o.length&&(o=e("<tbody/>").appendTo(S)),E.nTBody=o[0];var a=S.children("tfoot");if(0===a.length&&i.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(a=e("<tfoot/>").appendTo(S)),0===a.length||0===a.children().length?S.addClass(I.sNoFooter):a.length>0&&(E.nTFoot=a[0],z(E.aoFooter,E.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)w(E,g.aaData[m]);else(E.bDeferLoading||"dom"==Be(E))&&_(E,e(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,!1===y&&ae(E)};g.bStateSave?(N.bStateSave=!0,Le(E,"aoDrawCallback",Ee,"state_save"),Ie(E,g,B)):B()}),i=null,this},Ze={},Qe=/[\r\n]/g,Ye=/<.*?>/g,Xe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),et=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,tt=function(e){return!e||!0===e||"-"===e},it=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},nt=function(e,t){return Ze[t]||(Ze[t]=new RegExp(vt(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ze[t],"."):e},rt=function(e,t,i){var n="string"==typeof e;return!!tt(e)||(t&&n&&(e=nt(e,t)),i&&n&&(e=e.replace(et,"")),!isNaN(parseFloat(e))&&isFinite(e))},ot=function(e){return tt(e)||"string"==typeof e},at=function(e,t,i){return!!tt(e)||(ot(e)?!!rt(dt(e),t,i)||null:null)},st=function(e,t,i){var r=[],o=0,a=e.length;if(i!==n)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][i]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},lt=function(e,t,i,r){var o=[],a=0,s=t.length;if(r!==n)for(;a<s;a++)e[t[a]][i]&&o.push(e[t[a]][i][r]);else for(;a<s;a++)o.push(e[t[a]][i]);return o},ct=function(e,t){var i,r=[];t===n?(t=0,i=e):(i=t,t=e);for(var o=t;o<i;o++)r.push(o);return r},ut=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&t.push(e[i]);return t},dt=function(e){return e.replace(Ye,"")},pt=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),i=t[0],n=1,r=t.length;n<r;n++){if(t[n]===i)return!1;i=t[n]}return!0},ht=function(e){if(pt(e))return e.slice();var t,i,n,r=[],o=e.length,a=0;e:for(i=0;i<o;i++){for(t=e[i],n=0;n<a;n++)if(r[n]===t)continue e;r.push(t),a++}return r};Ke.util={throttle:function(e,t){var i,r,o=t!==n?t:200;return function(){var t=this,a=+new Date,s=arguments;i&&a<i+o?(clearTimeout(r),r=setTimeout(function(){i=n,e.apply(t,s)},o)):(i=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var ft=function(e,t,i){e[t]!==n&&(e[i]=e[t])},gt=/\[.*?\]$/,mt=/\(\)$/,vt=Ke.util.escapeRegex,yt=e("<div>")[0],bt=yt.textContent!==n,wt=/<.*?>/g,_t=Ke.util.throttle,xt=[],St=Array.prototype,Ct=function(t){var i,n,r=Ke.settings,o=e.map(r,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(i=e.inArray(t,o),-1!==i?[r[i]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=e(t):t instanceof e&&(n=t),n?n.map(function(t){return i=e.inArray(this,o),-1!==i?r[i]:null}).toArray():void 0):[]};Ge=function(t,i){if(!(this instanceof Ge))return new Ge(t,i);var n=[],r=function(e){var t=Ct(e);t&&(n=n.concat(t))};if(e.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=ht(n),i&&e.merge(this,i),this.selector={rows:null,cols:null,opts:null},Ge.extend(this,this,xt)},Ke.Api=Ge,e.extend(Ge.prototype,{any:function(){return 0!==this.count()},concat:St.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,i=this.length;t<i;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ge(t[e],this[e]):null},filter:function(e){var t=[];if(St.filter)t=St.filter.call(this,e,this);else for(var i=0,n=this.length;i<n;i++)e.call(this,this[i],i,this)&&t.push(this[i]);return new Ge(this.context,t)},flatten:function(){var e=[];return new Ge(this.context,e.concat.apply(e,this.toArray()))},join:St.join,indexOf:St.indexOf||function(e,t){for(var i=t||0,n=this.length;i<n;i++)if(this[i]===e)return i;return-1},iterator:function(e,t,i,r){var o,a,s,l,c,u,d,p,h=[],f=this.context,g=this.selector;for("string"==typeof e&&(r=i,i=t,t=e,e=!1),a=0,s=f.length;a<s;a++){var m=new Ge(f[a]);if("table"===t)(o=i.call(m,f[a],a))!==n&&h.push(o);else if("columns"===t||"rows"===t)(o=i.call(m,f[a],this[a],a))!==n&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[a],"column-rows"===t&&(u=It(f[a],g.opts)),l=0,c=d.length;l<c;l++)p=d[l],(o="cell"===t?i.call(m,f[a],p.row,p.column,a,l):i.call(m,f[a],p,a,l,u))!==n&&h.push(o)}if(h.length||r){var v=new Ge(f,e?h.concat.apply([],h):h),y=v.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,v}return this},lastIndexOf:St.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(St.map)t=St.map.call(this,e,this);else for(var i=0,n=this.length;i<n;i++)t.push(e.call(this,this[i],i));return new Ge(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:St.pop,push:St.push,reduce:St.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:St.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:St.reverse,selector:null,shift:St.shift,slice:function(){return new Ge(this.context,this)},sort:St.sort,splice:St.splice,toArray:function(){return St.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Ge(this.context,ht(this))},unshift:St.unshift}),Ge.extend=function(t,i,n){if(n.length&&i&&(i instanceof Ge||i.__dt_wrapper)){var r,o,a;for(r=0,o=n.length;r<o;r++)a=n[r],i[a.name]="function"==typeof a.val?function(e,t,i){return function(){var n=t.apply(e,arguments);return Ge.extend(n,n,i.methodExt),n}}(t,a.val,a):e.isPlainObject(a.val)?{}:a.val,i[a.name].__dt_wrapper=!0,Ge.extend(t,i[a.name],a.propExt)}},Ge.register=We=function(t,i){if(e.isArray(t))for(var n=0,r=t.length;n<r;n++)Ge.register(t[n],i);else{var o,a,s,l,c=t.split("."),u=xt;for(o=0,a=c.length;o<a;o++){l=-1!==c[o].indexOf("()"),s=l?c[o].replace("()",""):c[o];var d=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i].name===t)return e[i];return null}(u,s);d||(d={name:s,val:{},methodExt:[],propExt:[]},u.push(d)),o===a-1?d.val=i:u=l?d.methodExt:d.propExt}}},Ge.registerPlural=Ve=function(t,i,r){Ge.register(t,r),Ge.register(i,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof Ge?t.length?e.isArray(t[0])?new Ge(t.context,t[0]):t[0]:n:t})};var kt=function(t,i){if("number"==typeof t)return[i[t]];var n=e.map(i,function(e,t){return e.nTable});return e(n).filter(t).map(function(t){var r=e.inArray(this,n);return i[r]}).toArray()};We("tables()",function(e){return e?new Ge(kt(e,this.context)):this}),We("table()",function(e){var t=this.tables(e),i=t.context;return i.length?new Ge(i[0]):t}),Ve("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Ve("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Ve("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Ve("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Ve("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),We("draw()",function(e){return this.iterator("table",function(t){"page"===e?M(t):("string"==typeof e&&(e="full-hold"!==e),N(t,!1===e))})}),We("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){de(t,e)})}),We("page.info()",function(e){if(0===this.context.length)return n;var t=this.context[0],i=t._iDisplayStart,r=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),a=-1===r;return{page:a?0:Math.floor(i/r),pages:a?1:Math.ceil(o/r),start:i,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Be(t)}}),We("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){le(t,e)})});var Tt=function(e,t,i){if(i){var n=new Ge(e);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==Be(e))N(e,t);else{he(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),H(e,[],function(i){I(e);for(var n=V(e,i),r=0,o=n.length;r<o;r++)w(e,n[r]);N(e,t),he(e,!1)})}};We("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),We("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),We("ajax.reload()",function(e,t){return this.iterator("table",function(i){Tt(i,!1===t,e)})}),We("ajax.url()",function(t){var i=this.context;return t===n?0===i.length?n:(i=i[0],i.ajax?e.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){e.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})}),We("ajax.url().load()",function(e,t){return this.iterator("table",function(i){Tt(i,!1===t,e)})});var Dt=function(t,i,r,o,a){var s,l,c,u,d,p,h=[],f=typeof i;for(i&&"string"!==f&&"function"!==f&&i.length!==n||(i=[i]),c=0,u=i.length;c<u;c++)for(l=i[c]&&i[c].split&&!i[c].match(/[\[\(:]/)?i[c].split(","):[i[c]],d=0,p=l.length;d<p;d++)(s=r("string"==typeof l[d]?e.trim(l[d]):l[d]))&&s.length&&(h=h.concat(s));var g=qe.selector[t];if(g.length)for(c=0,u=g.length;c<u;c++)h=g[c](o,a,h);return ht(h)},At=function(t){return t||(t={}),t.filter&&t.search===n&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Et=function(e){for(var t=0,i=e.length;t<i;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},It=function(t,i){var n,r,o,a=[],s=t.aiDisplay,l=t.aiDisplayMaster,c=i.search,u=i.order,d=i.page;if("ssp"==Be(t))return"removed"===c?[]:ct(0,l.length);if("current"==d)for(n=t._iDisplayStart,r=t.fnDisplayEnd();n<r;n++)a.push(s[n]);else if("current"==u||"applied"==u){if("none"==c)a=l.slice();else if("applied"==c)a=s.slice();else if("removed"==c){for(var p={},n=0,r=s.length;n<r;n++)p[s[n]]=null;a=e.map(l,function(e){return p.hasOwnProperty(e)?null:e})}}else if("index"==u||"original"==u)for(n=0,r=t.aoData.length;n<r;n++)"none"==c?a.push(n):(-1===(o=e.inArray(n,s))&&"removed"==c||o>=0&&"applied"==c)&&a.push(n);return a},$t=function(t,i,r){var o;return Dt("row",i,function(i){var a=it(i),s=t.aoData;if(null!==a&&!r)return[a];if(o||(o=It(t,r)),null!==a&&-1!==e.inArray(a,o))return[a];if(null===i||i===n||""===i)return o;if("function"==typeof i)return e.map(o,function(e){var t=s[e];return i(e,t._aData,t.nTr)?e:null});if(i.nodeName){var l=i._DT_RowIndex,c=i._DT_CellIndex;if(l!==n)return s[l]&&s[l].nTr===i?[l]:[];if(c)return s[c.row]&&s[c.row].nTr===i?[c.row]:[];var u=e(i).closest("*[data-dt-row]");return u.length?[u.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var d=t.aIds[i.replace(/^#/,"")];if(d!==n)return[d.idx]}var p=ut(lt(t.aoData,o,"nTr"));return e(p).filter(i).map(function(){return this._DT_RowIndex}).toArray()},t,r)};We("rows()",function(t,i){t===n?t="":e.isPlainObject(t)&&(i=t,t=""),i=At(i);var r=this.iterator("table",function(e){return $t(e,t,i)},1);return r.selector.rows=t,r.selector.opts=i,r}),We("rows().nodes()",function(){
return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),We("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return lt(e.aoData,t,"_aData")},1)}),Ve("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,i){var n=t.aoData[i];return"search"===e?n._aFilterData:n._aSortData},1)}),Ve("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,i){P(t,i,e)})}),Ve("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Ve("rows().ids()","row().id()",function(e){for(var t=[],i=this.context,n=0,r=i.length;n<r;n++)for(var o=0,a=this[n].length;o<a;o++){var s=i[n].rowIdFn(i[n].aoData[this[n][o]]._aData);t.push((!0===e?"#":"")+s)}return new Ge(i,t)}),Ve("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,i,r){var o,a,s,l,c,u,d=t.aoData,p=d[i];for(d.splice(i,1),o=0,a=d.length;o<a;o++)if(c=d[o],u=c.anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=o;$(t.aiDisplayMaster,i),$(t.aiDisplay,i),$(e[r],i,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,Me(t);var h=t.rowIdFn(p._aData);h!==n&&delete t.aIds[h]}),this.iterator("table",function(e){for(var t=0,i=e.aoData.length;t<i;t++)e.aoData[t].idx=t}),this}),We("rows.add()",function(t){var i=this.iterator("table",function(e){var i,n,r,o=[];for(n=0,r=t.length;n<r;n++)i=t[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?o.push(_(e,i)[0]):o.push(w(e,i));return o},1),n=this.rows(-1);return n.pop(),e.merge(n,i),n}),We("row()",function(e,t){return Et(this.rows(e,t))}),We("row().data()",function(t){var i=this.context;if(t===n)return i.length&&this.length?i[0].aoData[this[0]]._aData:n;var r=i[0].aoData[this[0]];return r._aData=t,e.isArray(t)&&r.nTr.id&&A(i[0].rowId)(t,r.nTr.id),P(i[0],this[0],"data"),this}),We("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),We("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var i=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?_(e,t)[0]:w(e,t)});return this.row(i[0])});var Pt=function(t,i,n,r){var o=[],a=function(i,n){if(e.isArray(i)||i instanceof e)for(var r=0,s=i.length;r<s;r++)a(i[r],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())o.push(i);else{var l=e("<tr><td/></tr>").addClass(n);e("td",l).addClass(n).html(i)[0].colSpan=m(t),o.push(l[0])}};a(n,r),i._details&&i._details.detach(),i._details=e(o),i._detailsShow&&i._details.insertAfter(i.nTr)},Ot=function(e,t){var i=e.context;if(i.length){var r=i[0].aoData[t!==n?t:e[0]];r&&r._details&&(r._details.remove(),r._detailsShow=n,r._details=n)}},Rt=function(e,t){var i=e.context;if(i.length&&e.length){var n=i[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?n._details.insertAfter(n.nTr):n._details.detach(),Ft(i[0]))}},Ft=function(e){var t=new Ge(e),i=e.aoData;t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),st(i,"_details").length>0&&(t.on("draw.dt.DT_details",function(n,r){e===r&&t.rows({page:"current"}).eq(0).each(function(e){var t=i[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on("column-visibility.dt.DT_details",function(t,n,r,o){if(e===n)for(var a,s=m(n),l=0,c=i.length;l<c;l++)a=i[l],a._details&&a._details.children("td[colspan]").attr("colspan",s)}),t.on("destroy.dt.DT_details",function(n,r){if(e===r)for(var o=0,a=i.length;o<a;o++)i[o]._details&&Ot(t,o)}))};We("row().child()",function(e,t){var i=this.context;return e===n?i.length&&this.length?i[0].aoData[this[0]]._details:n:(!0===e?this.child.show():!1===e?Ot(this):i.length&&this.length&&Pt(i[0],i[0].aoData[this[0]],e,t),this)}),We(["row().child.show()","row().child().show()"],function(e){return Rt(this,!0),this}),We(["row().child.hide()","row().child().hide()"],function(){return Rt(this,!1),this}),We(["row().child.remove()","row().child().remove()"],function(){return Ot(this),this}),We("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Lt=/^([^:]+):(name|visIdx|visible)$/,jt=function(e,t,i,n,r){for(var o=[],a=0,s=r.length;a<s;a++)o.push(C(e,r[a],t));return o},Mt=function(t,i,n){var r=t.aoColumns,o=st(r,"sName"),a=st(r,"nTh");return Dt("column",i,function(i){var s=it(i);if(""===i)return ct(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof i){var l=It(t,n);return e.map(r,function(e,n){return i(n,jt(t,n,0,0,l),a[n])?n:null})}var c="string"==typeof i?i.match(Lt):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=e.map(r,function(e,t){return e.bVisible?t:null});return[d[d.length+u]]}return[f(t,u)];case"name":return e.map(o,function(e,t){return e===c[1]?t:null});default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var p=e(a).filter(i).map(function(){return e.inArray(this,a)}).toArray();if(p.length||!i.nodeName)return p;var h=e(i).closest("*[data-dt-column]");return h.length?[h.data("dt-column")]:[]},t,n)},Nt=function(t,i,r){var o,a,s,l,c=t.aoColumns,u=c[i],d=t.aoData;if(r===n)return u.bVisible;if(u.bVisible!==r){if(r){var p=e.inArray(!0,st(c,"bVisible"),i+1);for(a=0,s=d.length;a<s;a++)l=d[a].nTr,o=d[a].anCells,l&&l.insertBefore(o[i],o[p]||null)}else e(st(t.aoData,"anCells",i)).detach();u.bVisible=r,j(t,t.aoHeader),j(t,t.aoFooter),t.aiDisplay.length||e(t.nTBody).find("td[colspan]").attr("colspan",m(t)),Ee(t)}};We("columns()",function(t,i){t===n?t="":e.isPlainObject(t)&&(i=t,t=""),i=At(i);var r=this.iterator("table",function(e){return Mt(e,t,i)},1);return r.selector.cols=t,r.selector.opts=i,r}),Ve("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Ve("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Ve("columns().data()","column().data()",function(){return this.iterator("column-rows",jt,1)}),Ve("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Ve("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,i,n,r,o){return lt(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",i)},1)}),Ve("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,i,n,r){return lt(e.aoData,r,"anCells",t)},1)}),Ve("columns().visible()","column().visible()",function(e,t){var i=this.iterator("column",function(t,i){if(e===n)return t.aoColumns[i].bVisible;Nt(t,i,e)});return e!==n&&(this.iterator("column",function(i,n){je(i,null,"column-visibility",[i,n,e,t])}),(t===n||t)&&this.columns.adjust()),i}),Ve("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,i){return"visible"===e?g(t,i):i},1)}),We("columns.adjust()",function(){return this.iterator("table",function(e){h(e)},1)}),We("column.index()",function(e,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===e||"toData"===e)return f(i,t);if("fromData"===e||"toVisible"===e)return g(i,t)}}),We("column()",function(e,t){return Et(this.columns(e,t))});var Bt=function(t,i,r){var o,a,s,l,c,u,d,p=t.aoData,h=It(t,r),f=ut(lt(p,h,"anCells")),g=e([].concat.apply([],f)),m=t.aoColumns.length;return Dt("cell",i,function(i){var r="function"==typeof i;if(null===i||i===n||r){for(a=[],s=0,l=h.length;s<l;s++)for(o=h[s],c=0;c<m;c++)u={row:o,column:c},r?(d=p[o],i(u,C(t,o,c),d.anCells?d.anCells[c]:null)&&a.push(u)):a.push(u);return a}if(e.isPlainObject(i))return i.column!==n&&i.row!==n&&-1!==e.inArray(i.row,h)?[i]:[];var f=g.filter(i).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return f.length||!i.nodeName?f:(d=e(i).closest("*[data-dt-row]"),d.length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[])},t,r)};We("cells()",function(t,i,r){if(e.isPlainObject(t)&&(t.row===n?(r=t,t=null):(r=i,i=null)),e.isPlainObject(i)&&(r=i,i=null),null===i||i===n)return this.iterator("table",function(e){return Bt(e,t,At(r))});var o,a,s,l,c,u=this.columns(i),d=this.rows(t);this.iterator("table",function(e,t){for(o=[],a=0,s=d[t].length;a<s;a++)for(l=0,c=u[t].length;l<c;l++)o.push({row:d[t][a],column:u[t][l]})},1);var p=this.cells(o,r);return e.extend(p.selector,{cols:i,rows:t,opts:r}),p}),Ve("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){var r=e.aoData[t];return r&&r.anCells?r.anCells[i]:n},1)}),We("cells().data()",function(){return this.iterator("cell",function(e,t,i){return C(e,t,i)},1)}),Ve("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,n){return t.aoData[i][e][n]},1)}),Ve("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,i,n){return C(t,i,n,e)},1)}),Ve("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,i){return{row:t,column:i,columnVisible:g(e,i)}},1)}),Ve("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,i,n){P(t,i,e,n)})}),We("cell()",function(e,t,i){return Et(this.cells(e,t,i))}),We("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?C(t[0],i[0].row,i[0].column):n:(k(t[0],i[0].row,i[0].column,e),P(t[0],i[0].row,"data",i[0].column),this)}),We("order()",function(t,i){var r=this.context;return t===n?0!==r.length?r[0].aaSorting:n:("number"==typeof t?t=[[t,i]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),We("order.listener()",function(e,t,i){return this.iterator("table",function(n){Te(n,e,t,i)})}),We("order.fixed()",function(t){if(!t){var i=this.context,r=i.length?i[0].aaSortingFixed:n;return e.isArray(r)?{pre:r}:r}return this.iterator("table",function(i){i.aaSortingFixed=e.extend(!0,{},t)})}),We(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(n,r){var o=[];e.each(i[r],function(e,i){o.push([i,t])}),n.aaSorting=o})}),We("search()",function(t,i,r,o){var a=this.context;return t===n?0!==a.length?a[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&Z(n,e.extend({},n.oPreviousSearch,{sSearch:t+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Ve("columns().search()","column().search()",function(t,i,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===n)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==i&&i,bSmart:null===r||r,bCaseInsensitive:null===o||o}),Z(a,a.oPreviousSearch,1))})}),We("state()",function(){return this.context.length?this.context[0].oSavedState:null}),We("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),We("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),We("state.save()",function(){return this.iterator("table",function(e){Ee(e)})}),Ke.versionCheck=Ke.fnVersionCheck=function(e){for(var t,i,n=Ke.version.split("."),r=e.split("."),o=0,a=r.length;o<a;o++)if(t=parseInt(n[o],10)||0,i=parseInt(r[o],10)||0,t!==i)return t>i;return!0},Ke.isDataTable=Ke.fnIsDataTable=function(t){var i=e(t).get(0),n=!1;return t instanceof Ke.Api||(e.each(Ke.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==i&&o!==i&&a!==i||(n=!0)}),n)},Ke.tables=Ke.fnTables=function(t){var i=!1;e.isPlainObject(t)&&(i=t.api,t=t.visible);var n=e.map(Ke.settings,function(i){if(!t||t&&e(i.nTable).is(":visible"))return i.nTable});return i?new Ge(n):n},Ke.camelToHungarian=o,We("$()",function(t,i){var n=this.rows(i).nodes(),r=e(n);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))}),e.each(["on","one","off"],function(t,i){We(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var n=e(this.tables().nodes());return n[i].apply(n,t),this})}),We("clear()",function(){return this.iterator("table",function(e){I(e)})}),We("settings()",function(){return new Ge(this.context,this.context)}),We("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),We("data()",function(){return this.iterator("table",function(e){return st(e.aoData,"_aData")}).flatten()}),We("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var r,o=n.nTableWrapper.parentNode,a=n.oClasses,s=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,d=e(s),p=e(l),h=e(n.nTableWrapper),f=e.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,je(n,"aoDestroyCallback","destroy",[n]),i||new Ge(n).columns().visible(!0),h.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+n.sInstance),s!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&s!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),n.aaSorting=[],n.aaSortingFixed=[],De(n),e(f).removeClass(n.asStripeClasses.join(" ")),e("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),p.children().detach(),p.append(f);var g=i?"remove":"detach";d[g](),h[g](),!i&&o&&(o.insertBefore(s,n.nTableReinsertBefore),d.css("width",n.sDestroyWidth).removeClass(a.sTable),(r=n.asDestroyStripes.length)&&p.children().each(function(t){e(this).addClass(n.asDestroyStripes[t%r])}));var m=e.inArray(n,Ke.settings);-1!==m&&Ke.settings.splice(m,1)})}),e.each(["column","row","cell"],function(e,t){We(t+"s().every()",function(e){var i=this.selector.opts,r=this;return this.iterator(t,function(o,a,s,l,c){e.call(r[t](a,"cell"===t?s:i,"cell"===t?i:n),a,s,l,c)})})}),We("i18n()",function(t,i,r){var o=this.context[0],a=D(t)(o.oLanguage);return a===n&&(a=i),r!==n&&e.isPlainObject(a)&&(a=a[r]!==n?a[r]:a._),a.replace("%d",r)}),Ke.version="1.10.18",Ke.settings=[],Ke.models={},Ke.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ke.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ke.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ke.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ke.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Ke.defaults),Ke.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Ke.defaults.column),Ke.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Be(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Be(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,i=t+e,n=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+n:Math.min(t+e,this._iRecordsDisplay):!o||i>n||-1===e?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ke.ext=qe={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ke.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ke.version},e.extend(qe,{afnFiltering:qe.search,aTypes:qe.type.detect,ofnSearch:qe.type.search,oSort:qe.type.order,afnSortData:qe.order,aoFeatures:qe.feature,oApi:qe.internal,oStdClasses:qe.classes,oPagination:qe.pager}),e.extend(Ke.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var zt=Ke.ext.pager;e.extend(zt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[ze(e,t)]},simple_numbers:function(e,t){return["previous",ze(e,t),"next"]},full_numbers:function(e,t){return["first","previous",ze(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",ze(e,t),"last"]},_numbers:ze,numbers_length:7}),e.extend(!0,Ke.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var c,u,d,p=t.oClasses,h=t.oLanguage.oPaginate,f=t.oLanguage.oAria.paginate||{},g=0,m=function(i,n){var r,a,d,v,y=function(e){de(t,e.data.action,!0)};for(r=0,a=n.length;r<a;r++)if(v=n[r],e.isArray(v)){var b=e("<"+(v.DT_el||"div")+"/>").appendTo(i);m(b,v)}else{switch(c=null,u="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=h.sFirst,u=v+(s>0?"":" "+p.sPageButtonDisabled);break;case"previous":c=h.sPrevious,u=v+(s>0?"":" "+p.sPageButtonDisabled);break;case"next":c=h.sNext,u=v+(s<l-1?"":" "+p.sPageButtonDisabled);break;case"last":c=h.sLast,u=v+(s<l-1?"":" "+p.sPageButtonDisabled);break;default:c=v+1,u=s===v?p.sPageButtonActive:""}null!==c&&(d=e("<a>",{class:p.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":f[v],"data-dt-idx":g,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(c).appendTo(i),Fe(d,{action:v},y),g++)}};try{d=e(r).find(i.activeElement).data("dt-idx")}catch(e){}m(e(r).empty(),a),d!==n&&e(r).find("[data-dt-idx="+d+"]").focus()}}}),e.extend(Ke.ext.type.detect,[function(e,t){var i=t.oLanguage.sDecimal;return rt(e,i)?"num"+i:null},function(e,t){if(e&&!(e instanceof Date)&&!Xe.test(e))return null;var i=Date.parse(e);return null!==i&&!isNaN(i)||tt(e)?"date":null},function(e,t){var i=t.oLanguage.sDecimal;return rt(e,i,!0)?"num-fmt"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return at(e,i)?"html-num"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return at(e,i,!0)?"html-num-fmt"+i:null},function(e,t){return tt(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(Ke.ext.type.search,{html:function(e){return tt(e)?e:"string"==typeof e?e.replace(Qe," ").replace(Ye,""):""},string:function(e){return tt(e)?e:"string"==typeof e?e.replace(Qe," "):e}});var Ut=function(e,t,i,n){return 0===e||e&&"-"!==e?(t&&(e=nt(e,t)),e.replace&&(i&&(e=e.replace(i,"")),n&&(e=e.replace(n,""))),1*e):-1/0};e.extend(qe.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return tt(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return tt(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Ue(""),e.extend(!0,Ke.ext.renderer,{header:{_:function(t,i,n,r){e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=n.idx;i.removeClass(n.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:n.sSortingClass)}})},jqueryui:function(t,i,n,r){e("<div/>").addClass(r.sSortJUIWrapper).append(i.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=n.idx;i.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:n.sSortingClass),i.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:n.sSortingClassJUI)}})}}});var Ht=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ke.render={number:function(e,t,i,n,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return Ht(o);s=s.toFixed(i),o=Math.abs(s);var l=parseInt(o,10),c=i?t+(o-l).toFixed(i).substring(2):"";return a+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(r||"")}}},text:function(){return{display:Ht}}},e.extend(Ke.ext.internal,{_fnExternApiFunc:He,_fnBuildAjax:H,_fnAjaxUpdate:q,_fnAjaxParameters:G,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:p,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:_,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:S,_fnGetCellData:C,_fnSetCellData:k,_fnSplitObjNotation:T,_fnGetObjectDataFn:D,_fnSetObjectDataFn:A,_fnGetDataMaster:E,_fnClearTable:I,_fnDeleteIndex:$,_fnInvalidate:P,_fnGetRowElements:O,_fnCreateTr:R,_fnBuildHead:L,_fnDrawHead:j,_fnDraw:M,_fnReDraw:N,_fnAddOptionsHtml:B,_fnDetectHeader:z,_fnGetUniqueThs:U,_fnFeatureHtmlFilter:K,_fnFilterComplete:Z,_fnFilterCustom:Q,_fnFilterColumn:Y,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:vt,_fnFilterData:ee,_fnFeatureHtmlInfo:ne,_fnUpdateInfo:re,_fnInfoMacros:oe,_fnInitialise:ae,_fnInitComplete:se,_fnLengthChange:le,_fnFeatureHtmlLength:ce,_fnFeatureHtmlPaginate:ue,_fnPageChange:de,_fnFeatureHtmlProcessing:pe,_fnProcessingDisplay:he,_fnFeatureHtmlTable:fe,_fnScrollDraw:ge,_fnApplyToChildren:me,_fnCalculateColumnWidths:ve,_fnThrottle:_t,_fnConvertToWidth:ye,_fnGetWidestNode:be,_fnGetMaxLenString:we,_fnStringToCss:_e,_fnSortFlatten:xe,_fnSort:Se,_fnSortAria:Ce,_fnSortListener:ke,_fnSortAttachListener:Te,_fnSortingClasses:De,_fnSortData:Ae,_fnSaveState:Ee,_fnLoadState:Ie,_fnSettingsFromNode:$e,_fnLog:Pe,_fnMap:Oe,_fnBindAction:Fe,_fnCallbackReg:Le,_fnCallbackFire:je,_fnLengthOverflow:Me,_fnRenderer:Ne,_fnDataSource:Be,_fnRowAttributes:F,_fnExtend:Re,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ke,Ke.$=e,e.fn.dataTableSettings=Ke.settings,e.fn.dataTableExt=Ke.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ke,function(t,i){e.fn.DataTable[t]=i}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),e(i,t,t.document)}:e(jQuery,window,document)}(function(e,t,i,n){"use strict";var r=e.fn.dataTable;return e.extend(!0,r.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(r.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),r.ext.renderer.pageButton.bootstrap=function(t,o,a,s,l,c){var u,d,p,h=new r.Api(t),f=t.oClasses,g=t.oLanguage.oPaginate,m=t.oLanguage.oAria.paginate||{},v=0,y=function(i,n){var r,o,s,p,b=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||h.page()==t.data.action||h.page(t.data.action).draw("page")};for(r=0,o=n.length;r<o;r++)if(p=n[r],e.isArray(p))y(i,p);else{switch(u="",d="",p){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=g.sFirst,d=p+(l>0?"":" disabled");break;case"previous":u=g.sPrevious,d=p+(l>0?"":" disabled");break;case"next":u=g.sNext,d=p+(l<c-1?"":" disabled");break;case"last":u=g.sLast,d=p+(l<c-1?"":" disabled");break;default:u=p+1,d=l===p?"active":""}u&&(s=e("<li>",{class:f.sPageButton+" "+d,id:0===a&&"string"==typeof p?t.sTableId+"_"+p:null}).append(e("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":m[p],"data-dt-idx":v,tabindex:t.iTabIndex}).html(u)).appendTo(i),t.oApi._fnBindAction(s,{action:p},b),v++)}};try{p=e(o).find(i.activeElement).data("dt-idx")}catch(e){}y(e(o).empty().html('<ul class="pagination"/>').children("ul"),s),p!==n&&e(o).find("[data-dt-idx="+p+"]").focus()},r}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),e(i,t,t.document)}:e(jQuery,window,document)}(function(e,t,i,n){"use strict";function r(e,t,i){var n,r,o,a=function(t,i){if(t>i){var n=i;i=t,t=n}var r=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(r=!0),e===i?(r=!1,!0):r})},s=function(t,i){var n=e.rows({search:"applied"}).indexes();if(n.indexOf(t)>n.indexOf(i)){var r=i;i=t,t=r}var o=!1;return n.filter(function(e){return e===t&&(o=!0),e===i?(o=!1,!0):o})};e.cells({selected:!0}).any()||i?(r=a(i.column,t.column),o=s(i.row,t.row)):(r=a(0,t.column),o=s(0,t.row)),n=e.cells(o,r).flatten(),e.cells(t,{selected:!0}).any()?e.cells(n).deselect():e.cells(n).select()}function o(t){var i=t.settings()[0],n=i._select.selector;e(t.table().body()).off("mousedown.dtSelect",n).off("mouseup.dtSelect",n).off("click.dtSelect",n),e("body").off("click.dtSelect")}function a(i){var n=e(i.table().body()),r=i.settings()[0],o=r._select.selector;n.on("mousedown.dtSelect",o,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&n.css("-moz-user-select","none").one("selectstart.dtSelect",o,function(){return!1})}).on("mouseup.dtSelect",o,function(){n.css("-moz-user-select","")}).on("click.dtSelect",o,function(n){var r,o=i.select.items();if(!t.getSelection||!t.getSelection().toString()){var a=i.settings()[0];if(e(n.target).closest("div.dataTables_wrapper")[0]==i.table().container()){var l=i.cell(e(n.target).closest("td, th"));if(l.any()){var c=e.Event("user-select.dt");if(s(i,c,[o,l,n]),!c.isDefaultPrevented()){var u=l.index();"row"===o?(r=u.row,p(n,i,a,"row",r)):"column"===o?(r=l.index().column,p(n,i,a,"column",r)):"cell"===o&&(r=l.index(),p(n,i,a,"cell",r)),a._select_lastCell=u}}}}}),e("body").on("click.dtSelect",function(t){if(r._select.blurable){if(e(t.target).parents().filter(i.table().container()).length)return;if(e(t.target).parents("div.DTE").length)return;d(r,!0)}})}function s(t,i,n,r){r&&!t.flatten().length||("string"==typeof i&&(i+=".dt"),n.unshift(t),e(t.table().node()).triggerHandler(i,n))}function l(t){var i=t.settings()[0];if(i._select.info&&i.aanFeatures.i){var n=e('<span class="select-info"/>'),r=function(i,r){n.append(e('<span class="select-item"/>').append(t.i18n("select."+i+"s",{_:"%d "+i+"s selected",0:"",1:"1 "+i+" selected"},r)))};r("row",t.rows({selected:!0}).flatten().length),r("column",t.columns({selected:!0}).flatten().length),r("cell",t.cells({selected:!0}).flatten().length),e.each(i.aanFeatures.i,function(t,i){i=e(i);var r=i.children("span.select-info");r.length&&r.remove(),""!==n.text()&&i.append(n)})}}function c(t){var i=new f.Api(t);t.aoRowCreatedCallback.push({fn:function(i,n,r){var o,a,s=t.aoData[r];for(s._select_selected&&e(i).addClass(t._select.className),o=0,a=t.aoColumns.length;o<a;o++)(t.aoColumns[o]._select_selected||s._selected_cells&&s._selected_cells[o])&&e(s.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),i.on("preXhr.dt.dtSelect",function(){var e=i.rows({selected:!0}).ids(!0).filter(function(e){return e!==n}),t=i.cells({selected:!0}).eq(0).map(function(e){var t=i.row(e.row).id(!0);return t?{row:t,column:e.column}:n}).filter(function(e){return e!==n})
;i.one("draw.dt.dtSelect",function(){i.rows(e).select(),t.any()&&t.each(function(e){i.cells(e.row,e.column).select()})})}),i.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){l(i)}),i.on("destroy.dtSelect",function(){o(i),i.off(".dtSelect")})}function u(t,i,n,r){var o=t[i+"s"]({search:"applied"}).indexes(),a=e.inArray(r,o),s=e.inArray(n,o);if(t[i+"s"]({selected:!0}).any()||-1!==a){if(a>s){var l=s;s=a,a=l}o.splice(s+1,o.length),o.splice(0,a)}else o.splice(e.inArray(n,o)+1,o.length);t[i](n,{selected:!0}).any()?(o.splice(e.inArray(n,o),1),t[i+"s"](o).deselect()):t[i+"s"](o).select()}function d(e,t){if(t||"single"===e._select.style){var i=new f.Api(e);i.rows({selected:!0}).deselect(),i.columns({selected:!0}).deselect(),i.cells({selected:!0}).deselect()}}function p(e,t,i,n,o){var a=t.select.style(),s=t[n](o,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[n](o).select(!s);else if(e.shiftKey)"cell"===n?r(t,o,i._select_lastCell||null):u(t,n,o,i._select_lastCell?i._select_lastCell[n]:null);else{var l=t[n+"s"]({selected:!0});s&&1===l.flatten().length?t[n](o).deselect():(l.deselect(),t[n](o).select())}else"multi+shift"==a&&e.shiftKey?"cell"===n?r(t,o,i._select_lastCell||null):u(t,n,o,i._select_lastCell?i._select_lastCell[n]:null):t[n](o).select(!s)}function h(e,t){return function(i){return i.i18n("buttons."+e,t)}}var f=e.fn.dataTable;f.select={},f.select.version="1.2.0",f.select.init=function(t){var i=t.settings()[0],r=i.oInit.select,o=f.defaults.select,a=r===n?o:r,s="row",l="api",c=!1,u=!0,d="td, th",p="selected";i._select={},!0===a?l="os":"string"==typeof a?l=a:e.isPlainObject(a)&&(a.blurable!==n&&(c=a.blurable),a.info!==n&&(u=a.info),a.items!==n&&(s=a.items),a.style!==n&&(l=a.style),a.selector!==n&&(d=a.selector),a.className!==n&&(p=a.className)),t.select.selector(d),t.select.items(s),t.select.style(l),t.select.blurable(c),t.select.info(u),i._select.className=p,e.fn.dataTable.ext.order["select-checkbox"]=function(t,i){return this.api().column(i,{order:"index"}).nodes().map(function(i){return"row"===t._select.items?e(i).parent().hasClass(t._select.className):"cell"===t._select.items&&e(i).hasClass(t._select.className)})},e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){f.ext.selector[t.type].push(function(e,i,r){var o,a=i.selected,s=[];if(a===n)return r;for(var l=0,c=r.length;l<c;l++)o=e[t.prop][r[l]],(!0===a&&!0===o._select_selected||!1===a&&!o._select_selected)&&s.push(r[l]);return s})}),f.ext.selector.cell.push(function(e,t,i){var r,o=t.selected,a=[];if(o===n)return i;for(var s=0,l=i.length;s<l;s++)r=e.aoData[i[s].row],(!0===o&&r._selected_cells&&!0===r._selected_cells[i[s].column]||!1===o&&(!r._selected_cells||!r._selected_cells[i[s].column]))&&a.push(i[s]);return a});var g=f.Api.register,m=f.Api.registerPlural;return g("select()",function(){return this.iterator("table",function(e){f.select.init(new f.Api(e))})}),g("select.blurable()",function(e){return e===n?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),g("select.info()",function(e){return l===n?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),g("select.items()",function(e){return e===n?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,s(new f.Api(t),"selectItems",[e])})}),g("select.style()",function(e){return e===n?this.context[0]._select.style:this.iterator("table",function(t){t._select.style=e,t._select_init||c(t);var i=new f.Api(t);o(i),"api"!==e&&a(i),s(new f.Api(t),"selectStyle",[e])})}),g("select.selector()",function(e){return e===n?this.context[0]._select.selector:this.iterator("table",function(t){o(new f.Api(t)),t._select.selector=e,"api"!==t._select.style&&a(new f.Api(t))})}),m("rows().select()","row().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("row",function(t,i){d(t),t.aoData[i]._select_selected=!0,e(t.aoData[i].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){s(i,"select",["row",i[t]],!0)}),this)}),m("columns().select()","column().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("column",function(t,i){d(t),t.aoColumns[i]._select_selected=!0;var n=new f.Api(t).column(i);e(n.header()).addClass(t._select.className),e(n.footer()).addClass(t._select.className),n.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){s(i,"select",["column",i[t]],!0)}),this)}),m("cells().select()","cell().select()",function(t){var i=this;return!1===t?this.deselect():(this.iterator("cell",function(t,i,r){d(t);var o=t.aoData[i];o._selected_cells===n&&(o._selected_cells=[]),o._selected_cells[r]=!0,o.anCells&&e(o.anCells[r]).addClass(t._select.className)}),this.iterator("table",function(e,t){s(i,"select",["cell",i[t]],!0)}),this)}),m("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,i){t.aoData[i]._select_selected=!1,e(t.aoData[i].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,i){s(t,"deselect",["row",t[i]],!0)}),this}),m("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,i){t.aoColumns[i]._select_selected=!1;var n=new f.Api(t),r=n.column(i);e(r.header()).removeClass(t._select.className),e(r.footer()).removeClass(t._select.className),n.cells(null,i).indexes().each(function(i){var n=t.aoData[i.row],r=n._selected_cells;!n.anCells||r&&r[i.column]||e(n.anCells[i.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,i){s(t,"deselect",["column",t[i]],!0)}),this}),m("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,i,n){var r=t.aoData[i];r._selected_cells[n]=!1,r.anCells&&!t.aoColumns[n]._select_selected&&e(r.anCells[n]).removeClass(t._select.className)}),this.iterator("table",function(e,i){s(t,"deselect",["cell",t[i]],!0)}),this}),e.extend(f.ext.buttons,{selected:{text:h("selected","Selected"),className:"buttons-selected",init:function(e){var t=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var e=t.rows({selected:!0}).any()||t.columns({selected:!0}).any()||t.cells({selected:!0}).any();t.enable(e)}),this.disable()}},selectedSingle:{text:h("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e){var t=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var i=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;t.enable(1===i)}),this.disable()}},selectAll:{text:h("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:h("selectNone","Deselect all"),className:"buttons-select-none",action:function(){d(this.settings()[0],!0)},init:function(e){var t=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var i=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;t.enable(i>0)}),this.disable()}}}),e.each(["Row","Column","Cell"],function(e,t){var i=t.toLowerCase();f.ext.buttons["select"+t+"s"]={text:h("select"+t+"s","Select "+i+"s"),className:"buttons-select-"+i+"s",action:function(){this.select.items(i)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,n,r){t.active(r===i)})}}}),e(i).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&f.select.init(new f.Api(t))}),f.select}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),e(i,t,t.document)}:e(jQuery,window,document)}(function(e,t,i,n){"use strict";var r,o=e.fn.dataTable,a=function(t,i){var r=this;if(!(this instanceof a))return void alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");i!==n&&!0!==i||(i={});var o=e.fn.dataTable.camelToHungarian;o&&(o(a.defaults,a.defaults,!0),o(a.defaults,i));var s=new e.fn.dataTable.Api(t).settings()[0];if(this.s={dt:s,iTableColumns:s.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===e(s.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},s._oFixedColumns)throw"FixedColumns already initialised on this table";s._oFixedColumns=this,s._bInitComplete?this._fnConstruct(i):s.oApi._fnCallbackReg(s,"aoInitComplete",function(){r._fnConstruct(i)},"FixedColumns")};return e.extend(a.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(t){var i,n=this.s.dt.oInstance;if(e(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return i=e(t).index(),n.fnGetPosition(e("tr",this.s.dt.nTBody)[i]);var r=e(t).index();i=e(t.parentNode).index();return[n.fnGetPosition(e("tr",this.s.dt.nTBody)[i]),r,n.oApi._fnVisibleToColumnIndex(this.s.dt,r)]}return n.fnGetPosition(t)},_fnConstruct:function(r){var o=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))return void alert("FixedColumns "+a.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");if(""===this.s.dt.oScroll.sX)return void this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");this.s=e.extend(!0,this.s,a.defaults,r);var s=this.s.dt.oClasses;this.dom.grid.dt=e(this.s.dt.nTable).parents("div."+s.sScrollWrapper)[0],this.dom.scroller=e("div."+s.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var l,c=!1;e(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(){c=!0,e(i).one("mouseup",function(){c=!1})}),e(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){c||(l="main")}).on("scroll.DTFC",function(e){!l&&e.originalEvent&&(l="main"),"main"===l&&(o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop))});var u="onwheel"in i.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";o.s.iLeftColumns>0&&e(o.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){c||(l="left")}).on("scroll.DTFC",function(e){!l&&e.originalEvent&&(l="left"),"left"===l&&(o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop))}).on(u,function(e){var t="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=t}),o.s.iRightColumns>0&&e(o.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){c||(l="right")}).on("scroll.DTFC",function(e){!l&&e.originalEvent&&(l="right"),"right"===l&&(o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop))}).on(u,function(e){var t="wheel"===e.type?-e.originalEvent.deltaX:e.originalEvent.wheelDeltaX;o.dom.scroller.scrollLeft-=t}),e(t).on("resize.DTFC",function(){o._fnGridLayout.call(o)});var d=!0,p=e(this.s.dt.nTable);p.on("draw.dt.DTFC",function(){o._fnColCalc(),o._fnDraw.call(o,d),d=!1}).on("column-sizing.dt.DTFC",function(){o._fnColCalc(),o._fnGridLayout(o)}).on("column-visibility.dt.DTFC",function(e,t,i,r,a){(a===n||a)&&(o._fnColCalc(),o._fnGridLayout(o),o._fnDraw(!0))}).on("select.dt.DTFC deselect.dt.DTFC",function(e,t,i,n){"dt"===e.namespace&&o._fnDraw(!1)}).on("destroy.dt.DTFC",function(){p.off(".DTFC"),e(o.dom.scroller).off(".DTFC"),e(t).off(".DTFC"),e(o.s.dt.nTableWrapper).off(".DTFC"),e(o.dom.grid.left.liner).off(".DTFC "+u),e(o.dom.grid.left.wrapper).remove(),e(o.dom.grid.right.liner).off(".DTFC "+u),e(o.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var t=this,i=0,n=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],e.each(this.s.dt.aoColumns,function(r,o){var a,s=e(o.nTh);if(s.filter(":visible").length){var l=s.outerWidth();0===t.s.aiOuterWidths.length&&(a=e(t.s.dt.nTable).css("border-left-width"),l+="string"==typeof a?1:parseInt(a,10)),t.s.aiOuterWidths.length===t.s.dt.aoColumns.length-1&&(a=e(t.s.dt.nTable).css("border-right-width"),l+="string"==typeof a?1:parseInt(a,10)),t.s.aiOuterWidths.push(l),t.s.aiInnerWidths.push(s.width()),r<t.s.iLeftColumns&&(i+=l),t.s.iTableColumns-t.s.iRightColumns<=r&&(n+=l)}else t.s.aiInnerWidths.push(0),t.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=i,this.s.iRightWidth=n},_fnGridSetup:function(){var t,i=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var n=e('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],r=n.childNodes[0],o=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=r,this.dom.grid.left.head=r.childNodes[0],this.dom.grid.left.body=r.childNodes[1],this.dom.grid.left.liner=e("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(r)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=o,this.dom.grid.right.head=o.childNodes[0],this.dom.grid.right.body=o.childNodes[1],this.dom.grid.right.liner=e("div.DTFC_RightBodyLiner",n)[0],o.style.right=i.bar+"px",t=e("div.DTFC_RightHeadBlocker",n)[0],t.style.width=i.bar+"px",t.style.right=-i.bar+"px",this.dom.grid.right.headBlock=t,t=e("div.DTFC_RightFootBlocker",n)[0],t.style.width=i.bar+"px",t.style.right=-i.bar+"px",this.dom.grid.right.footBlock=t,n.appendChild(o)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=r.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=o.childNodes[2])),this.s.rtl&&e("div.DTFC_RightHeadBlocker",n).css({left:-i.bar+"px",right:""})},_fnGridLayout:function(){var t,i=this,n=this.dom.grid,r=(e(n.wrapper).width(),e(this.s.dt.nTable.parentNode).outerHeight()),o=e(this.s.dt.nTable.parentNode.parentNode).outerHeight(),a=this._fnDTOverflow(),s=this.s.iLeftWidth,l=this.s.iRightWidth,c="rtl"===e(this.dom.body).css("direction"),u=function(t,n){a.bar?i._firefoxScrollError()?e(t).height()>34&&(t.style.width=n+a.bar+"px"):t.style.width=n+a.bar+"px":(t.style.width=n+20+"px",t.style.paddingRight="20px",t.style.boxSizing="border-box")};a.x&&(r-=a.bar),n.wrapper.style.height=o+"px",this.s.iLeftColumns>0&&(t=n.left.wrapper,t.style.width=s+"px",t.style.height="1px",c?(t.style.left="",t.style.right=0):(t.style.left=0,t.style.right=""),n.left.body.style.height=r+"px",n.left.foot&&(n.left.foot.style.top=(a.x?a.bar:0)+"px"),u(n.left.liner,s),n.left.liner.style.height=r+"px"),this.s.iRightColumns>0&&(t=n.right.wrapper,t.style.width=l+"px",t.style.height="1px",this.s.rtl?(t.style.left=a.y?a.bar+"px":0,t.style.right=""):(t.style.left="",t.style.right=a.y?a.bar+"px":0),n.right.body.style.height=r+"px",n.right.foot&&(n.right.foot.style.top=(a.x?a.bar:0)+"px"),u(n.right.liner,l),n.right.liner.style.height=r+"px",n.right.headBlock.style.display=a.y?"block":"none",n.right.footBlock.style.display=a.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(i.x=!0),e.offsetHeight>t.clientHeight&&(i.y=!0),i},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),e(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(this.s.iRightColumns<=0)){var t,i=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,e)}},_fnCloneLeft:function(e){if(!(this.s.iLeftColumns<=0)){var t,i=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,e)}},_fnCopyLayout:function(t,i,n){for(var r=[],o=[],a=[],s=0,l=t.length;s<l;s++){var c=[];c.nTr=e(t[s].nTr).clone(n,!1)[0];for(var u=0,d=this.s.iTableColumns;u<d;u++)if(-1!==e.inArray(u,i)){var p=e.inArray(t[s][u].cell,a);if(-1===p){var h=e(t[s][u].cell).clone(n,!1)[0];o.push(h),a.push(t[s][u].cell),c.push({cell:h,unique:t[s][u].unique})}else c.push({cell:o[p],unique:t[s][u].unique})}r.push(c)}return r},_fnClone:function(t,i,r,o){var a,s,l,c,u,d,p,h,f,g,m=this,v=this.s.dt;if(o){for(e(t.header).remove(),t.header=e(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",i.head.appendChild(t.header),h=this._fnCopyLayout(v.aoHeader,r,!0),f=e(">thead",t.header),f.empty(),a=0,s=h.length;a<s;a++)f[0].appendChild(h[a].nTr);v.oApi._fnDrawHead(v,h,!0)}else for(h=this._fnCopyLayout(v.aoHeader,r,!1),g=[],v.oApi._fnDetectHeader(g,e(">thead",t.header)[0]),a=0,s=h.length;a<s;a++)for(l=0,c=h[a].length;l<c;l++)g[a][l].cell.className=h[a][l].cell.className,e("span.DataTables_sort_icon",g[a][l].cell).each(function(){this.className=e("span.DataTables_sort_icon",h[a][l].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&e(">tbody>tr",m.dom.body).css("height","auto"),null!==t.body&&(e(t.body).remove(),t.body=null),t.body=e(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=v.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*v.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),e(">thead>tr",t.body).empty(),e(">tfoot",t.body).remove();var y=e("tbody",t.body)[0];if(e(y).empty(),v.aiDisplay.length>0){var b=e(">thead>tr",t.body)[0];for(p=0;p<r.length;p++){u=r[p],d=e(v.aoColumns[u].nTh).clone(!0)[0],d.innerHTML="";var w=d.style;w.paddingTop="0",w.paddingBottom="0",w.borderTopWidth="0",w.borderBottomWidth="0",w.height=0,w.width=m.s.aiInnerWidths[u]+"px",b.appendChild(d)}e(">tbody>tr",m.dom.body).each(function(t){var i=!1===m.s.dt.oFeatures.bServerSide?m.s.dt.aiDisplay[m.s.dt._iDisplayStart+t]:t,n=m.s.dt.aoData[i].anCells||e(this).children("td, th"),o=this.cloneNode(!1);for(o.removeAttribute("id"),o.setAttribute("data-dt-row",i),p=0;p<r.length;p++)u=r[p],n.length>0&&(d=e(n[u]).clone(!0,!0)[0],d.setAttribute("data-dt-row",i),d.setAttribute("data-dt-column",p),o.appendChild(d));y.appendChild(o)})}else e(">tbody>tr",m.dom.body).each(function(t){d=this.cloneNode(!0),d.className+=" DTFC_NoData",e("td",d).html(""),y.appendChild(d)});if(t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",v.oScroller!==n){var _=v.oScroller.dom.force;i.forcer?i.forcer.style.height=_.style.height:(i.forcer=_.cloneNode(!0),i.liner.appendChild(i.forcer))}if(i.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",m.dom.body,t.body),null!==v.nTFoot){if(o){null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=e(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",i.foot.appendChild(t.footer),h=this._fnCopyLayout(v.aoFooter,r,!0);var x=e(">tfoot",t.footer);for(x.empty(),a=0,s=h.length;a<s;a++)x[0].appendChild(h[a].nTr);v.oApi._fnDrawHead(v,h,!0)}else{h=this._fnCopyLayout(v.aoFooter,r,!1);var S=[];for(v.oApi._fnDetectHeader(S,e(">tfoot",t.footer)[0]),a=0,s=h.length;a<s;a++)for(l=0,c=h[a].length;l<c;l++)S[a][l].cell.className=h[a][l].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}var C=v.oApi._fnGetUniqueThs(v,e(">thead",t.header)[0]);e(C).each(function(e){u=r[e],this.style.width=m.s.aiInnerWidths[u]+"px"}),null!==m.s.dt.nTFoot&&(C=v.oApi._fnGetUniqueThs(v,e(">tfoot",t.footer)[0]),e(C).each(function(e){u=r[e],this.style.width=m.s.aiInnerWidths[u]+"px"}))},_fnGetTrNodes:function(e){for(var t=[],i=0,n=e.childNodes.length;i<n;i++)"TR"==e.childNodes[i].nodeName.toUpperCase()&&t.push(e.childNodes[i]);return t},_fnEqualiseHeights:function(t,i,n){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var r,o,a,s,l,c=i.getElementsByTagName(t)[0],u=n.getElementsByTagName(t)[0],d=e(">"+t+">tr:eq(0)",i).children(":first"),p=(d.outerHeight(),d.height(),this._fnGetTrNodes(c)),h=this._fnGetTrNodes(u),f=[];for(r=0,o=h.length;r<o;r++)s=p[r].offsetHeight,l=h[r].offsetHeight,a=l>s?l:s,"semiauto"==this.s.sHeightMatch&&(p[r]._DTTC_iHeight=a),f.push(a);for(r=0,o=h.length;r<o;r++)h[r].style.height=f[r]+"px",p[r].style.height=f[r]+"px"}},_firefoxScrollError:function(){if(r===n){var t=e("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");r=t[0].clientWidth===t[0].offsetWidth&&0!==this._fnDTOverflow().bar,t.remove()}return r}}),a.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},a.version="3.2.2",o.Api.register("fixedColumns()",function(){return this}),o.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnUpdate()})}),o.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(e){e._oFixedColumns&&e._oFixedColumns.fnRedrawLayout()})}),o.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(e,t){e._oFixedColumns&&e._oFixedColumns.fnRecalculateHeight(this.row(t).node())})}),o.Api.register("fixedColumns().rowIndex()",function(t){return t=e(t),t.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()}),o.Api.register("fixedColumns().cellIndex()",function(t){if(t=e(t),t.parents(".DTFC_Cloned").length){var i,n=t.parent().index(),r=this.rows({page:"current"}).indexes()[n];if(t.parents(".DTFC_LeftWrapper").length)i=t.index();else{i=this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index()}return{row:r,column:this.column.index("toData",i),columnVisible:i}}return this.cell(t).index()}),e(i).on("init.dt.fixedColumns",function(t,i){if("dt"===t.namespace){var n=i.oInit.fixedColumns,r=o.defaults.fixedColumns;if(n||r){var s=e.extend({},n,r);!1!==n&&new a(i,s)}}}),e.fn.dataTable.FixedColumns=a,e.fn.DataTable.FixedColumns=a,a}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){"use strict";e.extendext=function(){var t,i,n,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1,d="default";for("boolean"==typeof s&&(u=s,s=arguments[l++]||{}),"string"==typeof s&&(d=s.toLowerCase(),"concat"!==d&&"replace"!==d&&"extend"!==d&&(d="default"),s=arguments[l++]||{}),"object"==typeof s||e.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!==(t=arguments[l]))if(e.isArray(t)&&"default"!==d)switch(a=s&&e.isArray(s)?s:[],d){case"concat":s=a.concat(e.extend(u,[],t));break;case"replace":s=e.extend(u,[],t);break;case"extend":t.forEach(function(t,i){if("object"==typeof t){var n=e.isArray(t)?[]:{};a[i]=e.extendext(u,d,a[i]||n,t)}else-1===a.indexOf(t)&&a.push(t)}),s=a}else for(i in t)r=t[i],"__proto__"!==i&&s!==r&&(u&&r&&(e.isPlainObject(r)||(o=e.isArray(r)))?(n=s[i],a=o&&!Array.isArray(n)?[]:o||e.isPlainObject(n)?n:{},o=!1,s[i]=e.extendext(u,d,a,r)):void 0!==r&&(s[i]=r));return s}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","dot/doT","jquery-extendext"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),require("dot/doT"),require("jquery-extendext")):t(e.jQuery,e.doT)}(this,function(e,t){"use strict";function i(){this.root=null,this.$=e(this)}function n(e,t,i){var n,r,a=o.selectors;n=t.closest(a.rule_container),n.length&&(r="moveAfter"),r||(n=t.closest(a.group_header),n.length&&(n=t.closest(a.group_container),r="moveAtBegin")),r||(n=t.closest(a.group_container),n.length&&(r="moveAtEnd")),r&&(e[r](i.getModel(n)),i&&e instanceof c&&i.setRuleInputValue(e,e.value))}function r(e){var t=e.match(/(question_mark|numbered|named)(?:\((.)\))?/);return t||(t=[null,"question_mark",void 0]),t}var o=function(n,r){n[0].queryBuilder=this,this.$el=n,this.settings=e.extendext(!0,"replace",{},o.DEFAULTS,r),this.model=new i,this.status={id:null,generated_id:!1,group_id:0,rule_id:0,has_optgroup:!1,has_operator_optgroup:!1},this.filters=this.settings.filters,this.icons=this.settings.icons,this.operators=this.settings.operators,this.templates=this.settings.templates,this.plugins=this.settings.plugins,this.lang=null,void 0===o.regional.en&&a.error("Config",'"i18n/en.js" not loaded.'),this.lang=e.extendext(!0,"replace",{},o.regional.en,o.regional[this.settings.lang_code],this.settings.lang),!1===this.settings.allow_groups?this.settings.allow_groups=0:!0===this.settings.allow_groups&&(this.settings.allow_groups=-1),Object.keys(this.templates).forEach(function(e){this.templates[e]||(this.templates[e]=o.templates[e]),"string"==typeof this.templates[e]&&(this.templates[e]=t.template(this.templates[e]))},this),this.$el.attr("id")||(this.$el.attr("id","qb_"+Math.floor(99999*Math.random())),this.status.generated_id=!0),this.status.id=this.$el.attr("id"),this.$el.addClass("query-builder form-inline"),this.filters=this.checkFilters(this.filters),this.operators=this.checkOperators(this.operators),this.bindEvents(),this.initPlugins()};e.extend(o.prototype,{trigger:function(t){var i=new e.Event(this._tojQueryEvent(t),{builder:this});return this.$el.triggerHandler(i,Array.prototype.slice.call(arguments,1)),i},change:function(t,i){var n=new e.Event(this._tojQueryEvent(t,!0),{builder:this,value:i});return this.$el.triggerHandler(n,Array.prototype.slice.call(arguments,2)),n.value},on:function(e,t){return this.$el.on(this._tojQueryEvent(e),t),this},off:function(e,t){return this.$el.off(this._tojQueryEvent(e),t),this},once:function(e,t){return this.$el.one(this._tojQueryEvent(e),t),this},_tojQueryEvent:function(e,t){return e.split(" ").map(function(e){return e+".queryBuilder"+(t?".filter":"")}).join(" ")}}),o.types={string:"string",integer:"number",double:"number",date:"datetime",time:"datetime",datetime:"datetime",boolean:"boolean"},o.inputs=["text","number","textarea","radio","checkbox","select"],o.modifiable_options=["display_errors","allow_groups","allow_empty","default_condition","default_filter"],o.selectors={group_container:".rules-group-container",rule_container:".rule-container",filter_container:".rule-filter-container",operator_container:".rule-operator-container",value_container:".rule-value-container",error_container:".error-container",condition_container:".rules-group-header .group-conditions",rule_header:".rule-header",group_header:".rules-group-header",group_actions:".group-actions",rule_actions:".rule-actions",rules_list:".rules-group-body>.rules-list",group_condition:".rules-group-header [name$=_cond]",rule_filter:".rule-filter-container [name$=_filter]",rule_operator:".rule-operator-container [name$=_operator]",rule_value:".rule-value-container [name*=_value_]",add_rule:"[data-add=rule]",delete_rule:"[data-delete=rule]",add_group:"[data-add=group]",delete_group:"[data-delete=group]"},o.templates={},o.regional={},o.OPERATORS={equal:{type:"equal",nb_inputs:1,multiple:!1,apply_to:["string","number","datetime","boolean"]},not_equal:{type:"not_equal",nb_inputs:1,multiple:!1,apply_to:["string","number","datetime","boolean"]},in:{type:"in",nb_inputs:1,multiple:!0,apply_to:["string","number","datetime"]},not_in:{type:"not_in",nb_inputs:1,multiple:!0,apply_to:["string","number","datetime"]},less:{type:"less",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},less_or_equal:{type:"less_or_equal",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},greater:{type:"greater",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},greater_or_equal:{type:"greater_or_equal",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},between:{type:"between",nb_inputs:2,multiple:!1,apply_to:["number","datetime"]},not_between:{type:"not_between",nb_inputs:2,multiple:!1,apply_to:["number","datetime"]},begins_with:{type:"begins_with",nb_inputs:1,multiple:!1,apply_to:["string"]},not_begins_with:{type:"not_begins_with",nb_inputs:1,multiple:!1,apply_to:["string"]},contains:{type:"contains",nb_inputs:1,multiple:!1,apply_to:["string"]},not_contains:{type:"not_contains",nb_inputs:1,multiple:!1,apply_to:["string"]},ends_with:{type:"ends_with",nb_inputs:1,multiple:!1,apply_to:["string"]},not_ends_with:{type:"not_ends_with",nb_inputs:1,multiple:!1,apply_to:["string"]},is_empty:{type:"is_empty",nb_inputs:0,multiple:!1,apply_to:["string"]},is_not_empty:{type:"is_not_empty",nb_inputs:0,multiple:!1,apply_to:["string"]},is_null:{type:"is_null",nb_inputs:0,multiple:!1,apply_to:["string","number","datetime","boolean"]},is_not_null:{type:"is_not_null",nb_inputs:0,multiple:!1,apply_to:["string","number","datetime","boolean"]}},o.DEFAULTS={filters:[],plugins:[],sort_filters:!1,display_errors:!0,allow_groups:-1,allow_empty:!1,conditions:["AND","OR"],default_condition:"AND",inputs_separator:" , ",select_placeholder:"------",display_empty_filter:!0,default_filter:null,optgroups:{},default_rule_flags:{filter_readonly:!1,operator_readonly:!1,value_readonly:!1,no_delete:!1},default_group_flags:{condition_readonly:!1,no_add_rule:!1,no_add_group:!1,no_delete:!1},templates:{group:null,rule:null,filterSelect:null,operatorSelect:null,ruleValueSelect:null},lang_code:"en",lang:{},operators:["equal","not_equal","in","not_in","less","less_or_equal","greater","greater_or_equal","between","not_between","begins_with","not_begins_with","contains","not_contains","ends_with","not_ends_with","is_empty","is_not_empty","is_null","is_not_null"],icons:{add_group:"glyphicon glyphicon-plus-sign",add_rule:"glyphicon glyphicon-plus",remove_group:"glyphicon glyphicon-remove",remove_rule:"glyphicon glyphicon-remove",error:"glyphicon glyphicon-warning-sign"}},o.plugins={},o.defaults=function(t){if("object"!=typeof t)return"string"==typeof t?"object"==typeof o.DEFAULTS[t]?e.extend(!0,{},o.DEFAULTS[t]):o.DEFAULTS[t]:e.extend(!0,{},o.DEFAULTS);e.extendext(!0,"replace",o.DEFAULTS,t)},o.define=function(e,t,i){o.plugins[e]={fct:t,def:i||{}}},o.extend=function(t){e.extend(o.prototype,t)},
o.prototype.initPlugins=function(){if(this.plugins){if(e.isArray(this.plugins)){var t={};this.plugins.forEach(function(e){t[e]=null}),this.plugins=t}Object.keys(this.plugins).forEach(function(t){t in o.plugins?(this.plugins[t]=e.extend(!0,{},o.plugins[t].def,this.plugins[t]||{}),o.plugins[t].fct.call(this,this.plugins[t])):a.error("Config",'Unable to find plugin "{0}"',t)},this)}},o.prototype.getPluginOptions=function(e,t){var i;if(this.plugins&&this.plugins[e]?i=this.plugins[e]:o.plugins[e]&&(i=o.plugins[e].def),i)return t?i[t]:i;a.error("Config",'Unable to find plugin "{0}"',e)},o.prototype.init=function(e){this.trigger("afterInit"),e?(this.setRules(e),delete this.settings.rules):this.setRoot(!0)},o.prototype.checkFilters=function(e){var t=[];if(e&&0!==e.length||a.error("Config","Missing filters list"),e.forEach(function(e,i){switch(e.id||a.error("Config","Missing filter {0} id",i),-1!=t.indexOf(e.id)&&a.error("Config",'Filter "{0}" already defined',e.id),t.push(e.id),e.type?o.types[e.type]||a.error("Config",'Invalid type "{0}"',e.type):e.type="string",e.input?"function"!=typeof e.input&&-1==o.inputs.indexOf(e.input)&&a.error("Config",'Invalid input "{0}"',e.input):e.input="number"===o.types[e.type]?"number":"text",e.operators&&e.operators.forEach(function(e){"string"!=typeof e&&a.error("Config","Filter operators must be global operators types (string)")}),e.field||(e.field=e.id),e.label||(e.label=e.field),e.optgroup?(this.status.has_optgroup=!0,this.settings.optgroups[e.optgroup]||(this.settings.optgroups[e.optgroup]=e.optgroup)):e.optgroup=null,e.input){case"radio":case"checkbox":(!e.values||e.values.length<1)&&a.error("Config",'Missing filter "{0}" values',e.id);break;case"select":var n=[];e.has_optgroup=!1,a.iterateOptions(e.values,function(t,i,r){n.push({value:t,label:i,optgroup:r||null}),r&&(e.has_optgroup=!0,this.settings.optgroups[r]||(this.settings.optgroups[r]=r))}.bind(this)),e.has_optgroup?e.values=a.groupSort(n,"optgroup"):e.values=n,e.placeholder&&(void 0===e.placeholder_value&&(e.placeholder_value=-1),e.values.forEach(function(t){t.value==e.placeholder_value&&a.error("Config",'Placeholder of filter "{0}" overlaps with one of its values',e.id)}))}},this),this.settings.sort_filters)if("function"==typeof this.settings.sort_filters)e.sort(this.settings.sort_filters);else{var i=this;e.sort(function(e,t){return i.translate(e.label).localeCompare(i.translate(t.label))})}return this.status.has_optgroup&&(e=a.groupSort(e,"optgroup")),e},o.prototype.checkOperators=function(t){var i=[];return t.forEach(function(n,r){"string"==typeof n?(o.OPERATORS[n]||a.error("Config",'Unknown operator "{0}"',n),t[r]=n=e.extendext(!0,"replace",{},o.OPERATORS[n])):(n.type||a.error("Config",'Missing "type" for operator {0}',r),o.OPERATORS[n.type]&&(t[r]=n=e.extendext(!0,"replace",{},o.OPERATORS[n.type],n)),void 0!==n.nb_inputs&&void 0!==n.apply_to||a.error("Config",'Missing "nb_inputs" and/or "apply_to" for operator "{0}"',n.type)),-1!=i.indexOf(n.type)&&a.error("Config",'Operator "{0}" already defined',n.type),i.push(n.type),n.optgroup?(this.status.has_operator_optgroup=!0,this.settings.optgroups[n.optgroup]||(this.settings.optgroups[n.optgroup]=n.optgroup)):n.optgroup=null},this),this.status.has_operator_optgroup&&(t=a.groupSort(t,"optgroup")),t},o.prototype.bindEvents=function(){var t=this,i=o.selectors;this.$el.on("change.queryBuilder",i.group_condition,function(){if(e(this).is(":checked")){var n=e(this).closest(i.group_container);t.getModel(n).condition=e(this).val()}}),this.$el.on("change.queryBuilder",i.rule_filter,function(){var n=e(this).closest(i.rule_container);t.getModel(n).filter=t.getFilterById(e(this).val())}),this.$el.on("change.queryBuilder",i.rule_operator,function(){var n=e(this).closest(i.rule_container);t.getModel(n).operator=t.getOperatorByType(e(this).val())}),this.$el.on("click.queryBuilder",i.add_rule,function(){var n=e(this).closest(i.group_container);t.addRule(t.getModel(n))}),this.$el.on("click.queryBuilder",i.delete_rule,function(){var n=e(this).closest(i.rule_container);t.deleteRule(t.getModel(n))}),0!==this.settings.allow_groups&&(this.$el.on("click.queryBuilder",i.add_group,function(){var n=e(this).closest(i.group_container);t.addGroup(t.getModel(n))}),this.$el.on("click.queryBuilder",i.delete_group,function(){var n=e(this).closest(i.group_container);t.deleteGroup(t.getModel(n))})),this.model.on({drop:function(e,i){i.$el.remove(),t.refreshGroupsConditions()},add:function(e,i,n,r){0===r?n.$el.prependTo(i.$el.find(">"+o.selectors.rules_list)):n.$el.insertAfter(i.rules[r-1].$el),t.refreshGroupsConditions()},move:function(e,i,n,r){i.$el.detach(),0===r?i.$el.prependTo(n.$el.find(">"+o.selectors.rules_list)):i.$el.insertAfter(n.rules[r-1].$el),t.refreshGroupsConditions()},update:function(e,i,n,r,o){if(i instanceof c)switch(n){case"error":t.updateError(i);break;case"flags":t.applyRuleFlags(i);break;case"filter":t.updateRuleFilter(i,o);break;case"operator":t.updateRuleOperator(i,o);break;case"value":t.updateRuleValue(i,o)}else switch(n){case"error":t.updateError(i);break;case"flags":t.applyGroupFlags(i);break;case"condition":t.updateGroupCondition(i,o)}}})},o.prototype.setRoot=function(t,i,n){t=void 0===t||!0===t;var r=this.nextGroupId(),o=e(this.getGroupTemplate(r,1));return this.$el.append(o),this.model.root=new l(null,o),this.model.root.model=this.model,this.model.root.data=i,this.model.root.flags=e.extend({},this.settings.default_group_flags,n),this.model.root.condition=this.settings.default_condition,this.trigger("afterAddGroup",this.model.root),t&&this.addRule(this.model.root),this.model.root},o.prototype.addGroup=function(t,i,n,r){i=void 0===i||!0===i;var o=t.level+1;if(this.trigger("beforeAddGroup",t,i,o).isDefaultPrevented())return null;var a=this.nextGroupId(),s=e(this.getGroupTemplate(a,o)),l=t.addGroup(s);return l.data=n,l.flags=e.extend({},this.settings.default_group_flags,r),l.condition=this.settings.default_condition,this.trigger("afterAddGroup",l),this.trigger("rulesChanged"),i&&this.addRule(l),l},o.prototype.deleteGroup=function(e){if(e.isRoot())return!1;if(this.trigger("beforeDeleteGroup",e).isDefaultPrevented())return!1;var t=!0;return e.each("reverse",function(e){t&=this.deleteRule(e)},function(e){t&=this.deleteGroup(e)},this),t&&(e.drop(),this.trigger("afterDeleteGroup"),this.trigger("rulesChanged")),t},o.prototype.updateGroupCondition=function(t,i){t.$el.find(">"+o.selectors.group_condition).each(function(){var i=e(this);i.prop("checked",i.val()===t.condition),i.parent().toggleClass("active",i.val()===t.condition)}),this.trigger("afterUpdateGroupCondition",t,i),this.trigger("rulesChanged")},o.prototype.refreshGroupsConditions=function(){!function e(t){(!t.flags||t.flags&&!t.flags.condition_readonly)&&t.$el.find(">"+o.selectors.group_condition).prop("disabled",t.rules.length<=1).parent().toggleClass("disabled",t.rules.length<=1),t.each(null,function(t){e(t)},this)}(this.model.root)},o.prototype.addRule=function(t,i,n){if(this.trigger("beforeAddRule",t).isDefaultPrevented())return null;var r=this.nextRuleId(),o=e(this.getRuleTemplate(r)),a=t.addRule(o);return a.data=i,a.flags=e.extend({},this.settings.default_rule_flags,n),this.trigger("afterAddRule",a),this.trigger("rulesChanged"),this.createRuleFilters(a),!this.settings.default_filter&&this.settings.display_empty_filter||(a.filter=this.change("getDefaultFilter",this.getFilterById(this.settings.default_filter||this.filters[0].id),a)),a},o.prototype.deleteRule=function(e){return!e.flags.no_delete&&(!this.trigger("beforeDeleteRule",e).isDefaultPrevented()&&(e.drop(),this.trigger("afterDeleteRule"),this.trigger("rulesChanged"),!0))},o.prototype.createRuleFilters=function(t){var i=this.change("getRuleFilters",this.filters,t),n=e(this.getRuleFilterSelect(t,i));t.$el.find(o.selectors.filter_container).html(n),this.trigger("afterCreateRuleFilters",t),this.applyRuleFlags(t)},o.prototype.createRuleOperators=function(t){var i=t.$el.find(o.selectors.operator_container).empty();if(t.filter){var n=this.getOperators(t.filter),r=e(this.getRuleOperatorSelect(t,n));i.html(r),t.filter.default_operator?t.__.operator=this.getOperatorByType(t.filter.default_operator):t.__.operator=n[0],t.$el.find(o.selectors.rule_operator).val(t.operator.type),this.trigger("afterCreateRuleOperators",t,n),this.applyRuleFlags(t)}},o.prototype.createRuleInput=function(t){var i=t.$el.find(o.selectors.value_container).empty();if(t.__.value=void 0,t.filter&&t.operator&&0!==t.operator.nb_inputs){for(var n=this,r=e(),a=t.filter,s=0;s<t.operator.nb_inputs;s++){var l=e(this.getRuleInput(t,s));s>0&&i.append(this.settings.inputs_separator),i.append(l),r=r.add(l)}i.css("display",""),r.on("change "+(a.input_event||""),function(){t._updating_input||(t._updating_value=!0,t.value=n.getRuleInputValue(t),t._updating_value=!1)}),a.plugin&&r[a.plugin](a.plugin_config||{}),this.trigger("afterCreateRuleInput",t),void 0!==a.default_value?t.value=a.default_value:(t._updating_value=!0,t.value=n.getRuleInputValue(t),t._updating_value=!1),this.applyRuleFlags(t)}},o.prototype.updateRuleFilter=function(e,t){this.createRuleOperators(e),this.createRuleInput(e),e.$el.find(o.selectors.rule_filter).val(e.filter?e.filter.id:"-1"),t&&e.filter&&t.id!==e.filter.id&&(e.data=void 0),this.trigger("afterUpdateRuleFilter",e,t),this.trigger("rulesChanged")},o.prototype.updateRuleOperator=function(e,t){var i=e.$el.find(o.selectors.value_container);e.operator&&0!==e.operator.nb_inputs?(i.css("display",""),!i.is(":empty")&&t&&e.operator.nb_inputs===t.nb_inputs&&e.operator.optgroup===t.optgroup||this.createRuleInput(e)):(i.hide(),e.__.value=void 0),e.operator&&(e.$el.find(o.selectors.rule_operator).val(e.operator.type),e.__.value=this.getRuleInputValue(e)),this.trigger("afterUpdateRuleOperator",e,t),this.trigger("rulesChanged")},o.prototype.updateRuleValue=function(e,t){e._updating_value||this.setRuleInputValue(e,e.value),this.trigger("afterUpdateRuleValue",e,t),this.trigger("rulesChanged")},o.prototype.applyRuleFlags=function(e){var t=e.flags,i=o.selectors;e.$el.find(i.rule_filter).prop("disabled",t.filter_readonly),e.$el.find(i.rule_operator).prop("disabled",t.operator_readonly),e.$el.find(i.rule_value).prop("disabled",t.value_readonly),t.no_delete&&e.$el.find(i.delete_rule).remove(),this.trigger("afterApplyRuleFlags",e)},o.prototype.applyGroupFlags=function(e){var t=e.flags,i=o.selectors;e.$el.find(">"+i.group_condition).prop("disabled",t.condition_readonly).parent().toggleClass("readonly",t.condition_readonly),t.no_add_rule&&e.$el.find(i.add_rule).remove(),t.no_add_group&&e.$el.find(i.add_group).remove(),t.no_delete&&e.$el.find(i.delete_group).remove(),this.trigger("afterApplyGroupFlags",e)},o.prototype.clearErrors=function(e){(e=e||this.model.root)&&(e.error=null,e instanceof l&&e.each(function(e){e.error=null},function(e){this.clearErrors(e)},this))},o.prototype.updateError=function(e){if(this.settings.display_errors)if(null===e.error)e.$el.removeClass("has-error");else{var t=this.translate("errors",e.error[0]);t=a.fmt(t,e.error.slice(1)),t=this.change("displayError",t,e.error,e),e.$el.addClass("has-error").find(o.selectors.error_container).eq(0).attr("title",t)}},o.prototype.triggerValidationError=function(t,i,n){e.isArray(i)||(i=[i]),this.trigger("validationError",t,i,n).isDefaultPrevented()||(t.error=i)},o.prototype.destroy=function(){this.trigger("beforeDestroy"),this.status.generated_id&&this.$el.removeAttr("id"),this.clear(),this.model=null,this.$el.off(".queryBuilder").removeClass("query-builder").removeData("queryBuilder"),delete this.$el[0].queryBuilder},o.prototype.reset=function(){this.trigger("beforeReset").isDefaultPrevented()||(this.status.group_id=1,this.status.rule_id=0,this.model.root.empty(),this.model.root.data=void 0,this.model.root.flags=e.extend({},this.settings.default_group_flags),this.model.root.condition=this.settings.default_condition,this.addRule(this.model.root),this.trigger("afterReset"),this.trigger("rulesChanged"))},o.prototype.clear=function(){this.trigger("beforeClear").isDefaultPrevented()||(this.status.group_id=0,this.status.rule_id=0,this.model.root&&(this.model.root.drop(),this.model.root=null),this.trigger("afterClear"),this.trigger("rulesChanged"))},o.prototype.setOptions=function(t){e.each(t,function(e,t){-1!==o.modifiable_options.indexOf(e)&&(this.settings[e]=t)}.bind(this))},o.prototype.getModel=function(t){return t?t instanceof s?t:e(t).data("queryBuilderModel"):this.model.root},o.prototype.validate=function(t){t=e.extend({skip_empty:!1},t),this.clearErrors();var i=this,n=function e(n){var r=0,o=0;return n.each(function(e){if(e.filter||!t.skip_empty){if(!e.filter)return i.triggerValidationError(e,"no_filter",null),void o++;if(!e.operator)return i.triggerValidationError(e,"no_operator",null),void o++;if(0!==e.operator.nb_inputs){var n=i.validateValue(e,e.value);if(!0!==n)return i.triggerValidationError(e,n,e.value),void o++}r++}},function(t){var i=e(t);!0===i?r++:!1===i&&o++}),!(o>0)&&(0===r&&!n.isRoot()&&t.skip_empty?null:!!(0!==r||i.settings.allow_empty&&n.isRoot())||(i.triggerValidationError(n,"empty_group",null),!1))}(this.model.root);return this.change("validate",n)},o.prototype.getRules=function(t){t=e.extend({get_flags:!1,allow_invalid:!1,skip_empty:!1},t);var i=this.validate(t);if(!i&&!t.allow_invalid)return null;var n=this,r=function i(r){var o={condition:r.condition,rules:[]};if(r.data&&(o.data=e.extendext(!0,"replace",{},r.data)),t.get_flags){var a=n.getGroupFlags(r.flags,"all"===t.get_flags);e.isEmptyObject(a)||(o.flags=a)}return r.each(function(i){if(i.filter||!t.skip_empty){var r=null;i.operator&&0===i.operator.nb_inputs||(r=i.value);var a={id:i.filter?i.filter.id:null,field:i.filter?i.filter.field:null,type:i.filter?i.filter.type:null,input:i.filter?i.filter.input:null,operator:i.operator?i.operator.type:null,value:r};if((i.filter&&i.filter.data||i.data)&&(a.data=e.extendext(!0,"replace",{},i.filter.data,i.data)),t.get_flags){var s=n.getRuleFlags(i.flags,"all"===t.get_flags);e.isEmptyObject(s)||(a.flags=s)}o.rules.push(n.change("ruleToJson",a,i))}},function(e){var n=i(e);0===n.rules.length&&t.skip_empty||o.rules.push(n)},this),n.change("groupToJson",o,r)}(this.model.root);return r.valid=i,this.change("getRules",r)},o.prototype.setRules=function(t,i){i=e.extend({allow_invalid:!1},i),e.isArray(t)&&(t={condition:this.settings.default_condition,rules:t}),t&&t.rules&&(0!==t.rules.length||this.settings.allow_empty)||a.error("RulesParse","Incorrect data object passed"),this.clear(),this.setRoot(!1,t.data,this.parseGroupFlags(t)),t=this.change("setRules",t,i);var n=this;!function e(t,r){null!==r&&(void 0===t.condition?t.condition=n.settings.default_condition:-1==n.settings.conditions.indexOf(t.condition)&&(a.error(!i.allow_invalid,"UndefinedCondition",'Invalid condition "{0}"',t.condition),t.condition=n.settings.default_condition),r.condition=t.condition,t.rules.forEach(function(t){var o;if(void 0!==t.rules)if(-1!==n.settings.allow_groups&&n.settings.allow_groups<r.level)a.error(!i.allow_invalid,"RulesParse","No more than {0} groups are allowed",n.settings.allow_groups),n.reset();else{if(null===(o=n.addGroup(r,!1,t.data,n.parseGroupFlags(t))))return;e(t,o)}else{if(t.empty||(void 0===t.id&&(a.error(!i.allow_invalid,"RulesParse","Missing rule field id"),t.empty=!0),void 0===t.operator&&(t.operator="equal")),null===(o=n.addRule(r,t.data,n.parseRuleFlags(t))))return;t.empty||(o.filter=n.getFilterById(t.id,!i.allow_invalid)),o.filter&&(o.operator=n.getOperatorByType(t.operator,!i.allow_invalid),o.operator||(o.operator=n.getOperators(o.filter)[0])),o.operator&&0!==o.operator.nb_inputs&&(void 0!==t.value?o.value=t.value:void 0!==o.filter.default_value&&(o.value=o.filter.default_value)),n.change("jsonToRule",o,t)!=o&&a.error("RulesParse","Plugin tried to change rule reference")}}),n.change("jsonToGroup",r,t)!=r&&a.error("RulesParse","Plugin tried to change group reference"))}(t,this.model.root),this.trigger("afterSetRules")},o.prototype.validateValue=function(e,t){var i=e.filter.validation||{},n=!0;return n=i.callback?i.callback.call(this,t,e):this._validateValue(e,t),this.change("validateValue",n,t,e)},o.prototype._validateValue=function(t,i){var n,r,s=t.filter,l=t.operator,c=s.validation||{},u=!0;1===t.operator.nb_inputs&&(i=[i]);for(var d=0;d<l.nb_inputs;d++){if(!l.multiple&&e.isArray(i[d])&&i[d].length>1){u=["operator_not_multiple",l.type,this.translate("operators",l.type)];break}switch(s.input){case"radio":if(void 0===i[d]||0===i[d].length){c.allow_empty_value||(u=["radio_empty"]);break}break;case"checkbox":if(void 0===i[d]||0===i[d].length){c.allow_empty_value||(u=["checkbox_empty"]);break}break;case"select":if(void 0===i[d]||0===i[d].length||s.placeholder&&i[d]==s.placeholder_value){c.allow_empty_value||(u=["select_empty"]);break}break;default:r=e.isArray(i[d])?i[d]:[i[d]];for(var p=0;p<r.length;p++){switch(o.types[s.type]){case"string":if(void 0===r[p]||0===r[p].length){c.allow_empty_value||(u=["string_empty"]);break}if(void 0!==c.min&&r[p].length<parseInt(c.min)){u=[this.getValidationMessage(c,"min","string_exceed_min_length"),c.min];break}if(void 0!==c.max&&r[p].length>parseInt(c.max)){u=[this.getValidationMessage(c,"max","string_exceed_max_length"),c.max];break}if(c.format&&("string"==typeof c.format&&(c.format=new RegExp(c.format)),!c.format.test(r[p]))){u=[this.getValidationMessage(c,"format","string_invalid_format"),c.format];break}break;case"number":if(void 0===r[p]||0===r[p].length){c.allow_empty_value||(u=["number_nan"]);break}if(isNaN(r[p])){u=["number_nan"];break}if("integer"==s.type){if(parseInt(r[p])!=r[p]){u=["number_not_integer"];break}}else if(parseFloat(r[p])!=r[p]){u=["number_not_double"];break}if(void 0!==c.min&&r[p]<parseFloat(c.min)){u=[this.getValidationMessage(c,"min","number_exceed_min"),c.min];break}if(void 0!==c.max&&r[p]>parseFloat(c.max)){u=[this.getValidationMessage(c,"max","number_exceed_max"),c.max];break}if(void 0!==c.step&&"any"!==c.step){var h=(r[p]/c.step).toPrecision(14);if(parseInt(h)!=h){u=[this.getValidationMessage(c,"step","number_wrong_step"),c.step];break}}break;case"datetime":if(void 0===r[p]||0===r[p].length){c.allow_empty_value||(u=["datetime_empty"]);break}if(c.format){"moment"in window||a.error("MissingLibrary","MomentJS is required for Date/Time validation. Get it here http://momentjs.com");var f=moment(r[p],c.format);if(!f.isValid()){u=[this.getValidationMessage(c,"format","datetime_invalid"),c.format];break}if(c.min&&f<moment(c.min,c.format)){u=[this.getValidationMessage(c,"min","datetime_exceed_min"),c.min];break}if(c.max&&f>moment(c.max,c.format)){u=[this.getValidationMessage(c,"max","datetime_exceed_max"),c.max];break}}break;case"boolean":if(void 0===r[p]||0===r[p].length){c.allow_empty_value||(u=["boolean_not_valid"]);break}if("true"!==(n=(""+r[p]).trim().toLowerCase())&&"false"!==n&&"1"!==n&&"0"!==n&&1!==r[p]&&0!==r[p]){u=["boolean_not_valid"];break}}if(!0!==u)break}}if(!0!==u)break}if(("between"===t.operator.type||"not_between"===t.operator.type)&&2===i.length)switch(o.types[s.type]){case"number":i[0]>i[1]&&(u=["number_between_invalid",i[0],i[1]]);break;case"datetime":c.format&&("moment"in window||a.error("MissingLibrary","MomentJS is required for Date/Time validation. Get it here http://momentjs.com"),moment(i[0],c.format).isAfter(moment(i[1],c.format))&&(u=["datetime_between_invalid",i[0],i[1]]))}return u},o.prototype.nextGroupId=function(){return this.status.id+"_group_"+this.status.group_id++},o.prototype.nextRuleId=function(){return this.status.id+"_rule_"+this.status.rule_id++},o.prototype.getOperators=function(e){"string"==typeof e&&(e=this.getFilterById(e));for(var t=[],i=0,n=this.operators.length;i<n;i++){if(e.operators){if(-1==e.operators.indexOf(this.operators[i].type))continue}else if(-1==this.operators[i].apply_to.indexOf(o.types[e.type]))continue;t.push(this.operators[i])}return e.operators&&t.sort(function(t,i){return e.operators.indexOf(t.type)-e.operators.indexOf(i.type)}),this.change("getOperators",t,e)},o.prototype.getFilterById=function(e,t){if("-1"==e)return null;for(var i=0,n=this.filters.length;i<n;i++)if(this.filters[i].id==e)return this.filters[i];return a.error(!1!==t,"UndefinedFilter",'Undefined filter "{0}"',e),null},o.prototype.getOperatorByType=function(e,t){if("-1"==e)return null;for(var i=0,n=this.operators.length;i<n;i++)if(this.operators[i].type==e)return this.operators[i];return a.error(!1!==t,"UndefinedOperator",'Undefined operator "{0}"',e),null},o.prototype.getRuleInputValue=function(t){var i=t.filter,n=t.operator,r=[];if(i.valueGetter)r=i.valueGetter.call(this,t);else{for(var s=t.$el.find(o.selectors.value_container),l=0;l<n.nb_inputs;l++){var c,u=a.escapeElementId(t.id+"_value_"+l);switch(i.input){case"radio":r.push(s.find("[name="+u+"]:checked").val());break;case"checkbox":c=[],s.find("[name="+u+"]:checked").each(function(){c.push(e(this).val())}),r.push(c);break;case"select":i.multiple?(c=[],s.find("[name="+u+"] option:selected").each(function(){c.push(e(this).val())}),r.push(c)):r.push(s.find("[name="+u+"] option:selected").val());break;default:r.push(s.find("[name="+u+"]").val())}}r=r.map(function(t){return n.multiple&&i.value_separator&&"string"==typeof t&&(t=t.split(i.value_separator)),e.isArray(t)?t.map(function(e){return a.changeType(e,i.type)}):a.changeType(t,i.type)}),1===n.nb_inputs&&(r=r[0]),i.valueParser&&(r=i.valueParser.call(this,t,r))}return this.change("getRuleValue",r,t)},o.prototype.setRuleInputValue=function(t,i){var n=t.filter,r=t.operator;if(n&&r){if(t._updating_input=!0,n.valueSetter)n.valueSetter.call(this,t,i);else{var s=t.$el.find(o.selectors.value_container);1==r.nb_inputs&&(i=[i]);for(var l=0;l<r.nb_inputs;l++){var c=a.escapeElementId(t.id+"_value_"+l);switch(n.input){case"radio":s.find("[name="+c+'][value="'+i[l]+'"]').prop("checked",!0).trigger("change");break;case"checkbox":e.isArray(i[l])||(i[l]=[i[l]]),i[l].forEach(function(e){s.find("[name="+c+'][value="'+e+'"]').prop("checked",!0).trigger("change")});break;default:r.multiple&&n.value_separator&&e.isArray(i[l])&&(i[l]=i[l].join(n.value_separator)),s.find("[name="+c+"]").val(i[l]).trigger("change")}}}t._updating_input=!1}},o.prototype.parseRuleFlags=function(t){var i=e.extend({},this.settings.default_rule_flags);return t.readonly&&e.extend(i,{filter_readonly:!0,operator_readonly:!0,value_readonly:!0,no_delete:!0}),t.flags&&e.extend(i,t.flags),this.change("parseRuleFlags",i,t)},o.prototype.getRuleFlags=function(t,i){if(i)return e.extend({},t);var n={};return e.each(this.settings.default_rule_flags,function(e,i){t[e]!==i&&(n[e]=t[e])}),n},o.prototype.parseGroupFlags=function(t){var i=e.extend({},this.settings.default_group_flags);return t.readonly&&e.extend(i,{condition_readonly:!0,no_add_rule:!0,no_add_group:!0,no_delete:!0}),t.flags&&e.extend(i,t.flags),this.change("parseGroupFlags",i,t)},o.prototype.getGroupFlags=function(t,i){if(i)return e.extend({},t);var n={};return e.each(this.settings.default_group_flags,function(e,i){t[e]!==i&&(n[e]=t[e])}),n},o.prototype.translate=function(e,t){t||(t=e,e=void 0);var i;return i="object"==typeof t?t[this.settings.lang_code]||t.en:(e?this.lang[e]:this.lang)[t]||t,this.change("translate",i,t,e)},o.prototype.getValidationMessage=function(e,t,i){return e.messages&&e.messages[t]||i},o.templates.group='<div id="{{= it.group_id }}" class="rules-group-container">   <div class="rules-group-header">     <div class="btn-group pull-right group-actions">       <button type="button" class="btn btn-xs btn-success" data-add="rule">         <i class="{{= it.icons.add_rule }}"></i> {{= it.translate("add_rule") }}       </button>       {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }}         <button type="button" class="btn btn-xs btn-success" data-add="group">           <i class="{{= it.icons.add_group }}"></i> {{= it.translate("add_group") }}         </button>       {{?}}       {{? it.level>1 }}         <button type="button" class="btn btn-xs btn-danger" data-delete="group">           <i class="{{= it.icons.remove_group }}"></i> {{= it.translate("delete_group") }}         </button>       {{?}}     </div>     <div class="btn-group group-conditions">       {{~ it.conditions: condition }}         <label class="btn btn-xs btn-primary">           <input type="radio" name="{{= it.group_id }}_cond" value="{{= condition }}"> {{= it.translate("conditions", condition) }}         </label>       {{~}}     </div>     {{? it.settings.display_errors }}       <div class="error-container"><i class="{{= it.icons.error }}"></i></div>     {{?}}   </div>   <div class=rules-group-body>     <div class=rules-list></div>   </div> </div>',o.templates.rule='<div id="{{= it.rule_id }}" class="rule-container">   <div class="rule-header">     <div class="btn-group pull-right rule-actions">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule">         <i class="{{= it.icons.remove_rule }}"></i> {{= it.translate("delete_rule") }}       </button>     </div>   </div>   {{? it.settings.display_errors }}     <div class="error-container"><i class="{{= it.icons.error }}"></i></div>   {{?}}   <div class="rule-filter-container"></div>   <div class="rule-operator-container"></div>   <div class="rule-value-container"></div> </div>',o.templates.filterSelect='{{ var optgroup = null; }} <select class="form-control" name="{{= it.rule.id }}_filter">   {{? it.settings.display_empty_filter }}     <option value="-1">{{= it.settings.select_placeholder }}</option>   {{?}}   {{~ it.filters: filter }}     {{? optgroup !== filter.optgroup }}       {{? optgroup !== null }}</optgroup>{{?}}       {{? (optgroup = filter.optgroup) !== null }}         <optgroup label="{{= it.translate(it.settings.optgroups[optgroup]) }}">       {{?}}     {{?}}     <option value="{{= filter.id }}" {{? filter.icon}}data-icon="{{= filter.icon}}"{{?}}>{{= it.translate(filter.label) }}</option>   {{~}}   {{? optgroup !== null }}</optgroup>{{?}} </select>',o.templates.operatorSelect='{{? it.operators.length === 1 }} <span> {{= it.translate("operators", it.operators[0].type) }} </span> {{?}} {{ var optgroup = null; }} <select class="form-control {{? it.operators.length === 1 }}hide{{?}}" name="{{= it.rule.id }}_operator">   {{~ it.operators: operator }}     {{? optgroup !== operator.optgroup }}       {{? optgroup !== null }}</optgroup>{{?}}       {{? (optgroup = operator.optgroup) !== null }}         <optgroup label="{{= it.translate(it.settings.optgroups[optgroup]) }}">       {{?}}     {{?}}     <option value="{{= operator.type }}" {{? operator.icon}}data-icon="{{= operator.icon}}"{{?}}>{{= it.translate("operators", operator.type) }}</option>   {{~}}   {{? optgroup !== null }}</optgroup>{{?}} </select>',o.templates.ruleValueSelect='{{ var optgroup = null; }} <select class="form-control" name="{{= it.name }}" {{? it.rule.filter.multiple }}multiple{{?}}>   {{? it.rule.filter.placeholder }}     <option value="{{= it.rule.filter.placeholder_value }}" disabled selected>{{= it.rule.filter.placeholder }}</option>   {{?}}   {{~ it.rule.filter.values: entry }}     {{? optgroup !== entry.optgroup }}       {{? optgroup !== null }}</optgroup>{{?}}       {{? (optgroup = entry.optgroup) !== null }}         <optgroup label="{{= it.translate(it.settings.optgroups[optgroup]) }}">       {{?}}     {{?}}     <option value="{{= entry.value }}">{{= entry.label }}</option>   {{~}}   {{? optgroup !== null }}</optgroup>{{?}} </select>',o.prototype.getGroupTemplate=function(e,t){var i=this.templates.group({builder:this,group_id:e,level:t,conditions:this.settings.conditions,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getGroupTemplate",i,t)},o.prototype.getRuleTemplate=function(e){var t=this.templates.rule({builder:this,rule_id:e,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleTemplate",t)},o.prototype.getRuleFilterSelect=function(e,t){var i=this.templates.filterSelect({builder:this,rule:e,filters:t,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleFilterSelect",i,e,t)},o.prototype.getRuleOperatorSelect=function(e,t){var i=this.templates.operatorSelect({builder:this,rule:e,operators:t,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleOperatorSelect",i,e,t)},o.prototype.getRuleValueSelect=function(e,t){var i=this.templates.ruleValueSelect({builder:this,name:e,rule:t,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleValueSelect",i,e,t)},o.prototype.getRuleInput=function(e,t){var i=e.filter,n=e.filter.validation||{},r=e.id+"_value_"+t,o=i.vertical?" class=block":"",s="";if("function"==typeof i.input)s=i.input.call(this,e,r);else switch(i.input){case"radio":case"checkbox":a.iterateOptions(i.values,function(e,t){s+="<label"+o+'><input type="'+i.input+'" name="'+r+'" value="'+e+'"> '+t+"</label> "});break;case"select":s=this.getRuleValueSelect(r,e);break;case"textarea":s+='<textarea class="form-control" name="'+r+'"',i.size&&(s+=' cols="'+i.size+'"'),i.rows&&(s+=' rows="'+i.rows+'"'),void 0!==n.min&&(s+=' minlength="'+n.min+'"'),void 0!==n.max&&(s+=' maxlength="'+n.max+'"'),i.placeholder&&(s+=' placeholder="'+i.placeholder+'"'),s+="></textarea>";break;case"number":s+='<input class="form-control" type="number" name="'+r+'"',void 0!==n.step&&(s+=' step="'+n.step+'"'),void 0!==n.min&&(s+=' min="'+n.min+'"'),void 0!==n.max&&(s+=' max="'+n.max+'"'),i.placeholder&&(s+=' placeholder="'+i.placeholder+'"'),i.size&&(s+=' size="'+i.size+'"'),s+=">";break;default:s+='<input class="form-control" type="text" name="'+r+'"',i.placeholder&&(s+=' placeholder="'+i.placeholder+'"'),"string"===i.type&&void 0!==n.min&&(s+=' minlength="'+n.min+'"'),"string"===i.type&&void 0!==n.max&&(s+=' maxlength="'+n.max+'"'),i.size&&(s+=' size="'+i.size+'"'),s+=">"}return this.change("getRuleInput",s,e,r)};var a={};o.utils=a,a.iterateOptions=function(t,i){t&&(e.isArray(t)?t.forEach(function(t){e.isPlainObject(t)?"value"in t?i(t.value,t.label||t.value,t.optgroup):e.each(t,function(e,t){return i(e,t),!1}):i(t,t)}):e.each(t,function(e,t){i(e,t)}))},a.fmt=function(e,t){return Array.isArray(t)||(t=Array.prototype.slice.call(arguments,1)),e.replace(/{([0-9]+)}/g,function(e,i){return t[parseInt(i)]})},a.error=function(){var e=0,t="boolean"!=typeof arguments[e]||arguments[e++],i=arguments[e++],n=arguments[e++],r=Array.isArray(arguments[e])?arguments[e]:Array.prototype.slice.call(arguments,e);if(t){var o=new Error(a.fmt(n,r));throw o.name=i+"Error",o.args=r,o}console.error(i+"Error: "+a.fmt(n,r))},a.changeType=function(e,t){if(""!==e&&void 0!==e)switch(t){case"integer":return"string"!=typeof e||/^-?\d+$/.test(e)?parseInt(e):e;case"double":return"string"!=typeof e||/^-?\d+\.?\d*$/.test(e)?parseFloat(e):e;case"boolean":return"string"!=typeof e||/^(0|1|true|false){1}$/i.test(e)?!0===e||1===e||"true"===e.toLowerCase()||"1"===e:e;default:return e}},a.escapeString=function(e){return"string"!=typeof e?e:e.replace(/[\0\n\r\b\\\'\"]/g,function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";default:return"\\"+e}}).replace(/\t/g,"\\t").replace(/\x1a/g,"\\Z")},a.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},a.escapeElementId=function(e){return e?e.replace(/(\\)?([:.\[\],])/g,function(e,t,i){return t?e:"\\"+i}):e},a.groupSort=function(e,t){var i=[],n=[];return e.forEach(function(e){var r;e[t]?(r=i.lastIndexOf(e[t]),-1==r?r=i.length:r++):r=i.length,i.splice(r,0,e[t]),n.splice(r,0,e)}),n},a.defineModelProperties=function(t,i){i.forEach(function(i){Object.defineProperty(t.prototype,i,{enumerable:!0,get:function(){return this.__[i]},set:function(t){var n=null!==this.__[i]&&"object"==typeof this.__[i]?e.extend({},this.__[i]):this.__[i];this.__[i]=t,
null!==this.model&&this.model.trigger("update",this,i,t,n)}})})},e.extend(i.prototype,{trigger:function(t){var i=new e.Event(t);return this.$.triggerHandler(i,Array.prototype.slice.call(arguments,1)),i},on:function(){return this.$.on.apply(this.$,Array.prototype.slice.call(arguments)),this},off:function(){return this.$.off.apply(this.$,Array.prototype.slice.call(arguments)),this},once:function(){return this.$.one.apply(this.$,Array.prototype.slice.call(arguments)),this}});var s=function(e,t){if(!(this instanceof s))return new s(e,t);Object.defineProperty(this,"__",{value:{}}),t.data("queryBuilderModel",this),this.__.level=1,this.__.error=null,this.__.flags={},this.__.data=void 0,this.$el=t,this.id=t[0].id,this.model=null,this.parent=e};a.defineModelProperties(s,["level","error","data","flags"]),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){return this.__.parent},set:function(e){this.__.parent=e,this.level=null===e?1:e.level+1,this.model=null===e?null:e.model}}),s.prototype.isRoot=function(){return 1===this.level},s.prototype.getPos=function(){return this.isRoot()?-1:this.parent.getNodePos(this)},s.prototype.drop=function(){var e=this.model;this.parent&&this.parent.removeNode(this),this.$el.removeData("queryBuilderModel"),null!==e&&e.trigger("drop",this)},s.prototype.moveAfter=function(e){this.isRoot()||this.move(e.parent,e.getPos()+1)},s.prototype.moveAtBegin=function(e){this.isRoot()||(void 0===e&&(e=this.parent),this.move(e,0))},s.prototype.moveAtEnd=function(e){this.isRoot()||(void 0===e&&(e=this.parent),this.move(e,0===e.length()?0:e.length()-1))},s.prototype.move=function(e,t){this.isRoot()||("number"==typeof e&&(t=e,e=this.parent),this.parent.removeNode(this),e.insertNode(this,t,!1),null!==this.model&&this.model.trigger("move",this,e,t))};var l=function(e,t){if(!(this instanceof l))return new l(e,t);s.call(this,e,t),this.rules=[],this.__.condition=null};l.prototype=Object.create(s.prototype),l.prototype.constructor=l,a.defineModelProperties(l,["condition"]),l.prototype.empty=function(){this.each("reverse",function(e){e.drop()},function(e){e.drop()})},l.prototype.drop=function(){this.empty(),s.prototype.drop.call(this)},l.prototype.length=function(){return this.rules.length},l.prototype.insertNode=function(e,t,i){return void 0===t&&(t=this.length()),this.rules.splice(t,0,e),e.parent=this,i&&null!==this.model&&this.model.trigger("add",this,e,t),e},l.prototype.addGroup=function(e,t){return this.insertNode(new l(this,e),t,!0)},l.prototype.addRule=function(e,t){return this.insertNode(new c(this,e),t,!0)},l.prototype.removeNode=function(e){var t=this.getNodePos(e);-1!==t&&(e.parent=null,this.rules.splice(t,1))},l.prototype.getNodePos=function(e){return this.rules.indexOf(e)},l.prototype.each=function(e,t,i,n){"boolean"!=typeof e&&"string"!=typeof e&&(n=i,i=t,t=e,e=!1),n=void 0===n?null:n;for(var r=e?this.rules.length-1:0,o=e?0:this.rules.length-1,a=e?-1:1,s=!1;function(){return e?r>=o:r<=o}()&&(this.rules[r]instanceof l?i&&(s=!1===i.call(n,this.rules[r])):t&&(s=!1===t.call(n,this.rules[r])),!s);r+=a);return!s},l.prototype.contains=function(e,t){return-1!==this.getNodePos(e)||!!t&&!this.each(function(){return!0},function(t){return!t.contains(e,!0)})};var c=function(e,t){if(!(this instanceof c))return new c(e,t);s.call(this,e,t),this._updating_value=!1,this._updating_input=!1,this.__.filter=null,this.__.operator=null,this.__.value=void 0};return c.prototype=Object.create(s.prototype),c.prototype.constructor=c,a.defineModelProperties(c,["filter","operator","value"]),c.prototype.isRoot=function(){return!1},o.Group=l,o.Rule=c,e.fn.queryBuilder=function(e){0===this.length&&a.error("Config","No target defined"),this.length>1&&a.error("Config","Unable to initialize on multiple target");var t=this.data("queryBuilder"),i="object"==typeof e&&e||{};if(!t&&"destroy"==e)return this;if(!t){var n=new o(this,i);this.data("queryBuilder",n),n.init(i.rules)}return"string"==typeof e?t[e].apply(t,Array.prototype.slice.call(arguments,1)):this},e.fn.queryBuilder.constructor=o,e.fn.queryBuilder.defaults=o.defaults,e.fn.queryBuilder.extend=o.extend,e.fn.queryBuilder.define=o.define,e.fn.queryBuilder.regional=o.regional,o.define("bt-checkbox",function(e){"glyphicons"==e.font&&this.$el.addClass("bt-checkbox-glyphicons"),this.on("getRuleInput.filter",function(t,i,n){var r=i.filter;if(("radio"===r.input||"checkbox"===r.input)&&!r.plugin){t.value="",r.colors||(r.colors={}),r.color&&(r.colors._def_=r.color);var o=r.vertical?' style="display:block"':"",s=0;a.iterateOptions(r.values,function(i,a){var l=r.colors[i]||r.colors._def_||e.color,c=n+"_"+s++;t.value+="<div"+o+' class="'+r.input+" "+r.input+"-"+l+'">   <input type="'+r.input+'" name="'+n+'" id="'+c+'" value="'+i+'">   <label for="'+c+'">'+a+"</label> </div>"})}})},{font:"glyphicons",color:"default"}),o.define("bt-selectpicker",function(t){e.fn.selectpicker&&e.fn.selectpicker.Constructor||a.error("MissingLibrary",'Bootstrap Select is required to use "bt-selectpicker" plugin. Get it here: http://silviomoreto.github.io/bootstrap-select');var i=o.selectors;this.on("afterCreateRuleFilters",function(e,n){n.$el.find(i.rule_filter).removeClass("form-control").selectpicker(t)}),this.on("afterCreateRuleOperators",function(e,n){n.$el.find(i.rule_operator).removeClass("form-control").selectpicker(t)}),this.on("afterUpdateRuleFilter",function(e,t){t.$el.find(i.rule_filter).selectpicker("render")}),this.on("afterUpdateRuleOperator",function(e,t){t.$el.find(i.rule_operator).selectpicker("render")}),this.on("beforeDeleteRule",function(e,t){t.$el.find(i.rule_filter).selectpicker("destroy"),t.$el.find(i.rule_operator).selectpicker("destroy")})},{container:"body",style:"btn-inverse btn-xs",width:"auto",showIcon:!1}),o.define("bt-tooltip-errors",function(t){e.fn.tooltip&&e.fn.tooltip.Constructor&&e.fn.tooltip.Constructor.prototype.fixTitle||a.error("MissingLibrary",'Bootstrap Tooltip is required to use "bt-tooltip-errors" plugin. Get it here: http://getbootstrap.com');var i=this;this.on("getRuleTemplate.filter getGroupTemplate.filter",function(t){var i=e(t.value);i.find(o.selectors.error_container).attr("data-toggle","tooltip"),t.value=i.prop("outerHTML")}),this.model.on("update",function(e,n,r){"error"==r&&i.settings.display_errors&&n.$el.find(o.selectors.error_container).eq(0).tooltip(t).tooltip("hide").tooltip("fixTitle")})},{placement:"right"}),o.extend({setFilters:function(e,t){var i=this;void 0===t&&(t=e,e=!1),t=this.checkFilters(t),t=this.change("setFilters",t);var n=t.map(function(e){return e.id});if(e||function e(t){t.each(function(e){e.filter&&-1===n.indexOf(e.filter.id)&&a.error("ChangeFilter",'A rule is using filter "{0}"',e.filter.id)},e)}(this.model.root),this.filters=t,function e(t){t.each(!0,function(e){e.filter&&-1===n.indexOf(e.filter.id)?(e.drop(),i.trigger("rulesChanged")):(i.createRuleFilters(e),e.$el.find(o.selectors.rule_filter).val(e.filter?e.filter.id:"-1"),i.trigger("afterUpdateRuleFilter",e))},e)}(this.model.root),this.settings.plugins&&(this.settings.plugins["unique-filter"]&&this.updateDisabledFilters(),this.settings.plugins["bt-selectpicker"]&&this.$el.find(o.selectors.rule_filter).selectpicker("render")),this.settings.default_filter)try{this.getFilterById(this.settings.default_filter)}catch(e){this.settings.default_filter=null}this.trigger("afterSetFilters",t)},addFilter:function(t,i){void 0===i||"#end"==i?i=this.filters.length:"#start"==i&&(i=0),e.isArray(t)||(t=[t]);var n=e.extend(!0,[],this.filters);parseInt(i)==i?Array.prototype.splice.apply(n,[i,0].concat(t)):this.filters.some(function(e,t){if(e.id==i)return i=t+1,!0})?Array.prototype.splice.apply(n,[i,0].concat(t)):Array.prototype.push.apply(n,t),this.setFilters(n)},removeFilter:function(t,i){var n=e.extend(!0,[],this.filters);"string"==typeof t&&(t=[t]),n=n.filter(function(e){return-1===t.indexOf(e.id)}),this.setFilters(i,n)}}),o.define("chosen-selectpicker",function(t){e.fn.chosen||a.error("MissingLibrary",'chosen is required to use "chosen-selectpicker" plugin. Get it here: https://github.com/harvesthq/chosen'),this.settings.plugins["bt-selectpicker"]&&a.error("Conflict","bt-selectpicker is already selected as the dropdown plugin. Please remove chosen-selectpicker from the plugin list");var i=o.selectors;this.on("afterCreateRuleFilters",function(e,n){n.$el.find(i.rule_filter).removeClass("form-control").chosen(t)}),this.on("afterCreateRuleOperators",function(e,n){n.$el.find(i.rule_operator).removeClass("form-control").chosen(t)}),this.on("afterUpdateRuleFilter",function(e,t){t.$el.find(i.rule_filter).trigger("chosen:updated")}),this.on("afterUpdateRuleOperator",function(e,t){t.$el.find(i.rule_operator).trigger("chosen:updated")}),this.on("beforeDeleteRule",function(e,t){t.$el.find(i.rule_filter).chosen("destroy"),t.$el.find(i.rule_operator).chosen("destroy")})}),o.define("filter-description",function(t){"inline"===t.mode?this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var r=n.$el.find("p.filter-description"),o=i.builder.getFilterDescription(n.filter,n);o?(0===r.length?(r=e('<p class="filter-description"></p>'),r.appendTo(n.$el)):r.css("display",""),r.html('<i class="'+t.icon+'"></i> '+o)):r.hide()}):"popover"===t.mode?(e.fn.popover&&e.fn.popover.Constructor&&e.fn.popover.Constructor.prototype.fixTitle||a.error("MissingLibrary",'Bootstrap Popover is required to use "filter-description" plugin. Get it here: http://getbootstrap.com'),this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var r=n.$el.find("button.filter-description"),a=i.builder.getFilterDescription(n.filter,n);a?(0===r.length?(r=e('<button type="button" class="btn btn-xs btn-info filter-description" data-toggle="popover"><i class="'+t.icon+'"></i></button>'),r.prependTo(n.$el.find(o.selectors.rule_actions)),r.popover({placement:"left",container:"body",html:!0}),r.on("mouseout",function(){r.popover("hide")})):r.css("display",""),r.data("bs.popover").options.content=a,r.attr("aria-describedby")&&r.popover("show")):(r.hide(),r.data("bs.popover")&&r.popover("hide"))})):"bootbox"===t.mode&&("bootbox"in window||a.error("MissingLibrary",'Bootbox is required to use "filter-description" plugin. Get it here: http://bootboxjs.com'),this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var r=n.$el.find("button.filter-description"),a=i.builder.getFilterDescription(n.filter,n);a?(0===r.length?(r=e('<button type="button" class="btn btn-xs btn-info filter-description" data-toggle="bootbox"><i class="'+t.icon+'"></i></button>'),r.prependTo(n.$el.find(o.selectors.rule_actions)),r.on("click",function(){bootbox.alert(r.data("description"))})):r.css("display",""),r.data("description",a)):r.hide()}))},{icon:"glyphicon glyphicon-info-sign",mode:"popover"}),o.extend({getFilterDescription:function(e,t){return e?"function"==typeof e.description?e.description.call(this,t):e.description:void 0}}),o.define("invert",function(t){var i=this,n=o.selectors;this.on("afterInit",function(){i.$el.on("click.queryBuilder","[data-invert=group]",function(){var r=e(this).closest(n.group_container);i.invert(i.getModel(r),t)}),t.display_rules_button&&t.invert_rules&&i.$el.on("click.queryBuilder","[data-invert=rule]",function(){var r=e(this).closest(n.rule_container);i.invert(i.getModel(r),t)})}),t.disable_template||(this.on("getGroupTemplate.filter",function(r){var o=e(r.value);o.find(n.condition_container).after('<button type="button" class="btn btn-xs btn-default" data-invert="group"><i class="'+t.icon+'"></i> '+i.translate("invert")+"</button>"),r.value=o.prop("outerHTML")}),t.display_rules_button&&t.invert_rules&&this.on("getRuleTemplate.filter",function(r){var o=e(r.value);o.find(n.rule_actions).prepend('<button type="button" class="btn btn-xs btn-default" data-invert="rule"><i class="'+t.icon+'"></i> '+i.translate("invert")+"</button>"),r.value=o.prop("outerHTML")}))},{icon:"glyphicon glyphicon-random",recursive:!0,invert_rules:!0,display_rules_button:!1,silent_fail:!1,disable_template:!1}),o.defaults({operatorOpposites:{equal:"not_equal",not_equal:"equal",in:"not_in",not_in:"in",less:"greater_or_equal",less_or_equal:"greater",greater:"less_or_equal",greater_or_equal:"less",between:"not_between",not_between:"between",begins_with:"not_begins_with",not_begins_with:"begins_with",contains:"not_contains",not_contains:"contains",ends_with:"not_ends_with",not_ends_with:"ends_with",is_empty:"is_not_empty",is_not_empty:"is_empty",is_null:"is_not_null",is_not_null:"is_null"},conditionOpposites:{AND:"OR",OR:"AND"}}),o.extend({invert:function(t,i){if(!(t instanceof s)){if(!this.model.root)return;i=t,t=this.model.root}if("object"!=typeof i&&(i={}),void 0===i.recursive&&(i.recursive=!0),void 0===i.invert_rules&&(i.invert_rules=!0),void 0===i.silent_fail&&(i.silent_fail=!1),void 0===i.trigger&&(i.trigger=!0),t instanceof l){if(this.settings.conditionOpposites[t.condition]?t.condition=this.settings.conditionOpposites[t.condition]:i.silent_fail||a.error("InvertCondition",'Unknown inverse of condition "{0}"',t.condition),i.recursive){var n=e.extend({},i,{trigger:!1});t.each(function(e){i.invert_rules&&this.invert(e,n)},function(e){this.invert(e,n)},this)}}else if(t instanceof c&&t.operator&&!t.filter.no_invert)if(this.settings.operatorOpposites[t.operator.type]){var r=this.settings.operatorOpposites[t.operator.type];t.filter.operators&&-1==t.filter.operators.indexOf(r)||(t.operator=this.getOperatorByType(r))}else i.silent_fail||a.error("InvertOperator",'Unknown inverse of operator "{0}"',t.operator.type);i.trigger&&(this.trigger("afterInvert",t,i),this.trigger("rulesChanged"))}}),o.defaults({mongoOperators:{equal:function(e){return e[0]},not_equal:function(e){return{$ne:e[0]}},in:function(e){return{$in:e}},not_in:function(e){return{$nin:e}},less:function(e){return{$lt:e[0]}},less_or_equal:function(e){return{$lte:e[0]}},greater:function(e){return{$gt:e[0]}},greater_or_equal:function(e){return{$gte:e[0]}},between:function(e){return{$gte:e[0],$lte:e[1]}},not_between:function(e){return{$lt:e[0],$gt:e[1]}},begins_with:function(e){return{$regex:"^"+a.escapeRegExp(e[0])}},not_begins_with:function(e){return{$regex:"^(?!"+a.escapeRegExp(e[0])+")"}},contains:function(e){return{$regex:a.escapeRegExp(e[0])}},not_contains:function(e){return{$regex:"^((?!"+a.escapeRegExp(e[0])+").)*$",$options:"s"}},ends_with:function(e){return{$regex:a.escapeRegExp(e[0])+"$"}},not_ends_with:function(e){return{$regex:"(?<!"+a.escapeRegExp(e[0])+")$"}},is_empty:function(e){return""},is_not_empty:function(e){return{$ne:""}},is_null:function(e){return null},is_not_null:function(e){return{$ne:null}}},mongoRuleOperators:{$eq:function(e){return{val:e,op:null===e?"is_null":""===e?"is_empty":"equal"}},$ne:function(e){return e=e.$ne,{val:e,op:null===e?"is_not_null":""===e?"is_not_empty":"not_equal"}},$regex:function(e){return e=e.$regex,"^(?!"==e.slice(0,4)&&")"==e.slice(-1)?{val:e.slice(4,-1),op:"not_begins_with"}:"^((?!"==e.slice(0,5)&&").)*$"==e.slice(-5)?{val:e.slice(5,-5),op:"not_contains"}:"(?<!"==e.slice(0,4)&&")$"==e.slice(-2)?{val:e.slice(4,-2),op:"not_ends_with"}:"$"==e.slice(-1)?{val:e.slice(0,-1),op:"ends_with"}:"^"==e.slice(0,1)?{val:e.slice(1),op:"begins_with"}:{val:e,op:"contains"}},between:function(e){return{val:[e.$gte,e.$lte],op:"between"}},not_between:function(e){return{val:[e.$lt,e.$gt],op:"not_between"}},$in:function(e){return{val:e.$in,op:"in"}},$nin:function(e){return{val:e.$nin,op:"not_in"}},$lt:function(e){return{val:e.$lt,op:"less"}},$lte:function(e){return{val:e.$lte,op:"less_or_equal"}},$gt:function(e){return{val:e.$gt,op:"greater"}},$gte:function(e){return{val:e.$gte,op:"greater_or_equal"}}}}),o.extend({getMongo:function(e){if(!(e=void 0===e?this.getRules():e))return null;var t=this;return function e(i){if(i.condition||(i.condition=t.settings.default_condition),-1===["AND","OR"].indexOf(i.condition.toUpperCase())&&a.error("UndefinedMongoCondition",'Unable to build MongoDB query with condition "{0}"',i.condition),!i.rules)return{};var n=[];i.rules.forEach(function(i){if(i.rules&&i.rules.length>0)n.push(e(i));else{var r=t.settings.mongoOperators[i.operator],o=t.getOperatorByType(i.operator);void 0===r&&a.error("UndefinedMongoOperator",'Unknown MongoDB operation for operator "{0}"',i.operator),0!==o.nb_inputs&&(i.value instanceof Array||(i.value=[i.value]));var s=t.change("getMongoDBField",i.field,i),l={};l[s]=r.call(t,i.value),n.push(t.change("ruleToMongo",l,i,i.value,r))}});var r={};return r["$"+i.condition.toLowerCase()]=n,t.change("groupToMongo",r,i)}(e)},getRulesFromMongo:function(e){if(void 0===e||null===e)return null;var t=this;if("rules"in(e=t.change("parseMongoNode",e))&&"condition"in e)return e;if("id"in e&&"operator"in e&&"value"in e)return{condition:this.settings.default_condition,rules:[e]};var i=t.getMongoCondition(e);return i||a.error("MongoParse","Invalid MongoDB query format"),function e(i,n){var r=i[n],o=[];return r.forEach(function(i){if("rules"in(i=t.change("parseMongoNode",i))&&"condition"in i)return void o.push(i);if("id"in i&&"operator"in i&&"value"in i)return void o.push(i);var n=t.getMongoCondition(i);if(n)o.push(e(i,n));else{var r=Object.keys(i)[0],s=i[r],l=t.getMongoOperator(s);void 0===l&&a.error("MongoParse","Invalid MongoDB query format");var c=t.settings.mongoRuleOperators[l];void 0===c&&a.error("UndefinedMongoOperator",'JSON Rule operation unknown for operator "{0}"',l);var u=c.call(t,s),d=t.getMongoDBFieldID(r,s),p=t.change("mongoToRule",{id:d,field:r,operator:u.op,value:u.val},i);o.push(p)}}),t.change("mongoToGroup",{condition:n.replace("$","").toUpperCase(),rules:o},i)}(e,i)},setRulesFromMongo:function(e){this.setRules(this.getRulesFromMongo(e))},getMongoDBFieldID:function(e,t){var i=this.filters.filter(function(t){return t.field===e});return 1===i.length?i[0].id:this.change("getMongoDBFieldID",e,t)},getMongoOperator:function(e){if(null===e||"object"!=typeof e)return"$eq";if(void 0!==e.$gte&&void 0!==e.$lte)return"between";if(void 0!==e.$lt&&void 0!==e.$gt)return"not_between";var t=Object.keys(e).filter(function(e){return!!this.settings.mongoRuleOperators[e]}.bind(this));return 1===t.length?t[0]:void 0},getMongoCondition:function(e){for(var t=Object.keys(e),i=0,n=t.length;i<n;i++)if("$or"===t[i].toLowerCase()||"$and"===t[i].toLowerCase())return t[i]}}),o.define("not-group",function(t){var i=this;this.on("afterInit",function(){i.$el.on("click.queryBuilder","[data-not=group]",function(){var t=e(this).closest(o.selectors.group_container),n=i.getModel(t);n.not=!n.not}),i.model.on("update",function(e,t,n){t instanceof l&&"not"===n&&i.updateGroupNot(t)})}),this.on("afterAddGroup",function(e,t){t.__.not=!1}),t.disable_template||this.on("getGroupTemplate.filter",function(n){var r=e(n.value);r.find(o.selectors.condition_container).prepend('<button type="button" class="btn btn-xs btn-default" data-not="group"><i class="'+t.icon_unchecked+'"></i> '+i.translate("NOT")+"</button>"),n.value=r.prop("outerHTML")}),this.on("groupToJson.filter",function(e,t){e.value.not=t.not}),this.on("jsonToGroup.filter",function(e,t){e.value.not=!!t.not}),this.on("groupToSQL.filter",function(e,t){t.not&&(e.value="NOT ( "+e.value+" )")}),this.on("parseSQLNode.filter",function(e){e.value.name&&"NOT"==e.value.name.toUpperCase()&&(e.value=e.value.arguments.value[0],-1===["AND","OR"].indexOf(e.value.operation.toUpperCase())&&(e.value=new SQLParser.nodes.Op(i.settings.default_condition,e.value,null)),e.value.not=!0)}),this.on("sqlGroupsDistinct.filter",function(e,t,i,n){i.not&&n>0&&(e.value=!0)}),this.on("sqlToGroup.filter",function(e,t){e.value.not=!!t.not}),this.on("groupToMongo.filter",function(e,t){var i="$"+t.condition.toLowerCase();t.not&&e.value[i]&&(e.value={$nor:[e.value]})}),this.on("parseMongoNode.filter",function(e){var t=Object.keys(e.value);"$nor"==t[0]&&(e.value=e.value[t[0]][0],e.value.not=!0)}),this.on("mongoToGroup.filter",function(e,t){e.value.not=!!t.not})},{icon_unchecked:"glyphicon glyphicon-unchecked",icon_checked:"glyphicon glyphicon-check",disable_template:!1}),a.defineModelProperties(l,["not"]),o.selectors.group_not=o.selectors.group_header+" [data-not=group]",o.extend({updateGroupNot:function(e){var t=this.plugins["not-group"];e.$el.find(">"+o.selectors.group_not).toggleClass("active",e.not).find("i").attr("class",e.not?t.icon_checked:t.icon_unchecked),this.trigger("afterUpdateGroupNot",e),this.trigger("rulesChanged")}}),o.define("sortable",function(t){"interact"in window||a.error("MissingLibrary",'interact.js is required to use "sortable" plugin. Get it here: http://interactjs.io'),void 0!==t.default_no_sortable&&(a.error(!1,"Config",'Sortable plugin : "default_no_sortable" options is deprecated, use standard "default_rule_flags" and "default_group_flags" instead'),this.settings.default_rule_flags.no_sortable=this.settings.default_group_flags.no_sortable=t.default_no_sortable),interact.dynamicDrop(!0),interact.pointerMoveTolerance(10);var i,r,s,c;this.on("afterAddRule afterAddGroup",function(a,u){if(u!=i){var d=a.builder;t.inherit_no_sortable&&u.parent&&u.parent.flags.no_sortable&&(u.flags.no_sortable=!0),t.inherit_no_drop&&u.parent&&u.parent.flags.no_drop&&(u.flags.no_drop=!0),u.flags.no_sortable||interact(u.$el[0]).draggable({allowFrom:o.selectors.drag_handle,onstart:function(t){c=!1,s=d.getModel(t.target),r=s.$el.clone().appendTo(s.$el.parent()).width(s.$el.outerWidth()).addClass("dragging");var n=e('<div class="rule-placeholder">&nbsp;</div>').height(s.$el.outerHeight());i=s.parent.addRule(n,s.getPos()),s.$el.hide()},onmove:function(e){r[0].style.top=e.clientY-15+"px",r[0].style.left=e.clientX-15+"px"},onend:function(t){t.dropzone&&(n(s,e(t.relatedTarget),d),c=!0),r.remove(),r=void 0,i.drop(),i=void 0,s.$el.css("display",""),d.trigger("afterMove",s),d.trigger("rulesChanged")}}),u.flags.no_drop||(interact(u.$el[0]).dropzone({accept:o.selectors.rule_and_group_containers,ondragenter:function(t){n(i,e(t.target),d)},ondrop:function(t){c||n(s,e(t.target),d)}}),u instanceof l&&interact(u.$el.find(o.selectors.group_header)[0]).dropzone({accept:o.selectors.rule_and_group_containers,ondragenter:function(t){n(i,e(t.target),d)},ondrop:function(t){c||n(s,e(t.target),d)}}))}}),this.on("beforeDeleteRule beforeDeleteGroup",function(e,t){e.isDefaultPrevented()||(interact(t.$el[0]).unset(),t instanceof l&&interact(t.$el.find(o.selectors.group_header)[0]).unset())}),this.on("afterApplyRuleFlags afterApplyGroupFlags",function(e,t){t.flags.no_sortable&&t.$el.find(".drag-handle").remove()}),t.disable_template||(this.on("getGroupTemplate.filter",function(i,n){if(n>1){var r=e(i.value);r.find(o.selectors.condition_container).after('<div class="drag-handle"><i class="'+t.icon+'"></i></div>'),i.value=r.prop("outerHTML")}}),this.on("getRuleTemplate.filter",function(i){var n=e(i.value);n.find(o.selectors.rule_header).after('<div class="drag-handle"><i class="'+t.icon+'"></i></div>'),i.value=n.prop("outerHTML")}))},{inherit_no_sortable:!0,inherit_no_drop:!0,icon:"glyphicon glyphicon-sort",disable_template:!1}),o.selectors.rule_and_group_containers=o.selectors.rule_container+", "+o.selectors.group_container,o.selectors.drag_handle=".drag-handle",o.defaults({default_rule_flags:{no_sortable:!1,no_drop:!1},default_group_flags:{no_sortable:!1,no_drop:!1}}),o.define("sql-support",function(e){},{boolean_as_integer:!0}),o.defaults({sqlOperators:{equal:{op:"= ?"},not_equal:{op:"!= ?"},in:{op:"IN(?)",sep:", "},not_in:{op:"NOT IN(?)",sep:", "},less:{op:"< ?"},less_or_equal:{op:"<= ?"},greater:{op:"> ?"},greater_or_equal:{op:">= ?"},between:{op:"BETWEEN ?",sep:" AND "},not_between:{op:"NOT BETWEEN ?",sep:" AND "},begins_with:{op:"LIKE(?)",mod:"{0}%"},not_begins_with:{op:"NOT LIKE(?)",mod:"{0}%"},contains:{op:"LIKE(?)",mod:"%{0}%"},not_contains:{op:"NOT LIKE(?)",mod:"%{0}%"},ends_with:{op:"LIKE(?)",mod:"%{0}"},not_ends_with:{op:"NOT LIKE(?)",mod:"%{0}"},is_empty:{op:"= ''"},is_not_empty:{op:"!= ''"},is_null:{op:"IS NULL"},is_not_null:{op:"IS NOT NULL"}},sqlRuleOperator:{"=":function(e){return{val:e,op:""===e?"is_empty":"equal"}},"!=":function(e){return{val:e,op:""===e?"is_not_empty":"not_equal"}},LIKE:function(e){return"%"==e.slice(0,1)&&"%"==e.slice(-1)?{val:e.slice(1,-1),op:"contains"}:"%"==e.slice(0,1)?{val:e.slice(1),op:"ends_with"}:"%"==e.slice(-1)?{val:e.slice(0,-1),op:"begins_with"}:void a.error("SQLParse",'Invalid value for LIKE operator "{0}"',e)},"NOT LIKE":function(e){return"%"==e.slice(0,1)&&"%"==e.slice(-1)?{val:e.slice(1,-1),op:"not_contains"}:"%"==e.slice(0,1)?{val:e.slice(1),op:"not_ends_with"}:"%"==e.slice(-1)?{val:e.slice(0,-1),op:"not_begins_with"}:void a.error("SQLParse",'Invalid value for NOT LIKE operator "{0}"',e)},IN:function(e){return{val:e,op:"in"}},"NOT IN":function(e){return{val:e,op:"not_in"}},"<":function(e){return{val:e,op:"less"}},"<=":function(e){return{val:e,op:"less_or_equal"}},">":function(e){return{val:e,op:"greater"}},">=":function(e){return{val:e,op:"greater_or_equal"}},BETWEEN:function(e){return{val:e,op:"between"}},"NOT BETWEEN":function(e){return{val:e,op:"not_between"}},IS:function(e){return null!==e&&a.error("SQLParse","Invalid value for IS operator"),{val:null,op:"is_null"}},"IS NOT":function(e){return null!==e&&a.error("SQLParse","Invalid value for IS operator"),{val:null,op:"is_not_null"}}},sqlStatements:{question_mark:function(){var e=[];return{add:function(t,i){return e.push(i),"?"},run:function(){return e}}},numbered:function(e){(!e||e.length>1)&&(e="$");var t=0,i=[];return{add:function(n,r){return i.push(r),t++,e+t},run:function(){return i}}},named:function(e){(!e||e.length>1)&&(e=":");var t={},i={};return{add:function(n,r){t[n.field]||(t[n.field]=1);var o=n.field+"_"+t[n.field]++;return i[o]=r,e+o},run:function(){return i}}}},sqlRuleStatement:{question_mark:function(e){var t=0;return{parse:function(i){return"?"==i?e[t++]:i},esc:function(e){return e.replace(/\?/g,"'?'")}}},numbered:function(e,t){(!t||t.length>1)&&(t="$");var i=new RegExp("^\\"+t+"[0-9]+$"),n=new RegExp("\\"+t+"([0-9]+)","g");return{parse:function(t){return i.test(t)?e[t.slice(1)-1]:t},esc:function(e){return e.replace(n,"'"+("$"==t?"$$":t)+"$1'")}}},named:function(e,t){(!t||t.length>1)&&(t=":");var i=new RegExp("^\\"+t),n=new RegExp("\\"+t+"("+Object.keys(e).join("|")+")","g");return{parse:function(t){return i.test(t)?e[t.slice(1)]:t},esc:function(e){return e.replace(n,"'"+("$"==t?"$$":t)+"$1'")}}}}}),o.extend({getSQL:function(e,t,i){if(!(i=void 0===i?this.getRules():i))return null;t=t?"\n":" ";var n=this.getPluginOptions("sql-support","boolean_as_integer");if(!0===e&&(e="question_mark"),"string"==typeof e){var o=r(e);e=this.settings.sqlStatements[o[1]](o[2])}var s=this,l=function i(r){if(r.condition||(r.condition=s.settings.default_condition),-1===["AND","OR"].indexOf(r.condition.toUpperCase())&&a.error("UndefinedSQLCondition",'Unable to build SQL query with condition "{0}"',r.condition),!r.rules)return"";var o=[];r.rules.forEach(function(r){if(r.rules&&r.rules.length>0)o.push("("+t+i(r)+t+")"+t);else{var l=s.settings.sqlOperators[r.operator],c=s.getOperatorByType(r.operator),u="";void 0===l&&a.error("UndefinedSQLOperator",'Unknown SQL operation for operator "{0}"',r.operator),0!==c.nb_inputs&&(r.value instanceof Array||(r.value=[r.value]),r.value.forEach(function(t,i){i>0&&(u+=l.sep),"boolean"==r.type&&n?t=t?1:0:e||"integer"===r.type||"double"===r.type||"boolean"===r.type||(t=a.escapeString(t)),l.mod&&(t=a.fmt(l.mod,t)),e?u+=e.add(r,t):("string"==typeof t&&(t="'"+t+"'"),u+=t)}));var d=function(e){return l.op.replace("?",function(){return e})},p=s.change("getSQLField",r.field,r),h=p+" "+d(u);o.push(s.change("ruleToSQL",h,r,u,d))}});var l=o.join(" "+r.condition+t);return s.change("groupToSQL",l,r)}(i);return e?{sql:l,params:e.run()}:{sql:l}},getRulesFromSQL:function(t,i){"SQLParser"in window||a.error("MissingLibrary","SQLParser is required to parse SQL queries. Get it here https://github.com/mistic100/sql-parser");var n=this;if("string"==typeof t&&(t={sql:t}),!0===i&&(i="question_mark"),"string"==typeof i){var o=r(i);i=this.settings.sqlRuleStatement[o[1]](t.params,o[2])}i&&(t.sql=i.esc(t.sql)),0!==t.sql.toUpperCase().indexOf("SELECT")&&(t.sql="SELECT * FROM table WHERE "+t.sql);var s=SQLParser.parse(t.sql);s.where||a.error("SQLParse","No WHERE clause found");var l=n.change("parseSQLNode",s.where.conditions);if("rules"in l&&"condition"in l)return l;if("id"in l&&"operator"in l&&"value"in l)return{condition:this.settings.default_condition,rules:[l]};var c=n.change("sqlToGroup",{condition:this.settings.default_condition,rules:[]},l),u=c;return function t(r,o){if(null!==r){if("rules"in(r=n.change("parseSQLNode",r))&&"condition"in r)return void u.rules.push(r);if("id"in r&&"operator"in r&&"value"in r)return void u.rules.push(r);if("left"in r&&"right"in r&&"operation"in r||a.error("SQLParse","Unable to parse WHERE clause"),-1!==["AND","OR"].indexOf(r.operation.toUpperCase())){if(n.change("sqlGroupsDistinct",o>0&&u.condition!=r.operation.toUpperCase(),u,r,o)){var s=n.change("sqlToGroup",{condition:n.settings.default_condition,rules:[]},r);u.rules.push(s),u=s}u.condition=r.operation.toUpperCase(),o++;var l=u;t(r.left,o),u=l,t(r.right,o)}else{e.isPlainObject(r.right.value)&&a.error("SQLParse","Value format not supported for {0}.",r.left.value);var c;c=e.isArray(r.right.value)?r.right.value.map(function(e){return e.value}):r.right.value,i&&(c=e.isArray(c)?c.map(i.parse):i.parse(c));var d=r.operation.toUpperCase();"<>"==d&&(d="!=");var p=n.settings.sqlRuleOperator[d];void 0===p&&a.error("UndefinedSQLOperator",'Invalid SQL operation "{0}".',r.operation);var h,f=p.call(this,c,r.operation);"values"in r.left?h=r.left.values.join("."):"value"in r.left?h=r.left.value:a.error("SQLParse","Cannot find field name in {0}",JSON.stringify(r.left));var g=n.getSQLFieldID(h,c),m=n.change("sqlToRule",{id:g,field:h,operator:f.op,value:f.val},r);u.rules.push(m)}}}(l,0),c},setRulesFromSQL:function(e,t){this.setRules(this.getRulesFromSQL(e,t))},getSQLFieldID:function(e,t){var i=this.filters.filter(function(t){return t.field.toLowerCase()===e.toLowerCase()});return 1===i.length?i[0].id:this.change("getSQLFieldID",e,t)}}),o.define("unique-filter",function(){this.status.used_filters={},this.on("afterUpdateRuleFilter",this.updateDisabledFilters),this.on("afterDeleteRule",this.updateDisabledFilters),this.on("afterCreateRuleFilters",this.applyDisabledFilters),this.on("afterReset",this.clearDisabledFilters),this.on("afterClear",this.clearDisabledFilters),this.on("getDefaultFilter.filter",function(e,t){var i=e.builder;if(i.updateDisabledFilters(),e.value.id in i.status.used_filters){i.filters.some(function(n){if(!(n.id in i.status.used_filters)||i.status.used_filters[n.id].length>0&&-1===i.status.used_filters[n.id].indexOf(t.parent))return e.value=n,!0})||(a.error(!1,"UniqueFilter","No more non-unique filters available"),e.value=void 0)}})}),o.extend({updateDisabledFilters:function(e){var t=e?e.builder:this;t.status.used_filters={},t.model&&(!function e(i){i.each(function(e){e.filter&&e.filter.unique&&(t.status.used_filters[e.filter.id]||(t.status.used_filters[e.filter.id]=[]),"group"==e.filter.unique&&t.status.used_filters[e.filter.id].push(e.parent))},function(t){e(t)})}(t.model.root),t.applyDisabledFilters(e))},clearDisabledFilters:function(e){var t=e?e.builder:this;t.status.used_filters={},t.applyDisabledFilters(e)},applyDisabledFilters:function(t){var i=t?t.builder:this;i.$el.find(o.selectors.filter_container+" option").prop("disabled",!1),e.each(i.status.used_filters,function(e,t){0===t.length?i.$el.find(o.selectors.filter_container+' option[value="'+e+'"]:not(:selected)').prop("disabled",!0):t.forEach(function(t){t.each(function(t){t.$el.find(o.selectors.filter_container+' option[value="'+e+'"]:not(:selected)').prop("disabled",!0)})})}),i.settings.plugins&&i.settings.plugins["bt-selectpicker"]&&i.$el.find(o.selectors.rule_filter).selectpicker("render")}}),o.regional.en={__locale:"English (en)",
__author:'Damien "Mistic" Sorel, http://www.strangeplanet.fr',add_rule:"Add rule",add_group:"Add group",delete_rule:"Delete",delete_group:"Delete",conditions:{AND:"AND",OR:"OR"},operators:{equal:"equal",not_equal:"not equal",in:"in",not_in:"not in",less:"less",less_or_equal:"less or equal",greater:"greater",greater_or_equal:"greater or equal",between:"between",not_between:"not between",begins_with:"begins with",not_begins_with:"doesn't begin with",contains:"contains",not_contains:"doesn't contain",ends_with:"ends with",not_ends_with:"doesn't end with",is_empty:"is empty",is_not_empty:"is not empty",is_null:"is null",is_not_null:"is not null"},errors:{no_filter:"No filter selected",empty_group:"The group is empty",radio_empty:"No value selected",checkbox_empty:"No value selected",select_empty:"No value selected",string_empty:"Empty value",string_exceed_min_length:"Must contain at least {0} characters",string_exceed_max_length:"Must not contain more than {0} characters",string_invalid_format:"Invalid format ({0})",number_nan:"Not a number",number_not_integer:"Not an integer",number_not_double:"Not a real number",number_exceed_min:"Must be greater than {0}",number_exceed_max:"Must be lower than {0}",number_wrong_step:"Must be a multiple of {0}",number_between_invalid:"Invalid values, {0} is greater than {1}",datetime_empty:"Empty value",datetime_invalid:"Invalid date format ({0})",datetime_exceed_min:"Must be after {0}",datetime_exceed_max:"Must be before {0}",datetime_between_invalid:"Invalid values, {0} is greater than {1}",boolean_not_valid:"Not a boolean",operator_not_multiple:'Operator "{1}" cannot accept multiple values'},invert:"Invert",NOT:"NOT"},o.defaults({lang_code:"en"}),o}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){"use strict";e.fn.queryBuilder.define("bt-selectpicker-values",function(t){e.fn.selectpicker&&e.fn.selectpicker.Constructor||Utils.error("MissingLibrary",'Bootstrap Select is required to use "bt-selectpicker" plugin. Get it here: http://silviomoreto.github.io/bootstrap-select'),this.on("afterCreateRuleInput",function(e,i){i.$el.find(".rule-value-container").find("select").removeClass("form-control").selectpicker(t)}),this.on("afterUpdateRuleValue",function(e,t){t.$el.find(".rule-value-container").find("select").selectpicker("render")})},{container:"body",style:"btn-inverse btn-xs",width:"auto"})}),$._getComputedStyle=function(e,t){return(window.parent?window.parent.getComputedStyle(e,""):window.getComputedStyle(e,""))[t]},$.hasTransition=function(e){var t=$._getComputedStyle(e,Modernizr.prefixed("transitionProperty"));return t&&""!=t&&"none"!=t},$.hasAnimation=function(e){var t=$._getComputedStyle(e,Modernizr.prefixed("animationName"));return t&&""!=t&&"none"!=t},$.prototype.onTransitionEndOnce=function(e){return this.each(function(t,i){$(i).onTransitionEnd(function(){$(i).unbindTransitionEnd(),e()})}),this};var animationListeners="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd animationend webkitAnimationEnd MSAnimationEnd oanimationend oAnimationEnd";$.prototype.unbindTransitionEnd=function(){return this.each(function(e,t){$(t).unbind(animationListeners)}),this},$.prototype.onTransitionEnd=function(e){return this.each(function(t,i){console.log($.hasTransition(i)),$.hasTransition(i)||$.hasAnimation(i)?(console.log(1),$(i).bind(animationListeners,e)):(console.log(0),e())}),this},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).closest("form").ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var o=i.form;if(o.clk=i,"image"===i.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=n.offset();o.clk_x=t.pageX-a.left,o.clk_y=t.pageY-a.top}else o.clk_x=t.pageX-i.offsetLeft,o.clk_y=t.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var r=/\r?\n/g,o={};o.fileapi=void 0!==e('<input type="file">').get(0).files,o.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t,i,r,s){function l(i){var n,r,o=e.param(i,t.traditional).split("&"),a=o.length,s=[];for(n=0;n<a;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function c(i){function r(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){n("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function o(){function t(){try{var e=r(m).readyState;n("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(e){n("Server abort: ",e," (",e.name,")"),s(A),x&&clearTimeout(x),x=void 0}}var i=h.attr2("target"),o=h.attr2("action"),a=h.attr("enctype")||h.attr("encoding")||"multipart/form-data";S.setAttribute("target",f),u&&!/post/i.test(u)||S.setAttribute("method","POST"),o!==d.url&&S.setAttribute("action",d.url),d.skipEncodingOverride||u&&!/post/i.test(u)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){_=!0,s(D)},d.timeout));var l=[];try{if(d.extraData)for(var c in d.extraData)d.extraData.hasOwnProperty(c)&&(e.isPlainObject(d.extraData[c])&&d.extraData[c].hasOwnProperty("name")&&d.extraData[c].hasOwnProperty("value")?l.push(e('<input type="hidden" name="'+d.extraData[c].name+'">',k).val(d.extraData[c].value).appendTo(S)[0]):l.push(e('<input type="hidden" name="'+c+'">',k).val(d.extraData[c]).appendTo(S)[0]));d.iframeTarget||g.appendTo(T),m.attachEvent?m.attachEvent("onload",s):m.addEventListener("load",s,!1),setTimeout(t,15);try{S.submit()}catch(e){var p=document.createElement("form").submit;p.apply(S)}}finally{S.setAttribute("action",o),S.setAttribute("enctype",a),i?S.setAttribute("target",i):h.removeAttr("target"),e(l).remove()}}function s(t){if(!y.aborted&&!O){if(P=r(m),P||(n("cannot access response document"),t=A),t===D&&y)return y.abort("timeout"),void C.reject(y,"timeout");if(t===A&&y)return y.abort("server abort"),void C.reject(y,"error","server abort");if(P&&P.location.href!==d.iframeSrc||_){m.detachEvent?m.detachEvent("onload",s):m.removeEventListener("load",s,!1);var i,o="success";try{if(_)throw"timeout";var a="xml"===d.dataType||P.XMLDocument||e.isXMLDoc(P);if(n("isXml="+a),!a&&window.opera&&(null===P.body||!P.body.innerHTML)&&--R)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=P.body?P.body:P.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=P.XMLDocument?P.XMLDocument:P,a&&(d.dataType="xml"),y.getResponseHeader=function(e){return{"content-type":d.dataType}[e.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var h=P.getElementsByTagName("textarea")[0];if(h)y.responseText=h.value,y.status=Number(h.getAttribute("status"))||y.status,y.statusText=h.getAttribute("statusText")||y.statusText;else if(u){var f=P.getElementsByTagName("pre")[0],v=P.getElementsByTagName("body")[0];f?y.responseText=f.textContent?f.textContent:f.innerText:v&&(y.responseText=v.textContent?v.textContent:v.innerText)}}else"xml"===c&&!y.responseXML&&y.responseText&&(y.responseXML=F(y.responseText));try{$=j(y,c,d)}catch(e){o="parsererror",y.error=i=e||o}}catch(e){n("error caught: ",e),o="error",y.error=i=e||o}y.aborted&&(n("upload aborted"),o=null),y.status&&(o=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===o?(d.success&&d.success.call(d.context,$,"success",y),C.resolve(y.responseText,"success",y),p&&e.event.trigger("ajaxSuccess",[y,d])):o&&(void 0===i&&(i=y.statusText),d.error&&d.error.call(d.context,y,o,i),C.reject(y,"error",i),p&&e.event.trigger("ajaxError",[y,d,i])),p&&e.event.trigger("ajaxComplete",[y,d]),p&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,y,o),O=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?g.attr("src",d.iframeSrc):g.remove(),y.responseXML=null},100)}}}var l,c,d,p,f,g,m,y,b,w,_,x,S=h[0],C=e.Deferred();if(C.abort=function(e){y.abort(e)},i)for(c=0;c<v.length;c++)l=e(v[c]),a?l.prop("disabled",!1):l.removeAttr("disabled");d=e.extend(!0,{},e.ajaxSettings,t),d.context=d.context||d,f="jqFormIO"+(new Date).getTime();var k=S.ownerDocument,T=h.closest("body");if(d.iframeTarget?(g=e(d.iframeTarget,k),w=g.attr2("name"),w?f=w:g.attr2("name",f)):(g=e('<iframe name="'+f+'" src="'+d.iframeSrc+'" />',k),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}g.attr("src",d.iframeSrc),y.error=i,d.error&&d.error.call(d.context,y,i,t),p&&e.event.trigger("ajaxError",[y,d,i]),d.complete&&d.complete.call(d.context,y,i)}},p=d.global,p&&0==e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[y,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,y,d))return d.global&&e.active--,C.reject(),C;if(y.aborted)return C.reject(),C;(b=S.clk)&&(w=b.name)&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[w]=b.value,"image"===b.type&&(d.extraData[w+".x"]=S.clk_x,d.extraData[w+".y"]=S.clk_y));var D=1,A=2,E=e("meta[name=csrf-token]").attr("content"),I=e("meta[name=csrf-param]").attr("content");I&&E&&(d.extraData=d.extraData||{},d.extraData[I]=E),d.forceSync?o():setTimeout(o,10);var $,P,O,R=50,F=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},L=e.parseJSON||function(e){return window.eval("("+e+")")},j=function(t,i,n){var r=t.getResponseHeader("content-type")||"",o=("xml"===i||!i)&&r.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;return o&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&(("json"===i||!i)&&r.indexOf("json")>=0?a=L(a):("script"===i||!i)&&r.indexOf("javascript")>=0&&e.globalEval(a)),a};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var u,d,p,h=this;"function"==typeof t?t={success:t}:"string"==typeof t||!1===t&&arguments.length>0?(t={url:t,data:i,dataType:r},"function"==typeof s&&(t.success=s)):void 0===t&&(t={}),u=t.method||t.type||this.attr2("method"),d=t.url||this.attr2("action"),p="string"==typeof d?e.trim(d):"",p=p||window.location.href||"",p&&(p=(p.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:p,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var f={};if(this.trigger("form-pre-serialize",[this,t,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var g=t.traditional;void 0===g&&(g=e.ajaxSettings.traditional);var m,v=[],y=this.formToArray(t.semantic,v,t.filtering);if(t.data){var b=e.isFunction(t.data)?t.data(y):t.data;t.extraData=b,m=e.param(b,g)}if(t.beforeSubmit&&!1===t.beforeSubmit(y,this,t))return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[y,this,t,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var w=e.param(y,g);m&&(w=w?w+"&"+m:m),"GET"===t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+w,t.data=null):t.data=w;var _=[];if(t.resetForm&&_.push(function(){h.resetForm()}),t.clearForm&&_.push(function(){h.clearForm(t.includeHidden)}),!t.dataType&&t.target){var x=t.success||function(){};_.push(function(i,n,r){var o=arguments,a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](i).each(function(){x.apply(this,o)})})}else t.success&&(e.isArray(t.success)?e.merge(_,t.success):_.push(t.success));if(t.success=function(e,i,n){for(var r=t.context||this,o=0,a=_.length;o<a;o++)_[o].apply(r,[e,i,n||h,h])},t.error){var S=t.error;t.error=function(e,i,n){var r=t.context||this;S.apply(r,[e,i,n,h])}}if(t.complete){var C=t.complete;t.complete=function(e,i){var n=t.context||this;C.apply(n,[e,i,h])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),T=k.length>0,D="multipart/form-data",A=h.attr("enctype")===D||h.attr("encoding")===D,E=o.fileapi&&o.formdata;n("fileAPI :"+E);var I,$=(T||A)&&!E;!1!==t.iframe&&(t.iframe||$)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){I=c(y)}):I=c(y):I=(T||A)&&E?function(i){for(var n=new FormData,r=0;r<i.length;r++)n.append(i[r].name,i[r].value);if(t.extraData){var o=l(t.extraData);for(r=0;r<o.length;r++)o[r]&&n.append(o[r][0],o[r][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(a.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,r=e.total;e.lengthComputable&&(i=Math.ceil(n/r*100)),t.uploadProgress(e,n,r,i)},!1),i}),a.data=null;var s=a.beforeSend;return a.beforeSend=function(e,i){t.formData?i.data=t.formData:i.data=n,s&&s.call(this,e,i)},e.ajax(a)}(y):e.ajax(t),h.removeData("jqxhr").data("jqxhr",I);for(var P=0;P<v.length;P++)v[P]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(r,o,a,s){if(("string"==typeof r||!1===r&&arguments.length>0)&&(r={url:r,data:o,dataType:a},"function"==typeof s&&(r.success=s)),r=r||{},r.delegation=r.delegation&&e.isFunction(e.fn.on),!r.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!e.isReady&&l.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(l.s,l.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return r.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,t).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().on("submit.form-plugin",r,t).on("click.form-plugin",r,i)},e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i,n){var r=[];if(0===this.length)return r;var a,s=this[0],l=this.attr("id"),c=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(c&&(c=e.makeArray(c)),l&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(a=e(':input[form="'+l+'"]').get(),a.length&&(c=(c||[]).concat(a))),!c||!c.length)return r;e.isFunction(n)&&(c=e.map(c,n));var u,d,p,h,f,g,m;for(u=0,g=c.length;u<g;u++)if(f=c[u],(p=f.name)&&!f.disabled)if(t&&s.clk&&"image"===f.type)s.clk===f&&(r.push({name:p,value:e(f).val(),type:f.type}),r.push({name:p+".x",value:s.clk_x},{name:p+".y",value:s.clk_y}));else if((h=e.fieldValue(f,!0))&&h.constructor===Array)for(i&&i.push(f),d=0,m=h.length;d<m;d++)r.push({name:p,value:h[d]});else if(o.fileapi&&"file"===f.type){i&&i.push(f);var v=f.files;if(v.length)for(d=0;d<v.length;d++)r.push({name:p,value:v[d],type:f.type});else r.push({name:p,value:"",type:f.type})}else null!==h&&void 0!==h&&(i&&i.push(f),r.push({name:p,value:h,type:f.type,required:f.required}));if(!t&&s.clk){var y=e(s.clk),b=y[0];p=b.name,p&&!b.disabled&&"image"===b.type&&(r.push({name:p,value:y.val()}),r.push({name:p+".x",value:s.clk_x},{name:p+".y",value:s.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var r=e.fieldValue(this,t);if(r&&r.constructor===Array)for(var o=0,a=r.length;o<a;o++)i.push({name:n,value:r[o]});else null!==r&&void 0!==r&&i.push({name:this.name,value:r})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,r=this.length;n<r;n++){var o=this[n],a=e.fieldValue(o,t);null===a||void 0===a||a.constructor===Array&&!a.length||(a.constructor===Array?e.merge(i,a):i.push(a))}return i},e.fieldValue=function(t,i){var n=t.name,o=t.type,a=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"===o||"button"===o||("checkbox"===o||"radio"===o)&&!t.checked||("submit"===o||"image"===o)&&t.form&&t.form.clk!==t||"select"===a&&-1===t.selectedIndex))return null;if("select"===a){var s=t.selectedIndex;if(s<0)return null;for(var l=[],c=t.options,u="select-one"===o,d=u?s+1:c.length,p=u?s:0;p<d;p++){var h=c[p];if(h.selected&&!h.disabled){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),u)return f;l.push(f)}}return l}return e(t).val().replace(r,"\r\n")},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"===r?this.value="":"checkbox"===n||"radio"===n?this.checked=!1:"select"===r?this.selectedIndex=-1:"file"===n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){var t=e(this),i=this.tagName.toLowerCase();switch(i){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var n=t.parents("select");return n.length&&n[0].multiple?"option"===i?this.selected=this.defaultSelected:t.find("option").resetForm():n.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var r=e(t.attr("for")),o=t.find("input,select,textarea");return r[0]&&o.unshift(r[0]),o.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"===i||"radio"===i)this.checked=t;else if("option"===this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"===n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i(1),i(6),i(7);var r=i(2),o=n(r),a=i(3),s=n(a),l=i(4),c=n(l);s.default===c.default&&i(8),window.Inputmask=o.default},function(e,t,i){"use strict";var n,r,o;"function"==typeof Symbol&&Symbol.iterator;!function(a){r=[i(2)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e){return e.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),e.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,i,n,r){return i-1>-1&&"."!==t.buffer[i-1]?(e=t.buffer[i-1]+e,e=i-2>-1&&"."!==t.buffer[i-2]?t.buffer[i-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)}}},onUnMask:function(e,t,i){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(e,t){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,i){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e})},function(e,t,i){"use strict";var n,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[i(3),i(5)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e,t,i){function n(t,o,a){if(!(this instanceof n))return new n(t,o,a);this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,!0!==a&&(e.isPlainObject(t)?o=t:(o=o||{},t&&(o.alias=t)),this.opts=e.extend(!0,{},this.defaults,o),this.noMasksCache=o&&o.definitions!==i,this.userOptions=o||{},this.isRTL=this.opts.numericInput,r(this.opts.alias,o,this.opts))}function r(t,o,a){var s=n.prototype.aliases[t];return s?(s.alias&&r(s.alias,i,a),e.extend(!0,a,s),e.extend(!0,a,o),!0):(null===a.mask&&(a.mask=t),!1)}function o(t,r){function o(t,o,a){var s=!1;if(null!==t&&""!==t||(s=null!==a.regex,s?(t=a.regex,t=t.replace(/^(\^)(.*)(\$)$/,"$2")):(s=!0,t=".*")),1===t.length&&!1===a.greedy&&0!==a.repeat&&(a.placeholder=""),a.repeat>0||"*"===a.repeat||"+"===a.repeat){var l="*"===a.repeat?0:"+"===a.repeat?1:a.repeat;t=a.groupmarker[0]+t+a.groupmarker[1]+a.quantifiermarker[0]+l+","+a.repeat+a.quantifiermarker[1]}var c,u=s?"regex_"+a.regex:a.numericInput?t.split("").reverse().join(""):t;return n.prototype.masksCache[u]===i||!0===r?(c={mask:t,maskToken:n.prototype.analyseMask(t,s,a),validPositions:{},_buffer:i,buffer:i,tests:{},excludes:{},metadata:o,maskLength:i,jitOffset:{}},!0!==r&&(n.prototype.masksCache[u]=c,c=e.extend(!0,{},n.prototype.masksCache[u]))):c=e.extend(!0,{},n.prototype.masksCache[u]),c}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){if(null===t.keepStatic){t.keepStatic="auto";for(var a=0;a<t.mask.length;a++)if(t.mask[a].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var s=t.groupmarker[0];return e.each(t.isRTL?t.mask.reverse():t.mask,function(n,r){s.length>1&&(s+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),r.mask===i||e.isFunction(r.mask)?s+=r:s+=r.mask}),s+=t.groupmarker[1],o(s,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==i&&!e.isFunction(t.mask.mask)?o(t.mask.mask,t.mask,t):o(t.mask,t.mask,t)}function s(e){var t=c.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function l(r,o,u){function g(){return o}function m(e){var t=g();t.buffer=i,!0!==e&&(t.validPositions={},t.p=0)}function v(e,t,n){var r=-1,o=-1,a=n||g().validPositions;e===i&&(e=-1);for(var s in a){var l=parseInt(s);a[l]&&(t||!0!==a[l].generatedInput)&&(l<=e&&(r=l),l>=e&&(o=l))}return-1===r||r==e?o:-1==o?r:e-r<o-e?r:o}function y(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),t!==i?t.toString():""}function b(e,t){var n=(e.alternation!=i?e.mloc[y(e)]:e.locator).join("");if(""!==n)for(;n.length<t;)n+="0";return n}function w(e,t){e=e>0?e-1:0;for(var n,r,o,a=x(e),s=b(a),l=0;l<t.length;l++){var c=t[l];n=b(c,s.length);var d=Math.abs(n-s);(r===i||""!==n&&d<r||o&&!u.greedy&&o.match.optionality&&"master"===o.match.newBlockMarker&&(!c.match.optionality||!c.match.newBlockMarker)||o&&o.match.optionalQuantifier&&!c.match.optionalQuantifier)&&(r=d,o=c)}return o}function _(e,t,i){return g().validPositions[e]||w(e,C(e,t?t.slice():t,i))}function x(e,t){return g().validPositions[e]?g().validPositions[e]:(t||C(e))[0]}function S(e,t){for(var i=!1,n=C(e),r=0;r<n.length;r++)if(n[r].match&&n[r].match.def===t){i=!0;break}return i}function C(t,n,r){function o(n,r,s,c){function f(s,c,m){function v(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,r){if(!0===r.isQuantifier?n=v(t,i.matches[e-1]):r.hasOwnProperty("matches")&&(n=v(t,r)),n)return!1}),n}function y(t,n,r){var o,a;if((g().tests[t]||g().validPositions[t])&&e.each(g().tests[t]||[g().validPositions[t]],function(e,t){if(t.mloc[n])return o=t,!1;var s=r!==i?r:t.alternation,l=t.locator[s]!==i?t.locator[s].toString().indexOf(n):-1;(a===i||l<a)&&-1!==l&&(o=t,a=l)}),o){var s=o.locator[o.alternation];return(o.mloc[n]||o.mloc[s]||o.locator).slice((r!==i?r:o.alternation)+1)}return r!==i?y(t,n):i}function b(e,t){function i(e){for(var t,i,n=[],r=0,o=e.length;r<o;r++)if("-"===e.charAt(r))for(i=e.charCodeAt(r+1);++t<i;)n.push(String.fromCharCode(t));else t=e.charCodeAt(r),n.push(e.charAt(r));return n.join("")}return u.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==i(t.match.def.replace(/[\[\]]/g,"")).indexOf(i(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function w(e,t){if(t===i||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var n=e.locator[e.alternation];if(n!==i){if("string"==typeof n&&(n=n.split(",")[0]),e.mloc[n]===i&&(e.mloc[n]=e.locator.slice()),t!==i){for(var r in t.mloc)"string"==typeof r&&(r=r.split(",")[0]),e.mloc[r]===i&&(e.mloc[r]=t.mloc[r]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=i}return!1}if(l>500&&m!==i)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+g().mask;if(l===t&&s.matches===i)return d.push({match:s,locator:c.reverse(),cd:h,mloc:{}}),!0;if(s.matches!==i){if(s.isGroup&&m!==s){if(s=f(n.matches[e.inArray(s,n.matches)+1],c,m))return!0}else if(s.isOptional){var _=s;if(s=o(s,r,c,m)){if(e.each(d,function(e,t){t.match.optionality=!0}),a=d[d.length-1].match,m!==i||!v(a,_))return!0;p=!0,l=t}}else if(s.isAlternator){var x,S=s,C=[],k=d.slice(),T=c.length,D=r.length>0?r.shift():-1;if(-1===D||"string"==typeof D){var A,E=l,I=r.slice(),$=[];if("string"==typeof D)$=D.split(",");else for(A=0;A<S.matches.length;A++)$.push(A.toString());if(g().excludes[t]){for(var P=$.slice(),O=0,R=g().excludes[t].length;O<R;O++)$.splice($.indexOf(g().excludes[t][O].toString()),1);0===$.length&&(g().excludes[t]=i,$=P)}(!0===u.keepStatic||isFinite(parseInt(u.keepStatic))&&E>=u.keepStatic)&&($=$.slice(0,1));for(var F=!1,L=0;L<$.length;L++){A=parseInt($[L]),d=[],r="string"==typeof D?y(l,A,T)||I.slice():I.slice(),S.matches[A]&&f(S.matches[A],[A].concat(c),m)?s=!0:0===L&&(F=!0),x=d.slice(),l=E,d=[];for(var j=0;j<x.length;j++){var M=x[j],N=!1;M.match.jit=M.match.jit||F,M.alternation=M.alternation||T,w(M);for(var B=0;B<C.length;B++){var z=C[B];if("string"!=typeof D||M.alternation!==i&&-1!==e.inArray(M.locator[M.alternation].toString(),$)){if(M.match.nativeDef===z.match.nativeDef){N=!0,w(z,M);break}if(b(M,z)){w(M,z)&&(N=!0,C.splice(C.indexOf(z),0,M));break}if(b(z,M)){w(z,M);break}if(function(e,i){var n=e.locator.slice(e.alternation).join(""),r=i.locator.slice(i.alternation).join(""),o=n==r;return o=!(!o||null!==e.match.fn||null===i.match.fn)&&i.match.fn.test(e.match.def,g(),t,!1,u,!1)}(M,z)){w(M,z)&&(N=!0,C.splice(C.indexOf(z),0,M));break}}}N||C.push(M)}}d=k.concat(C),l=t,p=d.length>0,s=C.length>0,r=I.slice()}else s=f(S.matches[D]||n.matches[D],[D].concat(c),m);if(s)return!0}else if(s.isQuantifier&&m!==n.matches[e.inArray(s,n.matches)-1])for(var U=s,H=r.length>0?r.shift():0;H<(isNaN(U.quantifier.max)?H+1:U.quantifier.max)&&l<=t;H++){var q=n.matches[e.inArray(U,n.matches)-1];if(s=f(q,[H].concat(c),q)){if(a=d[d.length-1].match,a.optionalQuantifier=H>=U.quantifier.min,a.jit=(H||1)*q.matches.indexOf(a)>=U.quantifier.jit,a.optionalQuantifier&&v(a,q)){p=!0,l=t;break}return a.jit&&(g().jitOffset[t]=q.matches.indexOf(a)),!0}}else if(s=o(s,r,c,m))return!0}else l++}for(var m=r.length>0?r.shift():0;m<n.matches.length;m++)if(!0!==n.matches[m].isQuantifier){var v=f(n.matches[m],[m].concat(s),c);if(v&&l===t)return v;if(l>t)break}}var a,s=g().maskToken,l=n?r:0,c=n?n.slice():[0],d=[],p=!1,h=n?n.join(""):"";if(t>-1){if(n===i){for(var f,m=t-1;(f=g().validPositions[m]||g().tests[m])===i&&m>-1;)m--;f!==i&&m>-1&&(c=function(t,n){var r=[];return e.isArray(n)||(n=[n]),n.length>0&&(n[0].alternation===i?(r=w(t,n.slice()).locator.slice(),0===r.length&&(r=n[0].locator.slice())):e.each(n,function(e,t){if(""!==t.def)if(0===r.length)r=t.locator.slice();else for(var i=0;i<r.length;i++)t.locator[i]&&-1===r[i].toString().indexOf(t.locator[i])&&(r[i]+=","+t.locator[i])})),r}(m,f),h=c.join(""),l=m)}if(g().tests[t]&&g().tests[t][0].cd===h)return g().tests[t];for(var v=c.shift();v<s.length;v++){if(o(s[v],c,[v])&&l===t||l>t)break}}return(0===d.length||p)&&d.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:h}),n!==i&&g().tests[t]?e.extend(!0,[],d):(g().tests[t]=e.extend(!0,[],d),g().tests[t])}function k(){return g()._buffer===i&&(g()._buffer=le(!1,1),g().buffer===i&&(g().buffer=g()._buffer.slice())),g()._buffer}function T(e){return g().buffer!==i&&!0!==e||(g().buffer=le(!0,v(),!0),g()._buffer===i&&(g()._buffer=g().buffer.slice())),g().buffer}function D(e,t,n){var r,o;if(!0===e)m(),e=0,t=n.length;else for(r=e;r<t;r++)delete g().validPositions[r];for(o=e,r=e;r<t;r++)if(m(!0),n[r]!==u.skipOptionalPartCharacter){var a=$(o,n[r],!0,!0);!1!==a&&(m(!0),o=a.caret!==i?a.caret:a.pos+1)}}function A(t,i,r){switch(u.casing||i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=g().validPositions[r-1];t=0===r||o&&o.input===String.fromCharCode(n.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(u.casing)){var a=Array.prototype.slice.call(arguments);a.push(g().validPositions),t=u.casing.apply(this,a)}}return t}function E(t,n,r){for(var o,a=u.greedy?n:n.slice(0,1),s=!1,l=r!==i?r.split(","):[],c=0;c<l.length;c++)-1!==(o=t.indexOf(l[c]))&&t.splice(o,1);for(var d=0;d<t.length;d++)if(-1!==e.inArray(t[d],a)){s=!0;break}return s}function I(t,n,r,o,a){var s,l,c,u,d,p,h,f=e.extend(!0,{},g().validPositions),b=!1,w=a!==i?a:v();if(-1===w&&a===i)s=0,
u=x(s),l=u.alternation;else for(;w>=0;w--)if((c=g().validPositions[w])&&c.alternation!==i){if(u&&u.locator[c.alternation]!==c.locator[c.alternation])break;s=w,l=g().validPositions[s].alternation,u=c}if(l!==i){h=parseInt(s),g().excludes[h]=g().excludes[h]||[],!0!==t&&g().excludes[h].push(y(u));var _=[],S=0;for(d=h;d<v(i,!0)+1;d++)p=g().validPositions[d],p&&!0!==p.generatedInput?_.push(p.input):d<t&&S++,delete g().validPositions[d];for(;g().excludes[h]&&g().excludes[h].length<10;){var C=-1*S,k=_.slice();for(g().tests[h]=i,m(!0),b=!0;k.length>0;){var T=k.shift();if(!(b=$(v(i,!0)+1,T,!1,o,!0)))break}if(b&&n!==i){var D=v(t)+1;for(d=h;d<v()+1;d++)((p=g().validPositions[d])===i||null==p.match.fn)&&d<t+C&&C++;t+=C,b=$(t>D?D:t,n,r,o,!0)}if(b)break;if(m(),u=x(h),g().validPositions=e.extend(!0,{},f),!g().excludes[h]){b=I(t,n,r,o,h-1);break}var A=y(u);if(-1!==g().excludes[h].indexOf(A)){b=I(t,n,r,o,h-1);break}for(g().excludes[h].push(A),d=h;d<v(i,!0)+1;d++)delete g().validPositions[d]}}return g().excludes[h]=i,b}function $(t,n,r,o,a,s){function l(e){return ne?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1}function c(n,r,a){var s=!1;return e.each(C(n),function(c,d){var p=d.match;if(T(!0),!1!==(s=null!=p.fn?p.fn.test(r,g(),n,a,u,l(t)):(r===p.def||r===u.skipOptionalPartCharacter)&&""!==p.def&&{c:M(n,p,!0)||p.def,pos:n})){var h=s.c!==i?s.c:r,f=n;return h=h===u.skipOptionalPartCharacter&&null===p.fn?M(n,p,!0)||p.def:h,(s.remove!==i&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){O({begin:t,end:t+1})})),s.insert!==i&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){$(t.pos,t.c,!0,o)})),!0!==s&&s.pos!==i&&s.pos!==n&&(f=s.pos),!0!==s&&s.pos===i&&s.c===i)?!1:(O(t,e.extend({},d,{input:A(h,p,f)}),o,f)||(s=!1),!1)}}),s}r=!0===r;var d=t;t.begin!==i&&(d=ne?t.end:t.begin);var p=!0,h=e.extend(!0,{},g().validPositions);if(e.isFunction(u.preValidation)&&!r&&!0!==o&&!0!==s&&(p=u.preValidation(T(),d,n,l(t),u,g())),!0===p){if(P(i,d,!0),(Y===i||d<Y)&&(p=c(d,n,r),(!r||!0===o)&&!1===p&&!0!==s)){var f=g().validPositions[d];if(!f||null!==f.match.fn||f.match.def!==n&&n!==u.skipOptionalPartCharacter){if((u.insertMode||g().validPositions[F(d)]===i)&&(!R(d,!0)||g().jitOffset[d]))if(g().jitOffset[d]&&g().validPositions[F(d)]===i)!1!==(p=$(d+g().jitOffset[d],n,r))&&(p.caret=d);else for(var v=d+1,y=F(d);v<=y;v++)if(!1!==(p=c(v,n,r))){p=P(d,p.pos!==i?p.pos:v)||p,d=v;break}}else p={caret:F(d)}}!1!==p||!1===u.keepStatic||null!=u.regex&&!G(T())||r||!0===a||(p=I(d,n,r,o)),!0===p&&(p={pos:d})}if(e.isFunction(u.postValidation)&&!1!==p&&!r&&!0!==o&&!0!==s){var b=u.postValidation(T(!0),t.begin!==i?ne?t.end:t.begin:t,p,u);if(b!==i){if(b.refreshFromBuffer&&b.buffer){var w=b.refreshFromBuffer;D(!0===w?w:w.start,w.end,b.buffer)}p=!0===b?p:b}}return p&&p.pos===i&&(p.pos=d),!1!==p&&!0!==s||(m(!0),g().validPositions=e.extend(!0,{},h)),p}function P(t,n,r){var o;if(t===i)for(t=n-1;t>0&&!g().validPositions[t];t--);for(var a=t;a<n;a++)if(g().validPositions[a]===i&&!R(a,!0)){var s=0==a?x(a):g().validPositions[a-1];if(s){var l=C(a).slice();""===l[l.length-1].match.def&&l.pop();var c=w(a,l);if(c=e.extend({},c,{input:M(a,c.match,!0)||c.match.def}),c.generatedInput=!0,O(a,c,!0),!0!==r){var u=g().validPositions[n].input;g().validPositions[n]=i,o=$(n,u,!0,!0)}}}return o}function O(t,n,r,o){var a=t.begin!==i?t.begin:t,s=t.end!==i?t.end:t;if(t.begin>t.end&&(a=t.end,s=t.begin),o=o!==i?o:a,a!==s||u.insertMode&&g().validPositions[o]!==i&&r===i){var l,c=e.extend(!0,{},g().validPositions),d=v(i,!0);for(g().p=a,l=d;l>=a;l--)g().validPositions[l]&&"+"===g().validPositions[l].match.nativeDef&&(u.isNegative=!1),delete g().validPositions[l];var p=!0,h=o,f=(g().validPositions,!1),y=h,l=h;for(n&&(g().validPositions[o]=e.extend(!0,{},n),y++,h++,a<s&&l++);l<=d;l++){var b=c[l];if(b!==i&&(l>=s||l>=a&&!0!==b.generatedInput&&function(e,t,n){var r=t[e];if(r!==i&&(null===r.match.fn&&!0!==r.match.optionality||r.input===u.radixPoint)){var o=n.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],a=n.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return o&&a}return!1}(l,c,{begin:a,end:s}))){for(;""!==x(y).match.def;){if(!1===f&&c[y]&&c[y].match.nativeDef===b.match.nativeDef)g().validPositions[y]=e.extend(!0,{},c[y]),g().validPositions[y].input=b.input,P(i,y,!0),h=y+1,p=!0;else if(u.shiftPositions&&S(y,b.match.def)){var w=$(y,b.input,!0,!0);p=!1!==w,h=w.caret||w.insert?v():y+1,f=!0}else p=!0===b.generatedInput||b.input===u.radixPoint&&!0===u.numericInput;if(p)break;if(!p&&y>s&&R(y,!0)&&(null!==b.match.fn||y>g().maskLength))break;y++}""==x(y).match.def&&(p=!1),y=h}if(!p)break}if(!p)return g().validPositions=e.extend(!0,{},c),m(!0),!1}else n&&(g().validPositions[o]=e.extend(!0,{},n));return m(!0),!0}function R(e,t){var i=_(e).match;if(""===i.def&&(i=x(e).match),null!=i.fn)return i.fn;if(!0!==t&&e>-1){var n=C(e);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function F(e,t){for(var i=e+1;""!==x(i).match.def&&(!0===t&&(!0!==x(i).match.newBlockMarker||!R(i))||!0!==t&&!R(i));)i++;return i}function L(e,t){var i,n=e;if(n<=0)return 0;for(;--n>0&&(!0===t&&!0!==x(n).match.newBlockMarker||!0!==t&&!R(n)&&(i=C(n),i.length<2||2===i.length&&""===i[1].match.def)););return n}function j(t,n,r,o,a){if(o&&e.isFunction(u.onBeforeWrite)){var s=u.onBeforeWrite.call(te,o,n,r,u);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;D(!0===l?l:l.start,l.end,s.buffer||n),n=T(!0)}r!==i&&(r=s.caret!==i?s.caret:r)}}if(t!==i&&(t.inputmask._valueSet(n.join("")),r===i||o!==i&&"blur"===o.type?K(t,r,0===n.length):U(t,r),!0===a)){var c=e(t),d=t.inputmask._valueGet();oe=!0,c.trigger("input"),setTimeout(function(){d===k().join("")?c.trigger("cleared"):!0===G(n)&&c.trigger("complete")},0)}}function M(t,n,r){if(n=n||x(t).match,n.placeholder!==i||!0===r)return e.isFunction(n.placeholder)?n.placeholder(u):n.placeholder;if(null===n.fn){if(t>-1&&g().validPositions[t]===i){var o,a=C(t),s=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var l=0;l<a.length;l++)if(!0!==a[l].match.optionality&&!0!==a[l].match.optionalQuantifier&&(null===a[l].match.fn||o===i||!1!==a[l].match.fn.test(o.match.def,g(),t,!0,u))&&(s.push(a[l]),null===a[l].match.fn&&(o=a[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return u.placeholder.charAt(t%u.placeholder.length)}return n.def}return u.placeholder.charAt(t%u.placeholder.length)}function N(e,t){if(d){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var i=T().slice(),n=e.inputmask._valueGet();if(n!==t){var r=v();-1===r&&n===k().join("")?i=[]:-1!==r&&q(i),j(e,i)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))}function B(t,r,o,a,s){function l(e,t){return-1!==le(!0,0,!1).slice(e,F(e)).join("").replace(/'/g,"").indexOf(t)&&!R(e)&&(x(e).match.nativeDef===t.charAt(0)||null===x(e).match.fn&&x(e).match.nativeDef==="'"+t.charAt(0)||" "===x(e).match.nativeDef&&(x(e+1).match.nativeDef===t.charAt(0)||null===x(e+1).match.fn&&x(e+1).match.nativeDef==="'"+t.charAt(0)))}var c=this||t.inputmask,d=a.slice(),p="",h=-1,f=i;if(m(),o||!0===u.autoUnmask)h=F(h);else{var y=k().slice(0,F(-1)).join(""),b=d.join("").match(new RegExp("^"+n.escapeRegex(y),"g"));b&&b.length>0&&(d.splice(0,b.length*y.length),h=F(h))}-1===h?(g().p=F(h),h=0):g().p=h,c.caretPos={begin:h},e.each(d,function(n,r){if(r!==i)if(g().validPositions[n]===i&&d[n]===M(n)&&R(n,!0)&&!1===$(n,d[n],!0,i,i,!0))g().p++;else{var a=new e.Event("_checkval");a.which=r.charCodeAt(0),p+=r;var s=v(i,!0);l(h,p)?f=ue.keypressEvent.call(t,a,!0,!1,o,s+1):(f=ue.keypressEvent.call(t,a,!0,!1,o,c.caretPos.begin))&&(h=c.caretPos.begin+1,p=""),f&&(j(i,T(),f.forwardPosition,a,!1),c.caretPos={begin:f.forwardPosition,end:f.forwardPosition})}}),r&&j(t,T(),f?f.forwardPosition:i,s||new e.Event("checkval"),s&&"input"===s.type)}function z(t){if(t){if(t.inputmask===i)return t.value;t.inputmask&&t.inputmask.refreshValue&&ue.setValueEvent.call(t)}var n=[],r=g().validPositions;for(var o in r)r[o].match&&null!=r[o].match.fn&&n.push(r[o].input);var a=0===n.length?"":(ne?n.reverse():n).join("");if(e.isFunction(u.onUnMask)){var s=(ne?T().slice().reverse():T()).join("");a=u.onUnMask.call(te,s,a,u)}return a}function U(n,r,o,a){function s(e){return!ne||"number"!=typeof e||u.greedy&&""===u.placeholder||!ie||(e=ie.inputmask._valueGet().length-e),e}var l;if(r===i)return"selectionStart"in n?(r=n.selectionStart,o=n.selectionEnd):t.getSelection?(l=t.getSelection().getRangeAt(0),l.commonAncestorContainer.parentNode!==n&&l.commonAncestorContainer!==n||(r=l.startOffset,o=l.endOffset)):c.selection&&c.selection.createRange&&(l=c.selection.createRange(),r=0-l.duplicate().moveStart("character",-n.inputmask._valueGet().length),o=r+l.text.length),{begin:a?r:s(r),end:a?o:s(o)};if(e.isArray(r)&&(o=ne?r[0]:r[1],r=ne?r[1]:r[0]),r.begin!==i&&(o=ne?r.begin:r.end,r=ne?r.end:r.begin),"number"==typeof r){r=a?r:s(r),o=a?o:s(o),o="number"==typeof o?o:r;var d=parseInt(((n.ownerDocument.defaultView||t).getComputedStyle?(n.ownerDocument.defaultView||t).getComputedStyle(n,null):n.currentStyle).fontSize)*o;if(n.scrollLeft=d>n.scrollWidth?d:0,n.inputmask.caretPos={begin:r,end:o},n===c.activeElement){if("selectionStart"in n)n.selectionStart=r,n.selectionEnd=o;else if(t.getSelection){if(l=c.createRange(),n.firstChild===i||null===n.firstChild){var p=c.createTextNode("");n.appendChild(p)}l.setStart(n.firstChild,r<n.inputmask._valueGet().length?r:n.inputmask._valueGet().length),l.setEnd(n.firstChild,o<n.inputmask._valueGet().length?o:n.inputmask._valueGet().length),l.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(l)}else n.createTextRange&&(l=n.createTextRange(),l.collapse(!0),l.moveEnd("character",o),l.moveStart("character",r),l.select());K(n,{begin:r,end:o})}}}function H(t){var n,r,o=le(!0,v(),!0,!0),a=o.length,s=v(),l={},c=g().validPositions[s],u=c!==i?c.locator.slice():i;for(n=s+1;n<o.length;n++)r=_(n,u,n-1),u=r.locator.slice(),l[n]=e.extend(!0,{},r);var d=c&&c.alternation!==i?c.locator[c.alternation]:i;for(n=a-1;n>s&&(r=l[n],(r.match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||d&&(d!==l[n].locator[c.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[c.alternation]&&E(r.locator[c.alternation].toString().split(","),d.toString().split(","))&&""!==C(n)[0].def))&&o[n]===M(n,r.match));n--)a--;return t?{l:a,def:l[a]?l[a].match:i}:a}function q(e){e.length=0;for(var t,n=le(!0,0,!0,i,!0);(t=n.shift())!==i;)e.push(t);return e}function G(t){if(e.isFunction(u.isComplete))return u.isComplete(t,u);if("*"===u.repeat)return i;var n=!1,r=H(!0),o=L(r.l);if(r.def===i||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){n=!0;for(var a=0;a<=o;a++){var s=_(a).match;if(null!==s.fn&&g().validPositions[a]===i&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[a]!==M(a,s)){n=!1;break}}}return n}function W(e,t,r,o,a){if((u.numericInput||ne)&&(t===n.keyCode.BACKSPACE?t=n.keyCode.DELETE:t===n.keyCode.DELETE&&(t=n.keyCode.BACKSPACE),ne)){var s=r.end;r.end=r.begin,r.begin=s}if(t===n.keyCode.BACKSPACE&&r.end-r.begin<1?(r.begin=L(r.begin),g().validPositions[r.begin]!==i&&g().validPositions[r.begin].input===u.groupSeparator&&r.begin--):t===n.keyCode.DELETE&&r.begin===r.end&&(r.end=R(r.end,!0)&&g().validPositions[r.end]&&g().validPositions[r.end].input!==u.radixPoint?r.end+1:F(r.end)+1,g().validPositions[r.begin]!==i&&g().validPositions[r.begin].input===u.groupSeparator&&r.end++),O(r),!0!==o&&!1!==u.keepStatic||null!==u.regex){var l=I(!0);if(l){var c=l.caret!==i?l.caret:l.pos?F(l.pos.begin?l.pos.begin:l.pos):v(-1,!0);(t!==n.keyCode.DELETE||r.begin>c)&&r.begin}}var d=v(r.begin,!0);if(d<r.begin||-1===r.begin)g().p=F(d);else if(!0!==o&&(g().p=r.begin,!0!==a))for(;g().p<d&&g().validPositions[g().p]===i;)g().p++}function V(i){function n(e){var t,n=c.createElement("span");for(var o in r)isNaN(o)&&-1!==o.indexOf("font")&&(n.style[o]=r[o]);n.style.textTransform=r.textTransform,n.style.letterSpacing=r.letterSpacing,n.style.position="absolute",n.style.height="auto",n.style.width="auto",n.style.visibility="hidden",n.style.whiteSpace="nowrap",c.body.appendChild(n);var a,s=i.inputmask._valueGet(),l=0;for(t=0,a=s.length;t<=a;t++){if(n.innerHTML+=s.charAt(t)||"_",n.offsetWidth>=e){var u=e-l,d=n.offsetWidth-e;n.innerHTML=s.charAt(t),u-=n.offsetWidth/3,t=u<d?t-1:t;break}l=n.offsetWidth}return c.body.removeChild(n),t}var r=(i.ownerDocument.defaultView||t).getComputedStyle(i,null),o=c.createElement("div");o.style.width=r.width,o.style.textAlign=r.textAlign,X=c.createElement("div"),i.inputmask.colorMask=X,X.className="im-colormask",i.parentNode.insertBefore(X,i),i.parentNode.removeChild(i),X.appendChild(i),X.appendChild(o),i.style.left=o.offsetLeft+"px",e(X).on("mouseleave",function(e){return ue.mouseleaveEvent.call(i,[e])}),e(X).on("mouseenter",function(e){return ue.mouseenterEvent.call(i,[e])}),e(X).on("click",function(e){return U(i,n(e.clientX)),ue.clickEvent.call(i,[e])})}function K(e,t,n){function r(e){if(e===i&&(e=""),d||null!==o.fn&&a.input!==i)if(d&&(null!==o.fn&&a.input!==i||""===o.def)){d=!1;var t=l.length;l[t-1]=l[t-1]+"</span>",l.push(e)}else l.push(e);else d=!0,l.push("<span class='im-static'>"+e)}var o,a,s,l=[],d=!1,p=0;if(X!==i){var h=T();if(t===i?t=U(e):t.begin===i&&(t={begin:t,end:t}),!0!==n){var f=v();do{g().validPositions[p]?(a=g().validPositions[p],o=a.match,s=a.locator.slice(),r(h[p])):(a=_(p,s,p-1),o=a.match,s=a.locator.slice(),!1===u.jitMasking||p<f||"number"==typeof u.jitMasking&&isFinite(u.jitMasking)&&u.jitMasking>p?r(M(p,o)):d=!1),p++}while((Y===i||p<Y)&&(null!==o.fn||""!==o.def)||f>p||d);d&&r(),function(){c.activeElement===e&&(l.splice(t.begin,0,t.begin===t.end||t.end>g().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(t.end+1,0,"</mark>"))}()}var m=X.getElementsByTagName("div")[0];m.innerHTML=l.join(""),e.inputmask.positionColorMask(e,m)}}o=o||this.maskset,u=u||this.opts;var Z,Q,Y,X,J,ee,te=this,ie=this.el,ne=this.isRTL,re=!1,oe=!1,ae=!1,se=!1,le=function(e,t,n,r,o){var a=u.greedy;o&&(u.greedy=!1),t=t||0;var s,l,c,d=[],p=0;v();do{if(!0===e&&g().validPositions[p])c=o&&!0===g().validPositions[p].match.optionality&&g().validPositions[p+1]===i&&(!0===g().validPositions[p].generatedInput||g().validPositions[p].input==u.skipOptionalPartCharacter&&p>0)?w(p,C(p,s,p-1)):g().validPositions[p],l=c.match,s=c.locator.slice(),d.push(!0===n?c.input:!1===n?l.nativeDef:M(p,l));else{c=_(p,s,p-1),l=c.match,s=c.locator.slice();var h=!0!==r&&(!1!==u.jitMasking?u.jitMasking:l.jit);(!1===h||h===i||"number"==typeof h&&isFinite(h)&&h>p)&&d.push(!1===n?l.nativeDef:M(p,l))}"auto"===u.keepStatic&&l.newBlockMarker&&null!==l.fn&&(u.keepStatic=p-1),p++}while((Y===i||p<Y)&&(null!==l.fn||""!==l.def)||t>p);return""===d[d.length-1]&&d.pop(),!1===n&&g().maskLength!==i||(g().maskLength=p-1),u.greedy=a,d},ce={on:function(t,r,o){var a=function(t){var r=this;if(r.inputmask===i&&"FORM"!==this.nodeName){var a=e.data(r,"_inputmask_opts");a?new n(a).mask(r):ce.off(r)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(r.disabled||r.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===u.tabThrough&&t.keyCode===n.keyCode.TAB))){switch(t.type){case"input":if(!0===oe)return oe=!1,t.preventDefault();if(p){var s=arguments;return setTimeout(function(){o.apply(r,s),U(r,r.inputmask.caretPos,i,!0)},0),!1}break;case"keydown":re=!1,oe=!1;break;case"keypress":if(!0===re)return t.preventDefault();re=!0;break;case"click":if(h||f){var s=arguments;return setTimeout(function(){o.apply(r,s)},0),!1}}var l=o.apply(r,arguments);return!1===l&&(t.preventDefault(),t.stopPropagation()),l}t.preventDefault()}};t.inputmask.events[r]=t.inputmask.events[r]||[],t.inputmask.events[r].push(a),-1!==e.inArray(r,["submit","reset"])?null!==t.form&&e(t.form).on(r,a):e(t).on(r,a)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var r=n.pop();-1!==e.inArray(i,["submit","reset"])?null!==t.form&&e(t.form).off(i,r):e(t).off(i,r)}delete t.inputmask.events[i]})}}},ue={keydownEvent:function(t){var i=this,r=e(i),o=t.keyCode,a=U(i);if(o===n.keyCode.BACKSPACE||o===n.keyCode.DELETE||f&&o===n.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&o===n.keyCode.X&&!s("cut"))t.preventDefault(),W(i,o,a),j(i,T(!0),g().p,t,i.inputmask._valueGet()!==T().join(""));else if(o===n.keyCode.END||o===n.keyCode.PAGE_DOWN){t.preventDefault();var l=F(v());U(i,t.shiftKey?a.begin:l,l,!0)}else o===n.keyCode.HOME&&!t.shiftKey||o===n.keyCode.PAGE_UP?(t.preventDefault(),U(i,0,t.shiftKey?a.begin:0,!0)):(u.undoOnEscape&&o===n.keyCode.ESCAPE||90===o&&t.ctrlKey)&&!0!==t.altKey?(B(i,!0,!1,Z.split("")),r.trigger("click")):o!==n.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===u.tabThrough&&o===n.keyCode.TAB&&(!0===t.shiftKey?(null===x(a.begin).match.fn&&(a.begin=F(a.begin)),a.end=L(a.begin,!0),a.begin=L(a.end,!0)):(a.begin=F(a.begin,!0),a.end=F(a.begin,!0),a.end<g().maskLength&&a.end--),a.begin<g().maskLength&&(t.preventDefault(),U(i,a.begin,a.end))):(u.insertMode=!u.insertMode,i.setAttribute("im-insert",u.insertMode));u.onKeyDown.call(this,t,T(),U(i).begin,u),ae=-1!==e.inArray(o,u.ignorables)},keypressEvent:function(t,r,o,a,s){var l=this,c=e(l),d=t.which||t.charCode||t.keyCode;if(!(!0===r||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||ae))return d===n.keyCode.ENTER&&Z!==T().join("")&&(Z=T().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(d){46===d&&!1===t.shiftKey&&""!==u.radixPoint&&(d=u.radixPoint.charCodeAt(0));var p,h=r?{begin:s,end:s}:U(l),f=String.fromCharCode(d),v=0;if(u._radixDance&&u.numericInput){var y=T().indexOf(u.radixPoint.charAt(0))+1;h.begin<=y&&(d===u.radixPoint.charCodeAt(0)&&(v=1),h.begin-=1,h.end-=1)}g().writeOutBuffer=!0;var b=$(h,f,a);if(!1!==b&&(m(!0),p=b.caret!==i?b.caret:F(b.pos.begin?b.pos.begin:b.pos),g().p=p),p=(u.numericInput&&b.caret===i?L(p):p)+v,!1!==o&&(setTimeout(function(){u.onKeyValidation.call(l,d,b,u)},0),g().writeOutBuffer&&!1!==b)){var w=T();j(l,w,p,t,!0!==r)}if(t.preventDefault(),r)return!1!==b&&(b.forwardPosition=p),b}},pasteEvent:function(i){var n,r=this,o=i.originalEvent||i,a=(e(r),r.inputmask._valueGet(!0)),s=U(r);ne&&(n=s.end,s.end=s.begin,s.begin=n);var l=a.substr(0,s.begin),c=a.substr(s.end,a.length);if(l===(ne?k().reverse():k()).slice(0,s.begin).join("")&&(l=""),c===(ne?k().reverse():k()).slice(s.end).join("")&&(c=""),t.clipboardData&&t.clipboardData.getData)a=l+t.clipboardData.getData("Text")+c;else{if(!o.clipboardData||!o.clipboardData.getData)return!0;a=l+o.clipboardData.getData("text/plain")+c}var d=a;if(e.isFunction(u.onBeforePaste)){if(!1===(d=u.onBeforePaste.call(te,a,u)))return i.preventDefault();d||(d=a)}return B(r,!1,!1,d.toString().split("")),j(r,T(),F(v()),i,Z!==T().join("")),i.preventDefault()},inputFallBackEvent:function(t){var i=this,r=i.inputmask._valueGet();if(T().join("")!==r){var o=U(i);if(r=function(e,t,i){return"."===t.charAt(i.begin-1)&&""!==u.radixPoint&&(t=t.split(""),t[i.begin-1]=u.radixPoint.charAt(0),t=t.join("")),t}(i,r,o),r=function(e,t,i){if(h){var n=t.replace(T().join(""),"");if(1===n.length){var r=t.split("");r.splice(i.begin,0,n),t=r.join("")}}return t}(i,r,o),T().join("")!==r){var a=T().join(""),s=!u.numericInput&&r.length>a.length?-1:0,l=r.substr(0,o.begin),c=r.substr(o.begin),d=a.substr(0,o.begin+s),p=a.substr(o.begin+s),f=o,g="",m=!1;if(l!==d){var v,y=(m=l.length>=d.length)?l.length:d.length;for(v=0;l.charAt(v)===d.charAt(v)&&v<y;v++);m&&(f.begin=v-s,g+=l.slice(v,f.end))}if(c!==p&&(c.length>p.length?g+=c.slice(0,1):c.length<p.length&&(f.end+=p.length-c.length,m||""===u.radixPoint||""!==c||l.charAt(f.begin+s-1)!==u.radixPoint||(f.begin--,g=u.radixPoint))),j(i,T(),{begin:f.begin+s,end:f.end+s}),g.length>0)e.each(g.split(""),function(t,n){var r=new e.Event("keypress");r.which=n.charCodeAt(0),ae=!1,ue.keypressEvent.call(i,r)});else{f.begin===f.end-1&&(f.begin=L(f.begin+1),f.begin===f.end-1?U(i,f.begin):U(i,f.begin,f.end));var b=new e.Event("keydown");b.keyCode=u.numericInput?n.keyCode.BACKSPACE:n.keyCode.DELETE,ue.keydownEvent.call(i,b)}t.preventDefault()}}},beforeInputEvent:function(t){if(t.cancelable){var i=this;switch(t.inputType){case"insertText":return e.each(t.data.split(""),function(t,n){var r=new e.Event("keypress");r.which=n.charCodeAt(0),ae=!1,ue.keypressEvent.call(i,r)}),t.preventDefault();case"deleteContentBackward":var r=new e.Event("keydown");return r.keyCode=n.keyCode.BACKSPACE,ue.keydownEvent.call(i,r),t.preventDefault();case"deleteContentForward":var r=new e.Event("keydown");return r.keyCode=n.keyCode.DELETE,ue.keydownEvent.call(i,r),t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var i=this,n=t&&t.detail?t.detail[0]:arguments[1],n=n||i.inputmask._valueGet(!0);e.isFunction(u.onBeforeMask)&&(n=u.onBeforeMask.call(te,n,u)||n),n=n.toString().split(""),B(i,!0,!1,n),Z=T().join(""),(u.clearMaskOnLostFocus||u.clearIncomplete)&&i.inputmask._valueGet()===k().join("")&&i.inputmask._valueSet("")},focusEvent:function(e){var t=this,i=t.inputmask._valueGet();u.showMaskOnFocus&&(i!==T().join("")?j(t,T(),F(v())):!1===se&&U(t,F(v()))),!0===u.positionCaretOnTab&&!1===se&&ue.clickEvent.apply(t,[e,!0]),Z=T().join("")},mouseleaveEvent:function(e){var t=this;se=!1,u.clearMaskOnLostFocus&&c.activeElement!==t&&N(t,J)},clickEvent:function(t,n){function r(t){if(""!==u.radixPoint){var n=g().validPositions;if(n[t]===i||n[t].input===M(t)){if(t<F(-1))return!0;var r=e.inArray(u.radixPoint,T());if(-1!==r){for(var o in n)if(r<o&&n[o].input!==M(o))return!1;return!0}}}return!1}var o=this;setTimeout(function(){if(c.activeElement===o){var e=U(o);if(n&&(ne?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(u.positionCaretOnClick){case"none":break;case"select":U(o,0,T().length);break;case"ignore":U(o,F(v()));break;case"radixFocus":if(r(e.begin)){var t=T().join("").indexOf(u.radixPoint);U(o,u.numericInput?F(t):t);break}default:var a=e.begin,s=v(a,!0),l=F(s);if(a<l)U(o,R(a,!0)||R(a-1,!0)?a:F(a));else{var d=g().validPositions[s],p=_(l,d?d.match.locator:i,d),h=M(l,p.match);if(""!==h&&T()[l]!==h&&!0!==p.match.optionalQuantifier&&!0!==p.match.newBlockMarker||!R(l,u.keepStatic)&&p.match.def===h){var f=F(l);(a>=f||a===l)&&(l=f)}U(o,l)}}}},0)},cutEvent:function(i){var r=this,o=(e(r),U(r)),a=i.originalEvent||i,s=t.clipboardData||a.clipboardData,l=ne?T().slice(o.end,o.begin):T().slice(o.begin,o.end);s.setData("text",ne?l.reverse().join(""):l.join("")),c.execCommand&&c.execCommand("copy"),W(r,n.keyCode.DELETE,o),j(r,T(),g().p,i,Z!==T().join(""))},blurEvent:function(t){var n=e(this),r=this;if(r.inputmask){N(r,J);var o=r.inputmask._valueGet(),a=T().slice();""===o&&X===i||(u.clearMaskOnLostFocus&&(-1===v()&&o===k().join("")?a=[]:q(a)),!1===G(a)&&(setTimeout(function(){n.trigger("incomplete")},0),u.clearIncomplete&&(m(),a=u.clearMaskOnLostFocus?[]:k().slice())),j(r,a,i,t)),Z!==T().join("")&&(Z=a.join(""),n.trigger("change"))}},mouseenterEvent:function(e){var t=this;se=!0,c.activeElement!==t&&u.showMaskOnHover&&N(t,(ne?T().slice().reverse():T()).join(""))},submitEvent:function(e){Z!==T().join("")&&Q.trigger("change"),u.clearMaskOnLostFocus&&-1===v()&&ie.inputmask._valueGet&&ie.inputmask._valueGet()===k().join("")&&ie.inputmask._valueSet(""),u.clearIncomplete&&!1===G(T())&&ie.inputmask._valueSet(""),u.removeMaskOnSubmit&&(ie.inputmask._valueSet(ie.inputmask.unmaskedvalue(),!0),setTimeout(function(){j(ie,T())},0))},resetEvent:function(e){ie.inputmask.refreshValue=!0,setTimeout(function(){Q.trigger("setvalue")},0)}};if(r!==i)switch(r.action){case"isComplete":return ie=r.el,G(T());case"unmaskedvalue":return ie!==i&&r.value===i||(ee=r.value,ee=(e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(te,ee,u)||ee:ee).split(""),B.call(this,i,!1,!1,ee),e.isFunction(u.onBeforeWrite)&&u.onBeforeWrite.call(te,i,T(),0,u)),z(ie);case"mask":!function(t){ce.off(t);var n=function(t,n){var r=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(r,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o)if("INPUT"===t.tagName){var s=c.createElement("input");s.setAttribute("type",r),o="text"===s.type,s=null}else o="partial";return!1!==o?function(t){function r(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==n.nullable?c.activeElement===this&&n.clearMaskOnLostFocus?(ne?q(T().slice()).reverse():q(T().slice())).join(""):s.call(this):"":s.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue",[t])}var s,l;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===a("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):i;u&&u.get&&u.set?(s=u.get,l=u.set,Object.defineProperty(t,"value",{get:r,set:o,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:r,set:o,configurable:!0}))}else c.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",r),t.__defineSetter__("value",o));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return ne&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||e===i?"":!0!==t&&ne?e.split("").reverse().join(""):e)},s===i&&(s=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===i||!0!==e.valHooks[t].inputmaskpatch)){var r=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},o=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=r(e);return-1!==v(i,i,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return r(e)},set:function(t,i){var n,r=e(t);return n=o(t,i),t.inputmask&&r.trigger("setvalue",[i]),n},inputmaskpatch:!0}}}(t.type),function(t){ce.on(t,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==T().join("")&&i.trigger("setvalue")})}(t))}}(t):t.inputmask=i,o}(t,u);if(!1!==n&&(ie=t,Q=e(ie),J=ie.placeholder,Y=ie!==i?ie.maxLength:i,-1===Y&&(Y=i),!0===u.colorMask&&V(ie),p&&("inputMode"in ie&&(ie.inputmode=u.inputmode,ie.setAttribute("inputmode",u.inputmode)),!0===u.disablePredictiveText&&("autocorrect"in ie?ie.autocorrect=!1:(!0!==u.colorMask&&V(ie),ie.type="password"))),!0===n&&(ie.setAttribute("im-insert",u.insertMode),ce.on(ie,"submit",ue.submitEvent),ce.on(ie,"reset",ue.resetEvent),ce.on(ie,"blur",ue.blurEvent),ce.on(ie,"focus",ue.focusEvent),!0!==u.colorMask&&(ce.on(ie,"click",ue.clickEvent),ce.on(ie,"mouseleave",ue.mouseleaveEvent),ce.on(ie,"mouseenter",ue.mouseenterEvent)),ce.on(ie,"paste",ue.pasteEvent),ce.on(ie,"cut",ue.cutEvent),ce.on(ie,"complete",u.oncomplete),ce.on(ie,"incomplete",u.onincomplete),ce.on(ie,"cleared",u.oncleared),p||!0===u.inputEventOnly?ie.removeAttribute("maxLength"):(ce.on(ie,"keydown",ue.keydownEvent),ce.on(ie,"keypress",ue.keypressEvent)),ce.on(ie,"input",ue.inputFallBackEvent),ce.on(ie,"beforeinput",ue.beforeInputEvent)),ce.on(ie,"setvalue",ue.setValueEvent),Z=k().join(""),""!==ie.inputmask._valueGet(!0)||!1===u.clearMaskOnLostFocus||c.activeElement===ie)){var r=e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(te,ie.inputmask._valueGet(!0),u)||ie.inputmask._valueGet(!0):ie.inputmask._valueGet(!0);""!==r&&B(ie,!0,!1,r.split(""));var o=T().slice();Z=o.join(""),!1===G(o)&&u.clearIncomplete&&m(),u.clearMaskOnLostFocus&&c.activeElement!==ie&&(-1===v()?o=[]:q(o)),(!1===u.clearMaskOnLostFocus||u.showMaskOnFocus&&c.activeElement===ie||""!==ie.inputmask._valueGet(!0))&&j(ie,o),c.activeElement===ie&&U(ie,F(v()))}}(ie);break;case"format":return ee=(e.isFunction(u.onBeforeMask)?u.onBeforeMask.call(te,r.value,u)||r.value:r.value).split(""),B.call(this,i,!0,!1,ee),r.metadata?{value:ne?T().slice().reverse().join(""):T().join(""),metadata:l.call(this,{action:"getmetadata"},o,u)}:ne?T().slice().reverse().join(""):T().join("");case"isValid":r.value?(ee=r.value.split(""),B.call(this,i,!0,!0,ee)):r.value=T().join("");for(var de=T(),pe=H(),he=de.length-1;he>pe&&!R(he);he--);return de.splice(pe,he+1-pe),G(de)&&r.value===T().join("");case"getemptymask":return k().join("");case"remove":if(ie&&ie.inputmask){e.data(ie,"_inputmask_opts",null),Q=e(ie),ie.inputmask._valueSet(u.autoUnmask?z(ie):ie.inputmask._valueGet(!0)),ce.off(ie),ie.inputmask.colorMask&&(X=ie.inputmask.colorMask,X.removeChild(ie),X.parentNode.insertBefore(ie,X),X.parentNode.removeChild(X));Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ie),"value")&&ie.inputmask.__valueGet&&Object.defineProperty(ie,"value",{get:ie.inputmask.__valueGet,set:ie.inputmask.__valueSet,configurable:!0}):c.__lookupGetter__&&ie.__lookupGetter__("value")&&ie.inputmask.__valueGet&&(ie.__defineGetter__("value",ie.inputmask.__valueGet),ie.__defineSetter__("value",ie.inputmask.__valueSet)),ie.inputmask=i}return ie;case"getmetadata":if(e.isArray(o.metadata)){var fe=le(!0,0,!1).join("");return e.each(o.metadata,function(e,t){if(t.mask===fe)return fe=t,!1}),fe}return o.metadata}}var c=t.document,u=navigator.userAgent,d=u.indexOf("MSIE ")>0||u.indexOf("Trident/")>0,p=s("touchstart"),h=/iemobile/i.test(u),f=/iphone/i.test(u)&&!h;return n.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(this,t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}},aliases:{},masksCache:{},mask:function(a){function s(n,o,a,s){if(!0===o.importDataAttributes){var l,c,u,d,p=n.getAttribute(s),h=function(e,r){null!==(r=r!==i?r:n.getAttribute(s+"-"+e))&&("string"==typeof r&&(0===e.indexOf("on")?r=t[r]:"false"===r?r=!1:"true"===r&&(r=!0)),a[e]=r)};if(p&&""!==p&&(p=p.replace(/'/g,'"'),c=JSON.parse("{"+p+"}")),c){u=i;for(d in c)if("alias"===d.toLowerCase()){u=c[d];break}}h("alias",u),a.alias&&r(a.alias,a,o);for(l in o){if(c){u=i;for(d in c)if(d.toLowerCase()===l.toLowerCase()){u=c[d];break}}h(l,u)}}return e.extend(!0,o,a),("rtl"===n.dir||o.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||o.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),o.isRTL=!0),Object.keys(a).length}var u=this;return"string"==typeof a&&(a=c.getElementById(a)||c.querySelectorAll(a)),a=a.nodeName?[a]:a,
e.each(a,function(t,r){var a=e.extend(!0,{},u.opts);if(s(r,a,e.extend(!0,{},u.userOptions),u.dataAttribute)){var c=o(a,u.noMasksCache);c!==i&&(r.inputmask!==i&&(r.inputmask.opts.autoUnmask=!0,r.inputmask.remove()),r.inputmask=new n(i,i,!0),r.inputmask.opts=a,r.inputmask.noMasksCache=u.noMasksCache,r.inputmask.userOptions=e.extend(!0,{},u.userOptions),r.inputmask.isRTL=a.isRTL||a.numericInput,r.inputmask.el=r,r.inputmask.maskset=c,e.data(r,"_inputmask_opts",a),l.call(r.inputmask,{action:"mask"}))}}),a&&a[0]?a[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"===(void 0===t?"undefined":a(t))?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return l.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),l.call(this,{action:"format",value:e,metadata:t})},setValue:function(t){this.el&&e(this.el).trigger("setvalue",[t])},analyseMask:function(t,r,o){function a(e,t,i,n){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function s(t,a,s){s=s!==i?s:t.matches.length;var l=t.matches[s-1];if(r)0===a.indexOf("[")||_&&/\\d|\\s|\\w]/i.test(a)||"."===a?t.matches.splice(s++,0,{fn:new RegExp(a,o.casing?"i":""),optionality:!1,newBlockMarker:l===i?"master":l.def!==a,casing:null,def:a,placeholder:i,nativeDef:a}):(_&&(a=a[a.length-1]),e.each(a.split(""),function(e,n){l=t.matches[s-1],t.matches.splice(s++,0,{fn:null,optionality:!1,newBlockMarker:l===i?"master":l.def!==n&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||n,placeholder:o.staticDefinitionSymbol!==i?n:i,nativeDef:(_?"'":"")+n})})),_=!1;else{var c=(o.definitions?o.definitions[a]:i)||n.prototype.definitions[a];c&&!_?t.matches.splice(s++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,o.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),optionality:!1,newBlockMarker:l===i?"master":l.def!==(c.definitionSymbol||a),casing:c.casing,def:c.definitionSymbol||a,placeholder:c.placeholder,nativeDef:a}):(t.matches.splice(s++,0,{fn:null,optionality:!1,newBlockMarker:l===i?"master":l.def!==a&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||a,placeholder:o.staticDefinitionSymbol!==i?a:i,nativeDef:(_?"'":"")+a}),_=!1)}}function l(t){t&&t.matches&&e.each(t.matches,function(e,n){var a=t.matches[e+1];(a===i||a.matches===i||!1===a.isQuantifier)&&n&&n.isGroup&&(n.isGroup=!1,r||(s(n,o.groupmarker[0],0),!0!==n.openGroup&&s(n,o.groupmarker[1]))),l(n)})}function c(){if(S.length>0){if(g=S[S.length-1],s(g,h),g.isAlternator){m=S.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup&&(m.matches[e].isGroup=!1);S.length>0?(g=S[S.length-1],g.matches.push(m)):x.matches.push(m)}}else s(x,h)}function u(e){e.matches=e.matches.reverse();for(var t in e.matches)if(e.matches.hasOwnProperty(t)){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var r=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,r)}e.matches[t].matches!==i?e.matches[t]=u(e.matches[t]):e.matches[t]=function(e){return e===o.optionalmarker[0]?e=o.optionalmarker[1]:e===o.optionalmarker[1]?e=o.optionalmarker[0]:e===o.groupmarker[0]?e=o.groupmarker[1]:e===o.groupmarker[1]&&(e=o.groupmarker[0]),e}(e.matches[t])}return e}function d(e){var t=new a(!0);return t.openGroup=!1,t.matches=e,t}var p,h,f,g,m,v,y,b=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,w=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,_=!1,x=new a,S=[],C=[];for(r&&(o.optionalmarker[0]=i,o.optionalmarker[1]=i);p=r?w.exec(t):b.exec(t);){if(h=p[0],r)switch(h.charAt(0)){case"?":h="{0,1}";break;case"+":case"*":h="{"+h+"}"}if(_)c();else switch(h.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case o.escapeChar:_=!0,r&&c();break;case o.optionalmarker[1]:case o.groupmarker[1]:if(f=S.pop(),f.openGroup=!1,f!==i)if(S.length>0){if(g=S[S.length-1],g.matches.push(f),g.isAlternator){m=S.pop();for(var k=0;k<m.matches.length;k++)m.matches[k].isGroup=!1,m.matches[k].alternatorGroup=!1;S.length>0?(g=S[S.length-1],g.matches.push(m)):x.matches.push(m)}}else x.matches.push(f);else c();break;case o.optionalmarker[0]:S.push(new a(!1,!0));break;case o.groupmarker[0]:S.push(new a(!0));break;case o.quantifiermarker[0]:var T=new a(!1,!1,!0);h=h.replace(/[{}]/g,"");var D=h.split("|"),A=D[0].split(","),E=isNaN(A[0])?A[0]:parseInt(A[0]),I=1===A.length?E:isNaN(A[1])?A[1]:parseInt(A[1]);"*"!==E&&"+"!==E||(E="*"===I?0:1),T.quantifier={min:E,max:I,jit:D[1]};var $=S.length>0?S[S.length-1].matches:x.matches;if(p=$.pop(),p.isAlternator){$.push(p),$=p.matches;var y=new a(!0),P=$.pop();$.push(y),$=y.matches,p=P}p.isGroup||(p=d([p])),$.push(p),$.push(T);break;case o.alternatormarker:var O=function(e){var t=e.pop();return t.isQuantifier&&(t=d([e.pop(),t])),t};if(S.length>0){g=S[S.length-1];var R=g.matches[g.matches.length-1];v=g.openGroup&&(R.matches===i||!1===R.isGroup&&!1===R.isAlternator)?S.pop():O(g.matches)}else v=O(x.matches);if(v.isAlternator)S.push(v);else if(v.alternatorGroup?(m=S.pop(),v.alternatorGroup=!1):m=new a(!1,!1,!1,!0),m.matches.push(v),S.push(m),v.openGroup){v.openGroup=!1;var F=new a(!0);F.alternatorGroup=!0,S.push(F)}break;default:c()}}for(;S.length>0;)f=S.pop(),x.matches.push(f);return x.matches.length>0&&(l(x),C.push(x)),(o.numericInput||o.isRTL)&&u(C[0]),C},positionColorMask:function(e,t){e.style.left=t.offsetLeft+"px"}},n.extendDefaults=function(t){e.extend(!0,n.prototype.defaults,t)},n.extendDefinitions=function(t){e.extend(!0,n.prototype.definitions,t)},n.extendAliases=function(t){e.extend(!0,n.prototype.aliases,t)},n.format=function(e,t,i){return n(t).format(e,i)},n.unmask=function(e,t){return n(t).unmaskedvalue(e)},n.isValid=function(e,t){return n(t).isValid(e)},n.remove=function(t){"string"==typeof t&&(t=c.getElementById(t)||c.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},n.setValue=function(t,i){"string"==typeof t&&(t=c.getElementById(t)||c.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(t,n){n.inputmask?n.inputmask.setValue(i):e(n).trigger("setvalue",[i])})},n.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},n.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},n.dependencyLib=e,n})},function(e,t,i){"use strict";var n,r,o;"function"==typeof Symbol&&Symbol.iterator;!function(a){r=[i(4)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e){return e})},function(e,t){e.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,i){"use strict";var n,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[i(2)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e){function t(e){if(!e.tokenizer){var t=[];for(var i in c)-1===t.indexOf(i[0])&&t.push(i[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function i(e,t){return(!isFinite(e.rawday)||"29"==e.day&&!isFinite(e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)&&t}function n(e,t){var i=!0;if(t.min){if(e.rawyear){var n=e.rawyear.replace(/[^0-9]/g,"");i=t.min.year.substr(0,n.length)<=n}e.year===e.rawyear&&t.min.date.getTime()===t.min.date.getTime()&&(i=t.min.date.getTime()<=e.date.getTime())}return i&&t.max&&t.max.date.getTime()===t.max.date.getTime()&&(i=t.max.date.getTime()>=e.date.getTime()),i}function r(i,n,r,o){for(var a,s="";a=t(r).exec(i);)if(void 0===n)if(c[a[0]])s+="("+c[a[0]][0]+")";else switch(a[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=e.escapeRegex(a[0])}else if(c[a[0]])if(!0!==o&&c[a[0]][3]){var l=c[a[0]][3];s+=l.call(n.date)}else c[a[0]][2]?s+=n["raw"+c[a[0]][2]]:s+=a[0];else s+=a[0];return s}function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e,i,n){function r(e){var t=e.replace(/[^0-9]/g,"0");if(t!=e){var i=e.replace(/[^0-9]/g,""),r=(n.min&&n.min[o]||e).toString(),a=(n.max&&n.max[o]||e).toString();t=i+(i<r.slice(0,i.length)?r.slice(i.length):i>a.slice(0,i.length)?a.slice(i.length):t.toString().slice(i.length))}return t}var o,s,l,u={date:new Date(1,0,1)},d=e;if("string"==typeof d){for(;s=t(n).exec(i);){var p=d.slice(0,s[0].length);c.hasOwnProperty(s[0])&&(c[s[0]][0],o=c[s[0]][2],l=c[s[0]][1],function(e,t,i){e[o]=r(t),e["raw"+o]=t,void 0!==l&&l.call(e.date,"month"==o?parseInt(e[o])-1:e[o])}(u,p)),d=d.slice(p.length)}return u}if(d&&"object"===(void 0===d?"undefined":a(d))&&d.hasOwnProperty("date"))return d}var l=e.dependencyLib,c={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return o(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return o(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return o(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return o(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return o(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return o(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return o(Date.prototype.getMinutes.call(this),2)}],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return o(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return o(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return o(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},u={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};return e.extendAliases({datetime:{mask:function(e){return c.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=u[e.inputFormat]||e.inputFormat,e.displayFormat=u[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=u[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""!==e.placeholder?e.placeholder:e.inputFormat.replace(/[\[\]]/,""),e.regex=r(e.inputFormat,void 0,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(e,t,o,a){a.min=s(a.min,a.inputFormat,a),a.max=s(a.max,a.inputFormat,a);var l=o,c=s(e.join(""),a.inputFormat,a);return l&&c.date.getTime()===c.date.getTime()&&(l=i(c,l),l=l&&n(c,a)),t&&l&&o.pos!==t?{buffer:r(a.inputFormat,c,a),refreshFromBuffer:{start:t,end:o.pos}}:l},onKeyDown:function(i,n,r,a){var s=this;if(i.ctrlKey&&i.keyCode===e.keyCode.RIGHT){for(var c,u=new Date,d="";c=t(a).exec(a.inputFormat);)"d"===c[0].charAt(0)?d+=o(u.getDate(),c[0].length):"m"===c[0].charAt(0)?d+=o(u.getMonth()+1,c[0].length):"yyyy"===c[0]?d+=u.getFullYear().toString():"y"===c[0].charAt(0)&&(d+=o(u.getYear(),c[0].length));s.inputmask._valueSet(d),l(s).trigger("setvalue")}},onUnMask:function(e,t,i){return r(i.outputFormat,s(e,i.inputFormat,i),i,!0)},casing:function(e,t,i,n){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},insertMode:!1,shiftPositions:!1}}),e})},function(e,t,i){"use strict";var n,r,o;"function"==typeof Symbol&&Symbol.iterator;!function(a){r=[i(2)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e){function t(t,i){for(var n="",r=0;r<t.length;r++)e.prototype.definitions[t.charAt(r)]||i.definitions[t.charAt(r)]||i.optionalmarker.start===t.charAt(r)||i.optionalmarker.end===t.charAt(r)||i.quantifiermarker.start===t.charAt(r)||i.quantifiermarker.end===t.charAt(r)||i.groupmarker.start===t.charAt(r)||i.groupmarker.end===t.charAt(r)||i.alternatormarker===t.charAt(r)?n+="\\"+t.charAt(r):n+=t.charAt(r);return n}function i(e,t,i){if(t>0){var r=n.inArray(i.radixPoint,e);-1===r&&(e.push(i.radixPoint),r=e.length-1);for(var o=1;o<=t;o++)e[r+o]=e[r+o]||"0"}return e}var n=e.dependencyLib;return e.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),n=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===n?i-1:i),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var r="[+]";if(r+=t(e.prefix,e),!0===e.integerOptional?r+="~{1,"+e.integerDigits+"}":r+="~{"+e.integerDigits+"}",void 0!==e.digits){var o=e.decimalProtect?":":e.radixPoint,a=e.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?r+=o+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional?r+="["+o+";{1,"+e.digits+"}]":r+=o+";{"+e.digits+"}")}return r+=t(e.suffix,e),r+="[-]",e.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(e,t,i,r,o,a){if("-"===i||i===o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=void 0===o.isNegative||!o.isNegative,""===e.join("")||{caret:a.validPositions[t]?t:void 0,dopost:!0});if(!1===r&&i===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||parseInt(o.digits)>0)){var s=n.inArray(o.radixPoint,e);if(-1!==s&&void 0!==a.validPositions[s])return!0===o.numericInput?t===s:{caret:s+1}}return!0},postValidation:function(t,i,r,o){var a=o.suffix.split(""),s=o.prefix.split("");if(void 0===r.pos&&void 0!==r.caret&&!0!==r.dopost)return r;var l=void 0!==r.caret?r.caret:r.pos,c=t.slice();o.numericInput&&(l=c.length-l-1,c=c.reverse());var u=c[l];if(u===o.groupSeparator&&(l+=1,u=c[l]),l===c.length-o.suffix.length-1&&u===o.radixPoint)return r;void 0!==u&&u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back&&(c[l]="?",o.prefix.length>0&&l>=(!1===o.isNegative?1:0)&&l<o.prefix.length-1+(!1===o.isNegative?1:0)?s[l-(!1===o.isNegative?1:0)]="?":o.suffix.length>0&&l>=c.length-o.suffix.length-(!1===o.isNegative?1:0)&&(a[l-(c.length-o.suffix.length-(!1===o.isNegative?1:0))]="?")),s=s.join(""),a=a.join("");var d=c.join("").replace(s,"");if(d=d.replace(a,""),d=d.replace(new RegExp(e.escapeRegex(o.groupSeparator),"g"),""),d=d.replace(new RegExp("[-"+e.escapeRegex(o.negationSymbol.front)+"]","g"),""),d=d.replace(new RegExp(e.escapeRegex(o.negationSymbol.back)+"$"),""),isNaN(o.placeholder)&&(d=d.replace(new RegExp(e.escapeRegex(o.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(o.radixPoint)&&("0"===u&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===o.radixPoint&&""!==o.radixPoint&&!0!==o.numericInput&&(d="0"+d),""!==d){if(d=d.split(""),(!o.digitsOptional||o.enforceDigitsOnBlur&&"blur"===r.event)&&isFinite(o.digits)){var p=n.inArray(o.radixPoint,d),h=n.inArray(o.radixPoint,c);-1===p&&(d.push(o.radixPoint),p=d.length-1);for(var f=1;f<=o.digits;f++)o.digitsOptional&&(!o.enforceDigitsOnBlur||"blur"!==r.event)||void 0!==d[p+f]&&d[p+f]!==o.placeholder.charAt(0)?-1!==h&&void 0!==c[h+f]&&(d[p+f]=d[p+f]||c[h+f]):d[p+f]=r.placeholder||o.placeholder.charAt(0)}if(!0!==o.autoGroup||""===o.groupSeparator||u===o.radixPoint&&void 0===r.pos&&!r.dopost)d=d.join("");else{var g=d[d.length-1]===o.radixPoint&&r.c===o.radixPoint;d=e(function(e,t){var i="";if(i+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var n=e.join("").split(t.radixPoint);n[1]&&(i+=t.radixPoint+"*{"+n[1].match(/^\d*\??\d*/)[0].length+"}")}return i}(d,o),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join("")),g&&(d+=o.radixPoint),d.charAt(0)===o.groupSeparator&&d.substr(1)}}if(o.isNegative&&"blur"===r.event&&(o.isNegative="0"!==d),d=s+d,d+=a,o.isNegative&&(d=o.negationSymbol.front+d,d+=o.negationSymbol.back),d=d.split(""),void 0!==u)if(u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back)l=n.inArray("?",d),l>-1?d[l]=u:l=r.caret||0;else if(u===o.radixPoint||u===o.negationSymbol.front||u===o.negationSymbol.back){var m=n.inArray(u,d);-1!==m&&(l=m)}o.numericInput&&(l=d.length-l-1,d=d.reverse());var v={caret:void 0!==u&&void 0===r.pos||void 0===l?l:l+(o.numericInput?-1:1),buffer:d,refreshFromBuffer:r.dopost||t.join("")!==d.join("")};return v.refreshFromBuffer?v:r},onBeforeWrite:function(t,i,r,o){if(t)switch(t.type){case"keydown":return o.postValidation(i,r,{caret:r,dopost:!0},o);case"blur":case"checkval":var a;if(function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(o),null!==o.min||null!==o.max){if(a=o.onUnMask(i.join(""),void 0,n.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&a<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o);if(null!==o.max&&a>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o)}return o.postValidation(i,r,{caret:r,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:r}}},regex:{integerPart:function(t,i){return i?new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?"):new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+e.escapeRegex(t.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(t,i,n,r,o,a){var s,l;if("k"===t||"m"===t){s={insert:[],c:0};for(var c=0,l="k"===t?2:5;c<l;c++)s.insert.push({pos:n+c,c:0});return s.pos=n+l,s}if(!0===(s=r?new RegExp("[0-9"+e.escapeRegex(o.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t))){if(!0!==o.numericInput&&void 0!==i.validPositions[n]&&"~"===i.validPositions[n].match.def&&!a){var u=i.buffer.join("");u=u.replace(new RegExp("[-"+e.escapeRegex(o.negationSymbol.front)+"]","g"),""),u=u.replace(new RegExp(e.escapeRegex(o.negationSymbol.back)+"$"),"");var d=u.split(o.radixPoint);d.length>1&&(d[1]=d[1].replace(/0/g,o.placeholder.charAt(0))),"0"===d[0]&&(d[0]=d[0].replace(/0/g,o.placeholder.charAt(0))),u=d[0]+o.radixPoint+d[1]||"";var p=i._buffer.join("");for(u===o.radixPoint&&(u=p);null===u.match(e.escapeRegex(p)+"$");)p=p.slice(1);u=u.replace(p,""),u=u.split(""),s=void 0===u[n]?{pos:n,remove:n}:{pos:n}}}else r||t!==o.radixPoint||void 0!==i.validPositions[n-1]||(s={insert:{pos:n,c:0},pos:n+1});return s},cardinality:1},"+":{validator:function(e,t,i,n,r){return r.allowMinus&&("-"===e||e===r.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,i,n,r){return r.allowMinus&&e===r.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(t,i,n,r,o){var a="["+e.escapeRegex(o.radixPoint)+"]",s=new RegExp(a).test(t);return s&&i.validPositions[n]&&i.validPositions[n].match.placeholder===o.radixPoint&&(s={caret:n+1}),s},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(t,i,n){if(""===i&&!0===n.nullable)return i;var r=t.replace(n.prefix,"");return r=r.replace(n.suffix,""),r=r.replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(r=r.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==r.indexOf(n.radixPoint)&&(r=r.replace(e.escapeRegex.call(this,n.radixPoint),".")),r=r.replace(new RegExp("^"+e.escapeRegex(n.negationSymbol.front)),"-"),r=r.replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(t,i){var n=(i.numericInput?t.slice().reverse():t).join("");return n=n.replace(new RegExp("^"+e.escapeRegex(i.negationSymbol.front)),"-"),n=n.replace(new RegExp(e.escapeRegex(i.negationSymbol.back)+"$"),""),n=n.replace(i.prefix,""),n=n.replace(i.suffix,""),n=n.replace(new RegExp(e.escapeRegex(i.groupSeparator)+"([0-9]{3})","g"),"$1"),","===i.radixPoint&&(n=n.replace(e.escapeRegex(i.radixPoint),".")),isFinite(n)},onBeforeMask:function(t,n){n.isNegative=void 0;var r=n.radixPoint||",";"number"!=typeof t&&"number"!==n.inputType||""===r||(t=t.toString().replace(".",r));var o=t.split(r),a=o[0].replace(/[^\-0-9]/g,""),s=o.length>1?o[1].replace(/[^0-9]/g,""):"";t=a+(""!==s?r+s:s);var l=0;if(""!==r&&(l=s.length,""!==s)){var c=Math.pow(10,l||1);isFinite(n.digits)&&(l=parseInt(n.digits),c=Math.pow(10,l)),t=t.replace(e.escapeRegex(r),"."),isFinite(t)&&(t=Math.round(parseFloat(t)*c)/c),t=t.toString().replace(".",r)}return 0===n.digits&&-1!==t.indexOf(e.escapeRegex(r))&&(t=t.substring(0,t.indexOf(e.escapeRegex(r)))),i(t.toString().split(""),l,n).join("")},onKeyDown:function(t,i,r,o){var a=n(this);if(t.ctrlKey)switch(t.keyCode){case e.keyCode.UP:a.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(o.step)),a.trigger("setvalue");break;case e.keyCode.DOWN:a.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(o.step)),a.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e})},function(e,t,i){"use strict";var n,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){r=[i(4),i(2)],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(i,n){var r,o=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():e(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":t.setValue(o,n);break;case"option":if("string"!=typeof n)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n)});if(o&&void 0!==o.inputmask)return o.inputmask.option(n);break;default:return n.alias=i,r=new t(n),this.each(function(){r.mask(this)})}else{if(Array.isArray(i))return n.alias=i,r=new t(n),this.each(function(){r.mask(this)});if("object"==(void 0===i?"undefined":a(i)))return r=new t(i),void 0===i.mask&&void 0===i.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i);r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===i)return this.each(function(){r=new t(n),r.mask(this)})}}),e.fn.inputmask})}]),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?i=t:t={};var e,i,n;!function(t){function r(e,t){return _.call(e,t)}function o(e,t){var i,n,r,o,a,s,l,c,u,d,p,h,f=t&&t.split("/"),g=b.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,b.nodeIdCompat&&S.test(e[a])&&(e[a]=e[a].replace(S,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),u=0;u<e.length;u++)if("."===(p=e[u]))e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||m)&&g){for(i=e.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((r=g[f.slice(0,d).join("/")])&&(r=r[n])){o=r,s=u;break}if(o)break;!l&&m&&m[n]&&(l=m[n],c=u)}!o&&l&&(o=l,s=c),o&&(i.splice(0,s,o),e=i.join("/"))}return e}function a(e,i){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(t,n.concat([e,i]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){v[e]=t}}function c(e){if(r(y,e)){var i=y[e];delete y[e],w[e]=!0,h.apply(t,i)}if(!r(v,e)&&!r(w,e))throw new Error("No "+e);return v[e]}function u(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function d(e){return e?u(e):[]}function p(e){return function(){return b&&b.config&&b.config[e]||{}}}var h,f,g,m,v={},y={},b={},w={},_=Object.prototype.hasOwnProperty,x=[].slice,S=/\.js$/;g=function(e,t){var i,n=u(e),r=n[0],a=t[1];return e=n[1],r&&(r=o(r,a),i=c(r)),r?e=i&&i.normalize?i.normalize(e,s(a)):o(e,a):(e=o(e,a),n=u(e),r=n[0],e=n[1],r&&(i=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},m={require:function(e){return a(e)},exports:function(e){var t=v[e];return void 0!==t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:p(e)}}},h=function(e,i,n,o){var s,u,p,h,f,b,_,x=[],S=typeof n;if(o=o||e,b=d(o),"undefined"===S||"function"===S){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(h=g(i[f],b),"require"===(u=h.f))x[f]=m.require(e);else if("exports"===u)x[f]=m.exports(e),_=!0;else if("module"===u)s=x[f]=m.module(e);else if(r(v,u)||r(y,u)||r(w,u))x[f]=c(u);else{if(!h.p)throw new Error(e+" missing "+u);h.p.load(h.n,a(o,!0),l(u),{}),x[f]=v[u]}p=n?n.apply(v[e],x):void 0,e&&(s&&s.exports!==t&&s.exports!==v[e]?v[e]=s.exports:p===t&&_||(v[e]=p))}else e&&(v[e]=n)},e=i=f=function(e,i,n,r,o){if("string"==typeof e)return m[e]?m[e](i):c(g(e,d(i)).f);if(!e.splice){if(b=e,b.deps&&f(b.deps,b.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=r,r=o),r?h(t,e,i,n):setTimeout(function(){h(t,e,i,n)},4),f},f.config=function(e){return f(e)},e._defined=v,n=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),r(v,e)||r(y,e)||(y[e]=[e,t,i])},n.amd={jQuery:!0}}(),t.requirejs=e,t.require=i,t.define=n}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,i=[];for(var n in t){"function"==typeof t[n]&&("constructor"!==n&&i.push(n))}return i}var i={};i.Extend=function(e,t){function i(){this.constructor=e}var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},i.Decorate=function(e,i){function n(){var t=Array.prototype.unshift,n=i.prototype.constructor.length,r=e.prototype.constructor;n>0&&(t.call(arguments,e.prototype.constructor),r=i.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=n}var o=t(i),a=t(e);i.displayName=e.displayName,n.prototype=new r;for(var s=0;s<a.length;s++){var l=a[s];n.prototype[l]=e.prototype[l]}for(var c=0;c<o.length;c++){var u=o[c];n.prototype[u]=function(e){var t=function(){};e in n.prototype&&(t=n.prototype[e]);var r=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),r.apply(this,arguments)}}(u)}return n};var n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},
n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",i=0;i<e;i++){t+=Math.floor(36*Math.random()).toString(36)}return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var r=0;r<i.length;r++){var o=i[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in n||(n[o]={}),r==i.length-1&&(n[o]=e[t]),n=n[o]}delete e[t]}}return e},i.hasScroll=function(t,i){var n=e(i),r=i.style.overflowX,o=i.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},i.__cache={};var r=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(t,n){var r=i.GetUniqueElementId(t);return n?i.__cache[r]&&null!=i.__cache[r][n]?i.__cache[r][n]:e(t).data(n):i.__cache[r]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t],e.removeAttribute("data-select2-id")},i}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);n.append(i(r(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],r=this.option(n);t.push(r)}this.$results.append(t)},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()});i.$results.find(".select2-results__option[aria-selected]").each(function(){var i=e(this),n=t.GetData(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(o,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:t(e)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var r={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(null!=i.element&&o.call(i.element,":disabled")||null==i.element&&i.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==i.id&&delete r["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(r.role="group",r["aria-label"]=i.text,delete r["aria-selected"]);for(var a in r){var s=r[a];n.setAttribute(a,s)}if(i.children){var l=e(n),c=document.createElement("strong");c.className="select2-results__group";e(c);this.template(i,c);for(var u=[],d=0;d<i.children.length;d++){var p=i.children[d],h=this.option(p);u.push(h)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(u),l.append(c),l.append(f)}else this.template(i,n);return t.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var r=this,o=i.id+"-results";this.$results.attr("id",o),i.on("results:all",function(e){r.clear(),r.append(e.data),i.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),i.on("results:append",function(e){r.append(e.data),i.isOpen()&&r.setClasses()}),i.on("query",function(e){r.hideMessages(),r.showLoading(e)}),i.on("select",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),i.on("unselect",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),i.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),i.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),i.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),i.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var i=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:i})}}),i.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),i=t.index(e);if(!(i<=0)){var n=i-1;0===e.length&&(n=0);var o=t.eq(n);o.trigger("mouseenter");var a=r.$results.offset().top,s=o.offset().top,l=r.$results.scrollTop()+(s-a);0===n?r.$results.scrollTop(0):s-a<0&&r.$results.scrollTop(l)}}),i.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),i=t.index(e),n=i+1;if(!(n>=t.length)){var o=t.eq(n);o.trigger("mouseenter");var a=r.$results.offset().top+r.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),l=r.$results.scrollTop()+s-a;0===n?r.$results.scrollTop(0):s>a&&r.$results.scrollTop(l)}}),i.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),i.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-t+e.deltaY,n=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&i<=r.$results.height();n?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var n=e(this),o=t.GetData(this,"data");if("true"===n.attr("aria-selected"))return void(r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:o}):r.trigger("close",{}));r.trigger("select",{originalEvent:i,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(i){var n=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:n,element:e(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),i=t.index(e),n=this.$results.offset().top,r=e.offset().top,o=this.$results.scrollTop()+(r-n),a=r-n;o-=2*e.outerHeight(!1),i<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=n(t,i);null==o?i.style.display="none":"string"==typeof o?i.innerHTML=r(o):e(i).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var i=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},n.prototype.bind=function(e,t){var n=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(i){e(document.body).on("mousedown.select2."+i.id,function(i){var n=e(i.target),r=n.closest(".select2");e(".select2.select2-container--open").each(function(){this!=r[0]&&t.GetData(this,"element").select2("close")})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.trigger("focus")})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n);var r=t.title||t.text;r?i.attr("title",r):i.removeAttr("title")},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,r){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!o.options.get("disabled")){var n=e(this),r=n.parent(),a=i.GetData(r[0],"data");o.trigger("unselect",{originalEvent:t,data:a})}})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},n.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=this.selectionContainer(),a=this.display(r,o);o.append(a);var s=r.title||r.text;s&&o.attr("title",s),i.StoreData(o[0],"data",r),t.push(o)}var l=this.$selection.find(".select2-selection__rendered");i.appendMany(l,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,i){function n(){}return n.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var r=i.GetData(n[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var a={data:r};if(this.trigger("clear",a),a.prevented)return void this.$element.val(o);for(var s=0;s<r.length;s++)if(a={data:r[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(o);this.$element.trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=this.options.get("translations").get("removeAllItems"),o=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');i.StoreData(o[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(o)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,n,r){var o=this,a=n.id+"-results";e.call(this,n,r),n.on("open",function(){o.$search.attr("aria-controls",a),o.$search.trigger("focus")}),n.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),n.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),n.on("disable",function(){o.$search.prop("disabled",!0)}),n.on("focus",function(e){o.$search.trigger("focus")}),n.on("results:focus",function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===o.$search.val()){var n=o.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var r=t.GetData(n[0],"data");o.searchRemoveChoice(r),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){o.$search.val()&&e.stopPropagation()});var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(l)return void o.$selection.off("input.search input.searchcheck");o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)return void o.$selection.off("input.search input.searchcheck");var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&o.handleSearch(e)})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").width();else{e=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,o)){i=i||{};var n=e.Event("select2:"+t,{params:i});r.$element.trigger(n),-1!==e.inArray(t,a)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),r=n.item(e);t.push(r)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var r=[];e=[e],e.push.apply(e,n);for(var o=0;o<e.length;o++){var a=e[o].id;-1===i.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,i(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var r=[],o=0;o<n.length;o++){var a=n[o].id;a!==e.id&&-1===i.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")})}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},n.prototype.query=function(e,t){var n=[],r=this;this.$element.children().each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),a=r.matches(e,o);null!==a&&n.push(a)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var n;e.children?(n=document.createElement("optgroup"),n.label=e.text):(n=document.createElement("option"),void 0!==n.textContent?n.textContent=e.text:n.innerText=e.text),void 0!==e.id&&(n.value=e.id),e.disabled&&(n.disabled=!0),e.selected&&(n.selected=!0),e.title&&(n.title=e.title);var r=i(n),o=this._normalizeItem(e);return o.element=n,t.StoreData(n,"data",o),r},n.prototype.item=function(e){var n={};if(null!=(n=t.GetData(e[0],"data")))return n;if(e.is("option"))n={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){n={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),o=[],a=0;a<r.length;a++){var s=i(r[a]),l=this.item(s);o.push(l)}n.children=o}return n=this._normalizeItem(n),n.element=e[0],t.StoreData(e[0],"data",n),n},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e}),e=i.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},t,e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){this._dataToConvert=t.get("data")||[],n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype.bind=function(e,t){n.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},
n.prototype.convertToOptions=function(e){for(var n=this,r=this.$element.find("option"),o=r.map(function(){return n.item(i(this)).id}).get(),a=[],s=0;s<e.length;s++){var l=this._normalizeItem(e[s]);if(i.inArray(l.id,o)>=0){var c=r.filter(function(e){return function(){return i(this).val()==e.id}}(l)),u=this.item(c),d=i.extend(!0,{},l,u),p=this.option(d);c.replaceWith(p)}else{var h=this.option(l);if(l.children){var f=this.convertToOptions(l.children);t.appendMany(h,f)}a.push(h)}}return a},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);return r.then(t),r.fail(n),r}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){function n(){var n=o.transport(o,function(n){var o=r.processResults(n,e);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&i.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){"status"in n&&(0===n.status||"0"===n.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=n}var r=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var r=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var a=n.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,i,n),e.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return t.prototype.query=function(e,t,i){function n(e,o){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!n({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!o&&(e.data=a,void i(e))}if(o)return!0;var u=r.createTag(t);if(null!=u){var d=r.option(u);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(a,u)}e.results=a,i(e)}var r=this;if(this._removeOldTags(),null==t.term||null!=t.page)return void e.call(this,t,i);e.call(this,t,n)},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){function r(t){var i=a._normalizeItem(t);if(!a.$element.find("option").filter(function(){return e(this).val()===i.id}).length){var n=a.option(i);n.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([n])}o(i)}function o(e){a.trigger("select",{data:e})}var a=this;i.term=i.term||"";var s=this.tokenizer(i,this.options,r);s.term!==i.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.trigger("focus")),i.term=s.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,r){for(var o=n.get("tokenSeparators")||[],a=i.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var c=a[s];if(-1!==e.inArray(c,o)){var u=a.substr(0,s),d=e.extend({},i,{term:u}),p=l(d);null!=p?(r(p),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){if(t.term=t.term||"",t.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(){n._checkIfMaximumSelected()})},e.prototype.query=function(e,t,i){var n=this;this._checkIfMaximumSelected(function(){e.call(n,t,i)})},e.prototype._checkIfMaximumSelected=function(e,t){var i=this;this.current(function(e){var n=null!=e?e.length:0;if(i.maximumSelectionLength>0&&n>=i.maximumSelectionLength)return void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}});t&&t()})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var r=this,o=i.id+"-results";t.call(this,i,n),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),i.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",o),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),i.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),i.on("focus",function(){i.isOpen()||r.$search.trigger("focus")}),i.on("results:all",function(e){if(null==e.query.term||""===e.query.term){r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}}),i.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var r=t[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("query",function(e){n.lastParams=e,n.loading=!0}),t.on("query:append",function(e){n.lastParams=e,n.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=e(n.get("dropdownParent")||document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),n._bindContainerResultHandlers(t)}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var i=this;t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:message",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("select",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("unselect",function(){i._positionDropdown(),i._resizeDropdown()}),this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,n){var r=this,o="scroll.select2."+n.id,a="resize.select2."+n.id,s="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(i){var n=t.GetData(this,"select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(o+" "+a+" "+s,function(e){r._positionDropdown(),r._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id,o="resize.select2."+n.id,a="orientationchange.select2."+n.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+o+" "+a)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<o.top-s.height,u=l.bottom>o.bottom+s.height,d={left:o.left,top:a.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var h={top:0,left:0};(e.contains(document.body,p[0])||p[0].isConnected)&&(h=p.offset()),d.top-=h.top,d.left-=h.left,i||n||(r="below"),u||!c||i?!c&&u&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(d.top=a.top-h.top-s.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var i=0,n=0;n<t.length;n++){var r=t[n];r.children?i+=e(r.children):i++}return i}function t(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return t.prototype.showSearch=function(t,i){return!(e(i.data.results)<this.minimumResultsForSearch)&&t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var o=e.GetData(r[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,r,o,a,s,l,c,u,d,p,h,f,g,m,v,y,b,w,_,x,S,C,k,T,D,A){function E(){this.reset()}return E.prototype.apply=function(u){if(u=e.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=h:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null!=u.query){var d=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,d)}if(null!=u.initSelection){var A=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,A)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,S)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,T))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var E=c.Decorate(w,_);u.dropdownAdapter=E}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,k)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var I=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,I)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,C)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=r:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var $=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,$)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}u.language=this._resolveLanguage(u.language),u.language.push("en");for(var P=[],O=0;O<u.language.length;O++){var R=u.language[O];-1===P.indexOf(R)&&P.push(R)}return u.language=P,u.translations=this._processTranslations(u.language,u.debug),u},E.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(n,r){if(""===e.trim(n.term))return r;if(r.children&&r.children.length>0){for(var o=e.extend(!0,{},r),a=r.children.length-1;a>=0;a--){null==i(n,r.children[a])&&o.children.splice(a,1)}return o.children.length>0?o:i(n,o)}var s=t(r.text).toUpperCase(),l=t(n.term).toUpperCase();return s.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},E.prototype.applyFromElement=function(e,t){var i=e.language,n=this.defaults.language,r=t.prop("lang"),o=t.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(o));return e.language=a,e},E.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var i;i=e.isArray(t)?t:[t];for(var n=[],r=0;r<i.length;r++)if(n.push(i[r]),"string"==typeof i[r]&&i[r].indexOf("-")>0){var o=i[r].split("-"),a=o[0];n.push(a)}return n},E.prototype._processTranslations=function(t,i){for(var n=new u,r=0;r<t.length;r++){var o=new u,a=t[r];if("string"==typeof a)try{o=u.loadPath(a)}catch(e){try{a=this.defaults.amdLanguageBase+a,o=u.loadPath(a)}catch(e){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else o=e.isPlainObject(a)?new u(a):a;n.extend(o)}return n},E.prototype.set=function(t,i){var n=e.camelCase(t),r={};r[n]=i;var o=c._convertData(r);e.extend(!0,this.defaults,o)},new E}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),null!=r&&(this.options=i.applyFromElement(this.options,r)),this.options=i.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){function i(e,t){return t.toUpperCase()}var r=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),n.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(e[0],"data",n.GetData(e[0],"select2Tags")),n.StoreData(e[0],"tags",!0)),n.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",n.GetData(e[0],"ajaxUrl")),n.StoreData(e[0],"ajax-Url",n.GetData(e[0],"ajaxUrl")));for(var o={},a=0;a<e[0].attributes.length;a++){var s=e[0].attributes[a].name;if("data-"==s.substr(0,"data-".length)){var l=s.substring("data-".length),c=n.GetData(e[0],l);o[l.replace(/-([a-z])/g,i)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var u=t.extend(!0,{},n.GetData(e[0]),o);u=n._convertData(u);for(var d in u)t.inArray(d,r)>-1||(t.isPlainObject(this.options[d])?t.extend(this.options[d],u[d]):this.options[d]=u[d]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var r=function(e,n){null!=i.GetData(e[0],"select2")&&i.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var o=e.attr("tabindex")||0;i.StoreData(e[0],"old-tabindex",o),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(e[0],"select2",this),e.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,""),u=c.match(i);if(null!==u&&u.length>=1)return u[1]}return null}if("computedstyle"==t){return window.getComputedStyle(e[0]).width}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,r){-1===e.inArray(n,i)&&t.trigger(n,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];o.selected&&(i=!0)}else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in n){var o=n[e],a={prevented:!1,name:e,args:t};if(i.call(this,o,a),a.prevented)return void(t.prevented=!0)}i.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},r}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,i,n){var r,o,a=[];r=e.trim(t.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)})),r=e.trim(i.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=n(this))&&a.push(o)})),
t.attr("class",a.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),o=this.options.get("containerCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||i,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},n}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function i(e){return null}function n(){}return n.prototype.render=function(n){var r=n.call(this),o=this.options.get("dropdownCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||i,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},n}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,e.call(this,t,i)}return t.prototype.current=function(t,i){var n=this;if(this._isInitialized)return void t.call(this,i);this.initSelection.call(null,this.$element,function(t){n._isInitialized=!0,e.isArray(t)||(t=[t]),i(t)})},t}),t.define("select2/compat/inputData",["jquery","../utils"],function(e,t){function i(e,t,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,i)}return i.prototype.current=function(t,i){function n(t,i){var r=[];return t.selected||-1!==e.inArray(t.id,i)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,n(t.children,i)),r}for(var r=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];r.push.apply(r,n(a,this.$element.val().split(this._valueSeparator)))}i(r)},i.prototype.select=function(t,i){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+i.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},i.prototype.unselect=function(e,t){var i=this;t.selected=!1,this.current(function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r];t.id!=o.id&&n.push(o.id)}i.$element.val(n.join(i._valueSeparator)),i.$element.trigger("change")})},i.prototype.query=function(e,t,i){for(var n=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(t,o);null!==a&&n.push(a)}i({results:n})},i.prototype.addOptions=function(i,n){var r=e.map(n,function(e){return t.GetData(e[0],"data")});this._currentData.push.apply(this._currentData,r)},i}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function i(i,n){var r=e.extend(!0,{},n);if(null==i.term||""===e.trim(i.term))return r;if(n.children){for(var o=n.children.length-1;o>=0;o--){var a=n.children[o];t(i.term,a.text,a)||r.children.splice(o,1)}if(r.children.length>0)return r}return t(i.term,n.text,n)?r:null}return i}return t}),t.define("select2/compat/query",[],function(){function e(e,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.callback=i,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,i){e.call(this,t,i)}return e.prototype.position=function(e,t,i){i.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(n.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,i){e.call(this,t,i);var n=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(n.join(" "),function(e){e.stopPropagation()})},e}),function(i){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(e)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,d=0,p=0,h=0,f=0,g=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*p,p=0),c=0===p?d:p,"deltaY"in a&&(p=-1*a.deltaY,c=p),"deltaX"in a&&(d=a.deltaX,0===p&&(c=-1*d)),0!==p||0!==d){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,p*=m,d*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,p*=v,d*=v}if(h=Math.max(Math.abs(p),Math.abs(d)),(!o||h<o)&&(o=h,n(a,h)&&(o/=40)),n(a,h)&&(c/=40,d/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/o),d=Math[d>=1?"floor":"ceil"](d/o),p=Math[p>=1?"floor":"ceil"](p/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=d,t.deltaY=p,t.deltaFactor=o,t.offsetX=f,t.offsetY=g,t.deltaMode=0,s.unshift(t,c,d,p),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,i,n,r){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,a)}),e.inArray(t,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i}),function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var i={exports:{}};t(e.jquery),e.bootstrapSwitch=i.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(e){return e&&e.__esModule?e:{default:e}}(e),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i.default||window.jQuery||window.$,a=function(){function e(i){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.$element=o(i),this.options=o.extend({},o.fn.bootstrapSwitch.defaults,this._getElementOptions(),r),this.prevOptions={},this.$wrapper=o("<div>",{class:function(){var e=[];return e.push(n.options.state?"on":"off"),n.options.size&&e.push(n.options.size),n.options.disabled&&e.push("disabled"),n.options.readonly&&e.push("readonly"),n.options.indeterminate&&e.push("indeterminate"),n.options.inverse&&e.push("inverse"),n.$element.attr("id")&&e.push("id-"+n.$element.attr("id")),e.map(n._getClass.bind(n)).concat([n.options.baseClass],n._getClasses(n.options.wrapperClass)).join(" ")}}),this.$container=o("<div>",{class:this._getClass("container")}),this.$on=o("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=o("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=o("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,i)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];!1===n.options.onSwitchChange.apply(i,t)&&(n.$element.is(":radio")?o('[name="'+n.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):n.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return r(e,[{key:"setPrevOptions",value:function(){this.prevOptions=n({},this.options)}},{key:"state",value:function(e,t){return void 0===e?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?o('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",Boolean(e)).trigger("change.bootstrapSwitch",t),this.$element)}},{key:"toggleState",value:function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}},{key:"size",value:function(e){return void 0===e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),e&&this.$wrapper.addClass(this._getClass(e)),this._width(),this._containerPosition(),this.options.size=e,this.$element)}},{key:"animate",value:function(e){return void 0===e?this.options.animate:this.options.animate===Boolean(e)?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(e){return void 0===e?this.options.disabled:this.options.disabled===Boolean(e)?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(e){return void 0===e?this.options.readonly:this.options.readonly===Boolean(e)?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(e){return void 0===e?this.options.indeterminate:this.options.indeterminate===Boolean(e)?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(e){return void 0===e?this.options.inverse:this.options.inverse===Boolean(e)?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var e=this.$on.clone(!0),t=this.$off.clone(!0);return this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(e){return void 0===e?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(e)),this.options.onColor=e,this.$element)}},{key:"offColor",value:function(e){return void 0===e?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(e)),this.options.offColor=e,this.$element)}},{key:"onText",value:function(e){return void 0===e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)}},{key:"offText",value:function(e){return void 0===e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)}},{key:"labelText",value:function(e){return void 0===e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)}},{key:"handleWidth",value:function(e){return void 0===e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(e){return void 0===e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(e){return this.options.baseClass}},{key:"wrapperClass",value:function(e){return void 0===e?this.options.wrapperClass:(e||(e=o.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)}},{key:"radioAllOff",value:function(e){if(void 0===e)return this.options.radioAllOff;var t=Boolean(e);return this.options.radioAllOff===t?this.$element:(this.options.radioAllOff=t,this.$element)}},{key:"onInit",value:function(e){return void 0===e?this.options.onInit:(e||(e=o.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)}},{key:"onSwitchChange",value:function(e){return void 0===e?this.options.onSwitchChange:(e||(e=o.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)}},{key:"destroy",value:function(){var e=this.$element.closest("form");return e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var e=this,t=this.$on.add(this.$off).add(this.$label).css("width",""),i="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return t.width(i),this.$label.width(function(t,n){return"auto"!==e.options.labelWidth?e.options.labelWidth:n<i?i:n}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var i=[0,"-"+e._handleWidth+"px"];return e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?i[1]:i[0]:e.options.inverse?i[0]:i[1]})}},{key:"_init",value:function(){var e=this,t=function(){e.setPrevOptions(),e._width(),e._containerPosition(),setTimeout(function(){if(e.options.animate)return e.$wrapper.addClass(e._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))return void t();var i=window.setInterval(function(){if(e.$wrapper.is(":visible"))return t(),window.clearInterval(i)},50)}},{key:"_elementHandlers",value:function(){var e=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){e.options=e.prevOptions,e.options.indeterminate&&e.$wrapper.addClass(e._getClass("indeterminate")),e.$element.prop("checked",e.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(t,i){t.preventDefault(),t.stopImmediatePropagation();var n=e.$element.is(":checked");e._containerPosition(n),n!==e.options.state&&(e.options.state=n,e.$wrapper.toggleClass(e._getClass("off")).toggleClass(e._getClass("on")),i||(e.$element.is(":radio")&&o('[name="'+e.$element.attr("name")+'"]').not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[n])))},"focus.bootstrapSwitch":function(t){t.preventDefault(),e.$wrapper.addClass(e._getClass("focused"))},"blur.bootstrapSwitch":function(t){t.preventDefault(),e.$wrapper.removeClass(e._getClass("focused"))},"keydown.bootstrapSwitch":function(t){!t.which||e.options.disabled||e.options.readonly||37!==t.which&&39!==t.which||(t.preventDefault(),t.stopImmediatePropagation(),e.state(39===t.which))}})}},{key:"_handleHandlers",value:function(){var e=this;return this.$on.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var e=this,t={click:function(e){e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){e._dragStart||e.options.disabled||e.options.readonly||(t.preventDefault(),t.stopPropagation(),e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(e._getClass("animate")),e.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){if(null!=e._dragStart){var i=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart;t.preventDefault(),i<-e._handleWidth||i>0||(e._dragEnd=i,e.$container.css("margin-left",e._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){if(e._dragStart){if(t.preventDefault(),e.options.animate&&e.$wrapper.addClass(e._getClass("animate")),e._dragEnd){var i=e._dragEnd>-e._handleWidth/2;e._dragEnd=!1,e.state(e.options.inverse?!i:i)}else e.state(!e.options.state);e._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){e.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(t)}},{key:"_externalLabelHandler",value:function(){var e=this,t=this.$element.closest("label");t.on("click",function(i){i.preventDefault(),i.stopImmediatePropagation(),i.target===t[0]&&e.toggleState()})}},{key:"_formHandler",value:function(){var e=this.$element.closest("form");e.data("bootstrap-switch")||e.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){e.find("input").filter(function(){return o(this).data("bootstrap-switch")}).each(function(){return o(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(e){return this.options.baseClass+"-"+e}},{key:"_getClasses",value:function(e){return o.isArray(e)?e.map(this._getClass.bind(this)):[this._getClass(e)]}}]),e}();o.fn.bootstrapSwitch=function(e){function t(t,i){var r=o(i),s=r.data("bootstrap-switch"),l=s||new a(i,e);return s||r.data("bootstrap-switch",l),"string"==typeof e?l[e].apply(l,n):t}for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Array.prototype.reduce.call(this,t,this)},o.fn.bootstrapSwitch.Constructor=a,o.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";function t(t,i){var n=t.nodeName.toLowerCase();if(-1!==e.inArray(n,i))return-1===e.inArray(n,p)||Boolean(t.nodeValue.match(g)||t.nodeValue.match(m));for(var r=e(i).filter(function(e,t){return t instanceof RegExp}),o=0,a=r.length;o<a;o++)if(n.match(r[o]))return!0;return!1}function i(e,i,n){if(n&&"function"==typeof n)return n(e);for(var r=Object.keys(i),o=0,a=e.length;o<a;o++)for(var s=e[o].querySelectorAll("*"),l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();if(-1!==r.indexOf(d))for(var p=[].slice.call(u.attributes),h=[].concat(i["*"]||[],i[d]||[]),f=0,g=p.length;f<g;f++){var m=p[f];t(m,h)||u.removeAttribute(m.nodeName)}else u.parentNode.removeChild(u)}}function n(e,t){return e.length===t.length&&e.every(function(e,i){return e===t[i]})}function r(e,t){var i,n=e.selectedOptions,r=[];if(t){for(var o=0,a=n.length;o<a;o++)i=n[o],i.disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||r.push(i);return r}return n}function o(e,t){for(var i,n=[],r=t||e.selectedOptions,o=0,a=r.length;o<a;o++)i=r[o],i.disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||n.push(i.value||i.text);return e.multiple?n:n.length?n[0]:null}function a(e,t,i,n){for(var r=["display","subtext","tokens"],o=!1,a=0;a<r.length;a++){var s=r[a],l=e[s];if(l&&(l=l.toString(),"display"===s&&(l=l.replace(/<[^>]+>/g,"")),n&&(l=c(l)),l=l.toUpperCase(),o="contains"===i?l.indexOf(t)>=0:l.startsWith(t)))break}return o}function s(e){return parseInt(e,10)||0}function l(e){return C[e]}function c(e){return(e=e.toString())&&e.replace(k,l).replace(T,"")}function u(t){var i=arguments,n=t;if([].shift.apply(i),!$.success){try{$.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){B.BootstrapVersion?$.full=B.BootstrapVersion.split(" ")[0].split("."):($.full=[$.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}$.major=$.full[0],$.success=!0}if("4"===$.major){var r=[];B.DEFAULTS.style===R.BUTTONCLASS&&r.push({name:"style",className:"BUTTONCLASS"}),B.DEFAULTS.iconBase===R.ICONBASE&&r.push({name:"iconBase",className:"ICONBASE"}),B.DEFAULTS.tickIcon===R.TICKICON&&r.push({name:"tickIcon",className:"TICKICON"}),R.DIVIDER="dropdown-divider",R.SHOW="show",R.BUTTONCLASS="btn-light",R.POPOVERHEADER="popover-header",R.ICONBASE="",R.TICKICON="bs-ok-default";for(var o=0;o<r.length;o++){var t=r[o];B.DEFAULTS[t.name]=R[t.className]}}var a,s=this.each(function(){var t=e(this);if(t.is("select")){var r=t.data("selectpicker"),o="object"==typeof n&&n;if(r){if(o)for(var s in o)o.hasOwnProperty(s)&&(r.options[s]=o[s])}else{var l=t.data();for(var c in l)l.hasOwnProperty(c)&&-1!==e.inArray(c,d)&&delete l[c];var u=e.extend({},B.DEFAULTS,e.fn.selectpicker.defaults||{},l,o);u.template=e.extend({},B.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},l.template,o.template),t.data("selectpicker",r=new B(this,u))}"string"==typeof n&&(a=r[n]instanceof Function?r[n].apply(r,i):r.options[n])}});return void 0!==a?a:s}var d=["sanitize","whiteList","sanitizeFn"],p=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],h=/^aria-[\w-]*$/i,f={"*":["class","dir","id","lang","role","tabindex","style",h],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},g=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,m=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;"classList"in document.createElement("_")||function(t){if("Element"in t){var i=t.Element.prototype,n=Object,r=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(n.defineProperty){var o={get:r,enumerable:!0,configurable:!0};try{n.defineProperty(i,"classList",o)}catch(e){void 0!==e.number&&-2146823252!==e.number||(o.enumerable=!1,n.defineProperty(i,"classList",o))}}else n.prototype.__defineGetter__&&i.__defineGetter__("classList",r)}}(window);var v=document.createElement("_");if(v.classList.add("c1","c2"),!v.classList.contains("c2")){var y=DOMTokenList.prototype.add,b=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,y.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,b.bind(this))}}if(v.classList.toggle("c3",!1),v.classList.contains("c3")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:w.call(this,e)}}v=null,String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var n=i.length,r=String(e),o=r.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(o+l>n)return!1;for(var c=-1;++c<o;)if(i.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(e,t,i){i=[];for(t in e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var _={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!_.useDefault&&e(t).data("selected",!0),_._set.apply(this,arguments)};var x=null,S=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(S?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(e,!0,!1)),i.dispatchEvent(t)):i.fireEvent?(t=document.createEventObject(),t.eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var C={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},k=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,T=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g"),D={
"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},A=function(e){var t=function(t){return e[t]},i="(?:"+Object.keys(e).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}}(D),E={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},I={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},$={success:!1,major:"3"};try{$.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),$.major=$.full[0],$.success=!0}catch(e){}var P=0,O=".bs.select",R={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},F={MENU:"."+R.MENU},L={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(""),fragment:document.createDocumentFragment()};L.a.setAttribute("role","option"),L.subtext.className="text-muted",L.text=L.span.cloneNode(!1),L.text.className="text",L.checkMark=L.span.cloneNode(!1);var j=new RegExp(I.ARROW_UP+"|"+I.ARROW_DOWN),M=new RegExp("^"+I.TAB+"$|"+I.ESCAPE),N={li:function(e,t,i){var n=L.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),void 0!==i&&null!==i&&n.classList.add("optgroup-"+i),n},a:function(e,t,i){var n=L.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(n.className=t),"4"===$.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},text:function(e,t){var i,n,r=L.text.cloneNode(!1);if(e.content)r.innerHTML=e.content;else{if(r.textContent=e.text,e.icon){var o=L.whitespace.cloneNode(!1);n=(!0===t?L.i:L.span).cloneNode(!1),n.className=e.iconBase+" "+e.icon,L.fragment.appendChild(n),L.fragment.appendChild(o)}e.subtext&&(i=L.subtext.cloneNode(!1),i.textContent=e.subtext,r.appendChild(i))}if(!0===t)for(;r.childNodes.length>0;)L.fragment.appendChild(r.childNodes[0]);else L.fragment.appendChild(r);return L.fragment},label:function(e){var t,i,n=L.text.cloneNode(!1);if(n.innerHTML=e.label,e.icon){var r=L.whitespace.cloneNode(!1);i=L.span.cloneNode(!1),i.className=e.iconBase+" "+e.icon,L.fragment.appendChild(i),L.fragment.appendChild(r)}return e.subtext&&(t=L.subtext.cloneNode(!1),t.textContent=e.subtext,n.appendChild(t)),L.fragment.appendChild(n),L.fragment}},B=function(t,i){var n=this;_.useDefault||(e.valHooks.select.set=_._set,_.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{},search:{},current:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=B.prototype.val,this.render=B.prototype.render,this.refresh=B.prototype.refresh,this.setStyle=B.prototype.setStyle,this.selectAll=B.prototype.selectAll,this.deselectAll=B.prototype.deselectAll,this.destroy=B.prototype.destroy,this.remove=B.prototype.remove,this.show=B.prototype.show,this.hide=B.prototype.hide,this.init()};B.VERSION="1.13.12",B.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:R.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:R.ICONBASE,tickIcon:R.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:f},B.prototype={constructor:B,init:function(){var e=this,t=this.$element.attr("id");P++,this.selectId="bs-select-"+P,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(F.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(R.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid.bs.select",function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown.bs.select.invalid",function(){e.$element.val(e.$element.val()).off("shown.bs.select.invalid")}).on("rendered.bs.select",function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered.bs.select")}),e.$button.on("blur.bs.select",function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.createLi(),e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",n="",r=this.autofocus?" autofocus":"";$.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var o,a="",s="",l="",c="";return this.options.header&&(a='<div class="'+R.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+A(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+R.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+R.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(c='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+R.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+t+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+r+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===$.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+R.MENU+" "+("4"===$.major?"":R.SHOW)+'">'+a+s+l+'<div class="inner '+R.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+R.MENU+" inner "+("4"===$.major?R.SHOW:"")+'" role="presentation"></ul></div>'+c+"</div></div>",e(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,r,o){function a(e,r){var o,a,u,p,h,f,g,m,v=c.selectpicker.current.elements.length,y=[],b=!0,w=c.isVirtual();c.selectpicker.view.scrollTop=e,o=Math.ceil(c.sizeInfo.menuInnerHeight/c.sizeInfo.liHeight*1.5),a=Math.round(v/o)||1;for(var _=0;_<a;_++){var x=(_+1)*o;if(_===a-1&&(x=v),y[_]=[_*o+(_?1:0),x],!v)break;void 0===h&&e-1<=c.selectpicker.current.data[x-1].position-c.sizeInfo.menuInnerHeight&&(h=_)}if(void 0===h&&(h=0),f=[c.selectpicker.view.position0,c.selectpicker.view.position1],u=Math.max(0,h-1),p=Math.min(a-1,h+1),c.selectpicker.view.position0=!1===w?0:Math.max(0,y[u][0])||0,c.selectpicker.view.position1=!1===w?v:Math.min(v,y[p][1])||0,g=f[0]!==c.selectpicker.view.position0||f[1]!==c.selectpicker.view.position1,void 0!==c.activeIndex&&(l=c.selectpicker.main.elements[c.prevActiveIndex],d=c.selectpicker.main.elements[c.activeIndex],s=c.selectpicker.main.elements[c.selectedIndex],r&&(c.activeIndex!==c.selectedIndex&&c.defocusItem(d),c.activeIndex=void 0),c.activeIndex&&c.activeIndex!==c.selectedIndex&&c.defocusItem(s)),void 0!==c.prevActiveIndex&&c.prevActiveIndex!==c.activeIndex&&c.prevActiveIndex!==c.selectedIndex&&c.defocusItem(l),(r||g)&&(m=c.selectpicker.view.visibleElements?c.selectpicker.view.visibleElements.slice():[],c.selectpicker.view.visibleElements=!1===w?c.selectpicker.current.elements:c.selectpicker.current.elements.slice(c.selectpicker.view.position0,c.selectpicker.view.position1),c.setOptionStatus(),(t||!1===w&&r)&&(b=!n(m,c.selectpicker.view.visibleElements)),(r||!0===w)&&b)){var S,C,k=c.$menuInner[0],T=document.createDocumentFragment(),D=k.firstChild.cloneNode(!1),A=c.selectpicker.view.visibleElements,E=[];k.replaceChild(D,k.firstChild);for(var _=0,I=A.length;_<I;_++){var $,P,O=A[_];c.options.sanitize&&($=O.lastChild)&&(P=c.selectpicker.current.data[_+c.selectpicker.view.position0])&&P.content&&!P.sanitized&&(E.push($),P.sanitized=!0),T.appendChild(O)}if(c.options.sanitize&&E.length&&i(E,c.options.whiteList,c.options.sanitizeFn),!0===w?(S=0===c.selectpicker.view.position0?0:c.selectpicker.current.data[c.selectpicker.view.position0-1].position,C=c.selectpicker.view.position1>v-1?0:c.selectpicker.current.data[v-1].position-c.selectpicker.current.data[c.selectpicker.view.position1-1].position,k.firstChild.style.marginTop=S+"px",k.firstChild.style.marginBottom=C+"px"):(k.firstChild.style.marginTop=0,k.firstChild.style.marginBottom=0),k.firstChild.appendChild(T),!0===w&&c.sizeInfo.hasScrollBar){var R=k.firstChild.offsetWidth;if(r&&R<c.sizeInfo.menuInnerInnerWidth&&c.sizeInfo.totalMenuWidth>c.sizeInfo.selectWidth)k.firstChild.style.minWidth=c.sizeInfo.menuInnerInnerWidth+"px";else if(R>c.sizeInfo.menuInnerInnerWidth){c.$menu[0].style.minWidth=0;var F=k.firstChild.offsetWidth;F>c.sizeInfo.menuInnerInnerWidth&&(c.sizeInfo.menuInnerInnerWidth=F,k.firstChild.style.minWidth=c.sizeInfo.menuInnerInnerWidth+"px"),c.$menu[0].style.minWidth=""}}}if(c.prevActiveIndex=c.activeIndex,c.options.liveSearch){if(t&&r){var L,j=0;c.selectpicker.view.canHighlight[j]||(j=1+c.selectpicker.view.canHighlight.slice(1).indexOf(!0)),L=c.selectpicker.view.visibleElements[j],c.defocusItem(c.selectpicker.view.currentActive),c.activeIndex=(c.selectpicker.current.data[j]||{}).index,c.focusItem(L)}}else c.$menuInner.trigger("focus")}var s,l,c=this,u=0,d=[];if(this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),r)if(o)u=this.$menuInner[0].scrollTop;else if(!c.multiple){var p=c.$element[0],h=(p.options[p.selectedIndex]||{}).liIndex;if("number"==typeof h&&!1!==c.options.size){var f=c.selectpicker.main.data[h],g=f&&f.position;g&&(u=g-(c.sizeInfo.menuInnerHeight+c.sizeInfo.liHeight)/2)}}a(u,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){c.noScroll||a(this.scrollTop,t),c.noScroll=!1}),e(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",function(){c.$newElement.hasClass(R.SHOW)&&a(c.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){if(e){t=t||this.selectpicker.main.data[this.activeIndex];var n=e.firstChild;n&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),e.classList.add("active"),n.classList.add("active")))}},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var i=this.$element[0],n=!1,r=!this.selectpicker.view.titleOption.parentNode;if(r){this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="";n=void 0===e(i.options[i.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")}(r||0!==this.selectpicker.view.titleOption.index)&&i.insertBefore(this.selectpicker.view.titleOption,i.firstChild),n&&(i.selectedIndex=0)}return t},createLi:function(){function e(e){var t=a[a.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||(e=e||{},e.type="divider",o.push(N.li(!1,R.DIVIDER,e.optID?e.optID+"div":void 0)),a.push(e))}function t(t,r){if(r=r||{},r.divider="true"===t.getAttribute("data-divider"),r.divider)e({optID:r.optID});else{var l=a.length,c=t.style.cssText,u=c?A(c):"",d=(t.className||"")+(r.optgroupClass||"");r.optID&&(d="opt "+d),r.text=t.textContent,r.content=t.getAttribute("data-content"),r.tokens=t.getAttribute("data-tokens"),r.subtext=t.getAttribute("data-subtext"),r.icon=t.getAttribute("data-icon"),r.iconBase=n;var p=N.text(r),h=N.li(N.a(p,d,u),"",r.optID);h.firstChild&&(h.firstChild.id=i.selectId+"-"+l),o.push(h),t.liIndex=l,r.display=r.content||r.text,r.type="option",r.index=l,r.option=t,r.disabled=r.disabled||t.disabled,a.push(r);var f=0;r.display&&(f+=r.display.length),r.subtext&&(f+=r.subtext.length),r.icon&&(f+=1),f>s&&(s=f,i.selectpicker.view.widestOption=o[o.length-1])}}var i=this,n=this.options.iconBase,r=':not([hidden]):not([data-hidden="true"])',o=[],a=[],s=0,l=0,c=this.setPlaceholder()?1:0;this.options.hideDisabled&&(r+=":not(:disabled)"),!i.options.showTick&&!i.multiple||L.checkMark.parentNode||(L.checkMark.className=n+" "+i.options.tickIcon+" check-mark",L.a.appendChild(L.checkMark));for(var u=this.$element[0].querySelectorAll("select > *"+r),d=u.length;c<d;c++){var p=u[c];"OPTGROUP"!==p.tagName?t(p,{}):function(i,s){var c=s[i],u=s[i-1],d=s[i+1],p=c.querySelectorAll("option"+r);if(p.length){var h,f,g={label:A(c.label),subtext:c.getAttribute("data-subtext"),icon:c.getAttribute("data-icon"),iconBase:n},m=" "+(c.className||"");l++,u&&e({optID:l});var v=N.label(g);o.push(N.li(v,"dropdown-header"+m,l)),a.push({display:g.label,subtext:g.subtext,type:"optgroup-label",optID:l});for(var y=0,b=p.length;y<b;y++){var w=p[y];0===y&&(h=a.length-1,f=h+b),t(w,{headerIndex:h,lastIndex:f,optID:l,optgroupClass:m,disabled:c.disabled})}d&&e({optID:l})}}(c,u)}this.selectpicker.main.elements=o,this.selectpicker.main.data=a,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,n=this,a=this.$element[0],s=r(a,this.options.hideDisabled),l=s.length,c=this.$button[0],u=c.querySelector(".filter-option-inner-inner"),d=document.createTextNode(this.options.multipleSeparator),p=L.fragment.cloneNode(!1),h=!1;if(c.classList.toggle("bs-placeholder",n.multiple?!l:!o(a,s)),this.tabIndex(),"static"===this.options.selectedTextFormat)p=N.text({text:this.options.title},!0);else if(e=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&l>1,e&&(t=this.options.selectedTextFormat.split(">"),e=t.length>1&&l>t[1]||1===t.length&&l>=2),!1===e){for(var f=0;f<l&&f<50;f++){var g=s[f],m={},v={content:g.getAttribute("data-content"),subtext:g.getAttribute("data-subtext"),icon:g.getAttribute("data-icon")};this.multiple&&f>0&&p.appendChild(d.cloneNode(!1)),g.title?m.text=g.title:v.content&&n.options.showContent?(m.content=v.content.toString(),h=!0):(n.options.showIcon&&(m.icon=v.icon,m.iconBase=this.options.iconBase),n.options.showSubtext&&!n.multiple&&v.subtext&&(m.subtext=" "+v.subtext),m.text=g.textContent.trim()),p.appendChild(N.text(m,!0))}l>49&&p.appendChild(document.createTextNode("..."))}else{var y=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(y+=":not(:disabled)");var b=this.$element[0].querySelectorAll("select > option"+y+", optgroup"+y+" option"+y).length,w="function"==typeof this.options.countSelectedText?this.options.countSelectedText(l,b):this.options.countSelectedText;p=N.text({text:w.replace("{0}",l.toString()).replace("{1}",b.toString())},!0)}if(void 0==this.options.title&&(this.options.title=this.$element.attr("title")),p.childNodes.length||(p=N.text({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),c.title=p.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&h&&i([p],n.options.whiteList,n.options.sanitizeFn),u.innerHTML="",u.appendChild(p),$.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var _=c.querySelector(".filter-expand"),x=u.cloneNode(!0);x.className="filter-expand",_?c.replaceChild(x,_):c.appendChild(x)}this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){var i,n=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),$.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),i=e?e.trim():o,"add"==t?i&&n.classList.add.apply(n.classList,i.split(" ")):"remove"==t?i&&n.classList.remove.apply(n.classList,i.split(" ")):(o&&n.classList.remove.apply(n.classList,o.split(" ")),i&&n.classList.add.apply(n.classList,i.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("li"),l=document.createElement("li"),c=document.createElement("li"),u=document.createElement("a"),d=document.createElement("span"),p=this.options.header&&this.$menu.find("."+R.POPOVERHEADER).length>0?this.$menu.find("."+R.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,f=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,g=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",u.className="dropdown-item "+(m?m.className:""),i.className=this.$menu[0].parentNode.className+" "+R.SHOW,i.style.width=0,"auto"===this.options.width&&(n.style.minWidth=0),n.className=R.MENU+" "+R.SHOW,r.className="inner "+R.SHOW,o.className=R.MENU+" inner "+("4"===$.major?R.SHOW:""),a.className=R.DIVIDER,l.className="dropdown-header",d.appendChild(document.createTextNode("")),u.appendChild(d),c.appendChild(u),l.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(c),o.appendChild(a),o.appendChild(l),p&&n.appendChild(p),h){var v=document.createElement("input");h.className="bs-searchbox",v.className="form-control",h.appendChild(v),n.appendChild(h)}f&&n.appendChild(f),r.appendChild(o),n.appendChild(r),g&&n.appendChild(g),i.appendChild(n),document.body.appendChild(i);var y,b=c.offsetHeight,w=l?l.offsetHeight:0,_=p?p.offsetHeight:0,x=h?h.offsetHeight:0,S=f?f.offsetHeight:0,C=g?g.offsetHeight:0,k=e(a).outerHeight(!0),T=!!window.getComputedStyle&&window.getComputedStyle(n),D=n.offsetWidth,A=T?null:e(n),E={vert:s(T?T.paddingTop:A.css("paddingTop"))+s(T?T.paddingBottom:A.css("paddingBottom"))+s(T?T.borderTopWidth:A.css("borderTopWidth"))+s(T?T.borderBottomWidth:A.css("borderBottomWidth")),horiz:s(T?T.paddingLeft:A.css("paddingLeft"))+s(T?T.paddingRight:A.css("paddingRight"))+s(T?T.borderLeftWidth:A.css("borderLeftWidth"))+s(T?T.borderRightWidth:A.css("borderRightWidth"))},I={vert:E.vert+s(T?T.marginTop:A.css("marginTop"))+s(T?T.marginBottom:A.css("marginBottom"))+2,horiz:E.horiz+s(T?T.marginLeft:A.css("marginLeft"))+s(T?T.marginRight:A.css("marginRight"))+2};r.style.overflowY="scroll",y=n.offsetWidth-D,document.body.removeChild(i),this.sizeInfo.liHeight=b,this.sizeInfo.dropdownHeaderHeight=w,this.sizeInfo.headerHeight=_,this.sizeInfo.searchHeight=x,this.sizeInfo.actionsHeight=S,this.sizeInfo.doneButtonHeight=C,this.sizeInfo.dividerHeight=k,this.sizeInfo.menuPadding=E,this.sizeInfo.menuExtras=I,this.sizeInfo.menuWidth=D,this.sizeInfo.menuInnerInnerWidth=D-E.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=y,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=this,n=e(window),r=i.$newElement.offset(),o=e(i.options.container);i.options.container&&o.length&&!o.is("body")?(t=o.offset(),t.top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):t={top:0,left:0};var a=i.options.windowPadding;this.sizeInfo.selectOffsetTop=r.top-t.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-a[2],this.sizeInfo.selectOffsetLeft=r.left-t.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,r,o,a,s,l=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(s=c*this.selectpicker.current.elements.length+g.vert,this.$newElement.toggleClass(R.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=r+u+d+p+h,a=Math.max(r-g.vert,0),this.$newElement.hasClass(R.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=i,t=i-u-d-p-h-g.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&m++;i=c*this.options.size+m*f+g.vert,t=i-g.vert,o=i+u+d+p+h,n=a=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(R.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i=this,n=e(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?n.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+O+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+O+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&n.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+O+"."+this.selectId+".setMenuSize"),i.createView(!1,!0,t)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded.bs.select",function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,r=this,o=e(this.options.container),a=function(a){var s={},l=r.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(R.DROPUP,a.hasClass(R.DROPUP)),t=a.offset(),o.is("body")?i={top:0,left:0}:(i=o.offset(),i.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=a.hasClass(R.DROPUP)?0:a[0].offsetHeight,($.major<4||"static"===l)&&(s.top=t.top-i.top+n,s.left=t.left-i.left),s.width=a[0].offsetWidth,r.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(a(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(R.SHOW,!r.$button.hasClass(R.SHOW)).append(r.$menu))}),e(window).off("resize.bs.select."+this.selectId+" scroll"+O+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+O+"."+this.selectId,function(){r.$newElement.hasClass(R.SHOW)&&a(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var n=t.selectpicker.current.data[i+t.selectpicker.view.position0],r=n.option;r&&(!0!==e&&t.setDisabled(n.index,n.disabled),t.setSelected(n.index,r.selected))}},setSelected:function(e,t){var i,n,r=this.selectpicker.main.elements[e],o=this.selectpicker.main.data[e],a=void 0!==this.activeIndex,s=this.activeIndex===e,l=s||t&&!this.multiple&&!a;o.selected=t,n=r.firstChild,t&&(this.selectedIndex=e),r.classList.toggle("selected",t),l?(this.focusItem(r,o),this.selectpicker.view.currentActive=r,this.activeIndex=e):this.defocusItem(r),n&&(n.classList.toggle("selected",t),t?n.setAttribute("aria-selected",!0):this.multiple?n.setAttribute("aria-selected",!1):n.removeAttribute("aria-selected")),l||a||!t||void 0===this.prevActiveIndex||(i=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(i))},setDisabled:function(e,t){var i,n=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,i=n.firstChild,n.classList.toggle(R.DISABLED,t),i&&("4"===$.major&&i.classList.toggle(R.DISABLED,t),t?(i.setAttribute("aria-disabled",t),i.setAttribute("tabindex",-1)):(i.removeAttribute("aria-disabled"),i.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(R.DISABLED),this.$button.addClass(R.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(R.DISABLED)&&(this.$newElement[0].classList.remove(R.DISABLED),this.$button.removeClass(R.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function t(){n.options.liveSearch?n.$searchbox.trigger("focus"):n.$menuInner.trigger("focus")}function i(){n.dropdown&&n.dropdown._popper&&n.dropdown._popper.state.isCreated?t():requestAnimationFrame(i)}var n=this,a=e(document);a.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&a.data("spaceSelect")&&(e.preventDefault(),a.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){$.major>3&&!n.dropdown&&(n.dropdown=n.$button.data("bs.dropdown"),n.dropdown._menu=n.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){n.$newElement.hasClass(R.SHOW)||n.setSize()}),this.$element.on("shown.bs.select",function(){n.$menuInner[0].scrollTop!==n.selectpicker.view.scrollTop&&(n.$menuInner[0].scrollTop=n.selectpicker.view.scrollTop),$.major>3?requestAnimationFrame(i):t()}),this.$menuInner.on("mouseenter","li a",function(e){
var t=this.parentElement,i=n.isVirtual()?n.selectpicker.view.position0:0,r=Array.prototype.indexOf.call(t.parentElement.children,t),o=n.selectpicker.current.data[r+i];n.focusItem(t,o,!0)}),this.$menuInner.on("click","li a",function(t,i){var a=e(this),s=n.$element[0],l=n.isVirtual()?n.selectpicker.view.position0:0,c=n.selectpicker.current.data[a.parent().index()+l],u=c.index,d=o(s),p=s.selectedIndex,h=s.options[p],f=!0;if(n.multiple&&1!==n.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!n.isDisabled()&&!a.parent().hasClass(R.DISABLED)){var g=c.option,m=e(g),v=g.selected,y=m.parent("optgroup"),b=y.find("option"),w=n.options.maxOptions,_=y.data("maxOptions")||!1;if(u===n.activeIndex&&(i=!0),i||(n.prevActiveIndex=n.activeIndex,n.activeIndex=void 0),n.multiple){if(g.selected=!v,n.setSelected(u,!v),a.trigger("blur"),!1!==w||!1!==_){var S=w<r(s).length,C=_<y.find("option:selected").length;if(w&&S||_&&C)if(w&&1==w)s.selectedIndex=-1,g.selected=!0,n.setOptionStatus(!0);else if(_&&1==_){for(var k=0;k<b.length;k++){var T=b[k];T.selected=!1,n.setSelected(T.liIndex,!1)}g.selected=!0,n.setSelected(u,!0)}else{var D="string"==typeof n.options.maxOptionsText?[n.options.maxOptionsText,n.options.maxOptionsText]:n.options.maxOptionsText,A="function"==typeof D?D(w,_):D,E=A[0].replace("{n}",w),I=A[1].replace("{n}",_),$=e('<div class="notify"></div>');A[2]&&(E=E.replace("{var}",A[2][w>1?0:1]),I=I.replace("{var}",A[2][_>1?0:1])),g.selected=!1,n.$menu.append($),w&&S&&($.append(e("<div>"+E+"</div>")),f=!1,n.$element.trigger("maxReached.bs.select")),_&&C&&($.append(e("<div>"+I+"</div>")),f=!1,n.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){n.setSelected(u,!1)},10),$[0].classList.add("fadeOut"),setTimeout(function(){$.remove()},1050)}}}else h&&(h.selected=!1),g.selected=!0,n.setSelected(u,!0);!n.multiple||n.multiple&&1===n.options.maxOptions?n.$button.trigger("focus"):n.options.liveSearch&&n.$searchbox.trigger("focus"),f&&(n.multiple||p!==s.selectedIndex)&&(x=[g.index,m.prop("selected"),d],n.$element.triggerNative("change"))}}),this.$menu.on("click","li."+R.DISABLED+" a, ."+R.POPOVERHEADER+", ."+R.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),n.options.liveSearch&&!e(t.target).hasClass("close")?n.$searchbox.trigger("focus"):n.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),n.options.liveSearch?n.$searchbox.trigger("focus"):n.$button.trigger("focus")}),this.$menu.on("click","."+R.POPOVERHEADER+" .close",function(){n.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){n.options.liveSearch?n.$searchbox.trigger("focus"):n.$button.trigger("focus"),t.preventDefault(),t.stopPropagation(),e(this).hasClass("bs-select-all")?n.selectAll():n.deselectAll()}),this.$element.on("change.bs.select",function(){n.render(),n.$element.trigger("changed.bs.select",x),x=null}).on("focus.bs.select",function(){n.options.mobile||n.$button.trigger("focus")})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var i=e.$searchbox.val();if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],i){var n,r=[],o=i.toUpperCase(),s={},l=[],u=e._searchStyle(),d=e.options.liveSearchNormalize;d&&(o=c(o)),e._$lisSelected=e.$menuInner.find(".selected");for(var n=0;n<e.selectpicker.main.data.length;n++){var p=e.selectpicker.main.data[n];s[n]||(s[n]=a(p,o,u,d)),s[n]&&void 0!==p.headerIndex&&-1===l.indexOf(p.headerIndex)&&(p.headerIndex>0&&(s[p.headerIndex-1]=!0,l.push(p.headerIndex-1)),s[p.headerIndex]=!0,l.push(p.headerIndex),s[p.lastIndex+1]=!0),s[n]&&"optgroup-label"!==p.type&&l.push(n)}for(var n=0,h=l.length;n<h;n++){var f=l[n],g=l[n-1],p=e.selectpicker.main.data[f],m=e.selectpicker.main.data[g];("divider"!==p.type||"divider"===p.type&&m&&"divider"!==m.type&&h-1!==n)&&(e.selectpicker.search.data.push(p),r.push(e.selectpicker.main.elements[f]))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=r,e.createView(!0),r.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+A(i)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0!==e){var i=o(t);if(x=[null,null,i],this.$element.val(e).trigger("changed.bs.select",x),this.$newElement.hasClass(R.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var n=(t.options[t.selectedIndex]||{}).liIndex;"number"==typeof n&&(this.setSelected(this.selectedIndex,!1),this.setSelected(n,!0))}return this.render(),x=null,this.$element}return this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,n=0,r=o(t);t.classList.add("bs-select-hidden");for(var a=0,s=this.selectpicker.current.elements.length;a<s;a++){var l=this.selectpicker.current.data[a],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,c.selected=e,e&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),x=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var i,n,r,o,s,l=e(this),c=l.hasClass("dropdown-toggle"),u=c?l.closest(".dropdown"):l.closest(F.MENU),d=u.data("this"),p=d.findLis(),h=!1,f=t.which===I.TAB&&!c&&!d.options.selectOnTab,g=j.test(t.which)||f,m=d.$menuInner[0].scrollTop,v=d.isVirtual(),y=!0===v?d.selectpicker.view.position0:0;if(!(t.which>=112&&t.which<=123)){if(!(n=d.$newElement.hasClass(R.SHOW))&&(g||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105||t.which>=65&&t.which<=90)&&(d.$button.trigger("click.bs.dropdown.data-api"),d.options.liveSearch))return void d.$searchbox.trigger("focus");if(t.which===I.ESCAPE&&n&&(t.preventDefault(),d.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),g){if(!p.length)return;r=d.selectpicker.main.elements[d.activeIndex],i=r?Array.prototype.indexOf.call(r.parentElement.children,r):-1,-1!==i&&d.defocusItem(r),t.which===I.ARROW_UP?(-1!==i&&i--,i+y<0&&(i+=p.length),d.selectpicker.view.canHighlight[i+y]||-1===(i=d.selectpicker.view.canHighlight.slice(0,i+y).lastIndexOf(!0)-y)&&(i=p.length-1)):(t.which===I.ARROW_DOWN||f)&&(i++,i+y>=d.selectpicker.view.canHighlight.length&&(i=0),d.selectpicker.view.canHighlight[i+y]||(i=i+1+d.selectpicker.view.canHighlight.slice(i+y+1).indexOf(!0))),t.preventDefault();var b=y+i;t.which===I.ARROW_UP?0===y&&i===p.length-1?(d.$menuInner[0].scrollTop=d.$menuInner[0].scrollHeight,b=d.selectpicker.current.elements.length-1):(o=d.selectpicker.current.data[b],s=o.position-o.height,h=s<m):(t.which===I.ARROW_DOWN||f)&&(0===i?(d.$menuInner[0].scrollTop=0,b=0):(o=d.selectpicker.current.data[b],s=o.position-d.sizeInfo.menuInnerHeight,h=s>m)),r=d.selectpicker.current.elements[b],d.activeIndex=d.selectpicker.current.data[b].index,d.focusItem(r),d.selectpicker.view.currentActive=r,h&&(d.$menuInner[0].scrollTop=s),d.options.liveSearch?d.$searchbox.trigger("focus"):l.trigger("focus")}else if(!l.is("input")&&!M.test(t.which)||t.which===I.SPACE&&d.selectpicker.keydown.keyHistory){var w,_,x=[];t.preventDefault(),d.selectpicker.keydown.keyHistory+=E[t.which],d.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(d.selectpicker.keydown.resetKeyHistory.cancel),d.selectpicker.keydown.resetKeyHistory.cancel=d.selectpicker.keydown.resetKeyHistory.start(),_=d.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(_)&&(_=_.charAt(0));for(var S=0;S<d.selectpicker.current.data.length;S++){var C,k=d.selectpicker.current.data[S];C=a(k,_,"startsWith",!0),C&&d.selectpicker.view.canHighlight[S]&&x.push(k.index)}if(x.length){var T=0;p.removeClass("active").find("a").removeClass("active"),1===_.length&&(T=x.indexOf(d.activeIndex),-1===T||T===x.length-1?T=0:T++),w=x[T],o=d.selectpicker.main.data[w],m-o.position>0?(s=o.position-o.height,h=!0):(s=o.position-d.sizeInfo.menuInnerHeight,h=o.position>m+d.sizeInfo.menuInnerHeight),r=d.selectpicker.main.elements[w],d.activeIndex=x[T],d.focusItem(r),r&&r.firstChild.focus(),h&&(d.$menuInner[0].scrollTop=s),l.trigger("focus")}}n&&(t.which===I.SPACE&&!d.selectpicker.keydown.keyHistory||t.which===I.ENTER||t.which===I.TAB&&d.options.selectOnTab)&&(t.which!==I.SPACE&&t.preventDefault(),d.options.liveSearch&&t.which===I.SPACE||(d.$menuInner.find(".active a").trigger("click",!0),l.trigger("focus"),d.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(O).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(".bs.select."+this.selectId)}};var z=e.fn.selectpicker;e.fn.selectpicker=u,e.fn.selectpicker.Constructor=B,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=z,this},e(document).off("keydown.bs.dropdown.data-api",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select .dropdown-menu').on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',B.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);u.call(t,t.data())})})}(e)}),function(e,t){var i=function(i,n){var r,o,a=this;n=n||{},this.$element=e(i),this.options=e.extend(!0,{},e.fn.ajaxSelectPicker.defaults,n),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;var s=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(t){var i={};i.log=Boolean(a.options[t.from])?a.LOG_DEBUG:0,a.options=e.extend(!0,{},a.options,i),delete a.options[t.from],a.log(a.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',i)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];s.length&&e.map(s,function(t){if(a.options[t.from])if(e.isPlainObject(t.to))a.replaceValue(t.to,"{{{value}}}",a.options[t.from]),a.options=e.extend(!0,{},a.options,t.to),a.log(a.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',t.to),delete a.options[t.from];else if(e.isFunction(t.to))t.to.apply(a,[t]);else{var i={};i[t.to]=a.options[t.from],a.options=e.extend(!0,{},a.options,i),a.log(a.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',i),delete a.options[t.from]}});var l=this.$element.data();l.searchUrl&&(a.log(a.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+l.searchUrl+"\" '"),this.options.ajax.url=l.searchUrl);var c=function(e,t){return t.toLowerCase()},u=function(e,t,i){var n=[].concat(e),r=n.length,o=i||{};if(r){var a=n.shift();o[a]=u(n,t,o[a])}return r?o:t},d=Object.keys(l).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(d.length){var p={},h=["locale"];for(r=0,o=d.length;r<o;r++){var f=d[r].replace(/^abs([A-Z])/,c).replace(/([A-Z])/g,"-$1").toLowerCase(),g=f.split("-");if(g[0]&&g.length>1&&-1!==h.indexOf(g[0])){for(var m=[g.shift()],v="",y=0;y<g.length;y++)v+=0===y?g[y]:g[y].charAt(0).toUpperCase()+g[y].slice(1);m.push(v),g=m}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+f+'":',l[d[r]]),u(g,l[d[r]],p)}this.options=e.extend(!0,{},this.options,p),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",p,this.options)}if(this.selectpicker=l.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=e.extend(!0,{},e.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||t.navigator.userLanguage||t.navigator.language||"en",!this.locale[this.options.langCode]){var b=this.options.langCode;this.options.langCode="en";var w=b.split("-");for(r=0,o=w.length;r<o;r++){var _=w.join("-");if(_.length&&this.locale[_]){this.options.langCode=_;break}w.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+b+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=e.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new t.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){a.init()},500)};i.prototype.init=function(){var i,n=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(t){n.selectpicker.options.liveSearch?n.selectpicker.$searchbox.focus():n.selectpicker.$button.focus(),t.preventDefault(),t.stopPropagation(),e(this).is(".bs-select-all")?(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!0),e(n.selectpicker.$lis).not(".disabled").addClass("selected"),n.selectpicker.render()):(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!1),e(n.selectpicker.$lis).not(".disabled").removeClass("selected"),n.selectpicker.render()),n.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(r){var o=n.selectpicker.$searchbox.val();if(n.log(n.LOG_DEBUG,'Bind event fired: "'+n.options.bindEvent+'", keyCode:',r.keyCode,r),n.options.cache||(n.options.ignoredKeys[13]="enter"),n.options.ignoredKeys[r.keyCode])return void n.log(n.LOG_DEBUG,"Key ignored.");if(clearTimeout(i),o.length||(n.options.clearOnEmpty&&n.list.destroy(),n.options.emptyRequest)){if(o.length<n.options.minLength)return void n.list.setStatus(n.t("statusTooShort"));if(n.previousQuery=n.query,n.query=o,n.options.cache&&13!==r.keyCode){var a=n.list.cacheGet(n.query);if(a)return n.list.setStatus(a.length?"":n.t("statusNoResults")),n.list.replaceOptions(a),void n.log(n.LOG_INFO,"Rebuilt options from cached data.")}i=setTimeout(function(){n.lastRequest&&n.lastRequest.jqXHR&&e.isFunction(n.lastRequest.jqXHR.abort)&&n.lastRequest.jqXHR.abort(),n.request=new t.AjaxBootstrapSelectRequest(n),n.request.jqXHR.always(function(){n.lastRequest=n.request,n.request=!1})},n.options.requestDelay||300)}})},i.prototype.log=function(e,i){if(t.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case!1:case"error":this.options.log=this.LOG_ERROR}if(e<=this.options.log){var n=[].slice.apply(arguments,[2]);switch(e){case this.LOG_DEBUG:e="debug";break;case this.LOG_INFO:e="info";break;case this.LOG_WARNING:e="warn";break;default:case this.LOG_ERROR:e="error"}var r="["+e.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof i?n.unshift(r+" "+i):(n.unshift(i),n.unshift(r)),t.console[e].apply(t.console,n)}}},i.prototype.replaceValue=function(t,i,n,r){var o=this;r=e.extend({recursive:!0,depth:!1,limit:!1},r),e.each(t,function(a,s){if(!1!==r.limit&&"number"==typeof r.limit&&r.limit<=0)return!1;e.isArray(t[a])||e.isPlainObject(t[a])?(r.recursive&&!1===r.depth||r.recursive&&"number"==typeof r.depth&&r.depth>0)&&o.replaceValue(t[a],i,n,r):s===i&&(!1!==r.limit&&"number"==typeof r.limit&&r.limit--,t[a]=n)})},i.prototype.t=function(e,t){return t=t||this.options.langCode,this.locale[t]&&this.locale[t].hasOwnProperty(e)?this.locale[t][e]:(this.log(this.LOG_WARNING,"Unknown translation key:",e),e)},t.AjaxBootstrapSelect=t.AjaxBootstrapSelect||i;var n=function(t){var i=this;this.$status=e(t.options.templates.status).hide().appendTo(t.selectpicker.$menu);var n=t.t("statusInitialized");n&&n.length&&this.setStatus(n),this.cache={},this.plugin=t,this.selected=[],this.title=null,this.selectedTextFormat=t.selectpicker.options.selectedTextFormat;var r=[];t.$element.find("option").each(function(){var i=e(this),n=i.attr("value");r.push({value:n,text:i.text(),class:i.attr("class")||"",data:i.data()||{},preserved:t.options.preserveSelected,selected:!!i.attr("selected")})}),this.cacheSet("",r),t.options.preserveSelected&&(i.selected=r,t.$element.on("change.abs.preserveSelected",function(n){var r=t.$element.find(":selected");i.selected=[],t.selectpicker.multiple||(r=r.last()),r.each(function(){var t=e(this),n=t.attr("value");i.selected.push({value:n,text:t.text(),class:t.attr("class")||"",data:t.data()||{},preserved:!0,selected:!0})}),i.replaceOptions(i.cacheGet(i.plugin.query))}))};n.prototype.build=function(t){var i,n,r=t.length,o=e("<select/>"),a=e("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",t),n=0;n<r;n++){var s=t[n],l=e("<option/>").appendTo(s.preserved?a:o);if(s.hasOwnProperty("divider"))l.attr("data-divider","true");else{l.val(s.value).text(s.text).attr("title",s.text),s.class.length&&l.attr("class",s.class),s.disabled&&l.attr("disabled",!0),s.selected&&!this.plugin.selectpicker.multiple&&o.find(":selected").prop("selected",!1),s.selected&&l.attr("selected",!0);for(i in s.data)s.data.hasOwnProperty(i)&&l.attr("data-"+i,s.data[i])}}a.find("option").length&&a["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](o);var c=o.html();return this.plugin.log(this.plugin.LOG_DEBUG,c),c},n.prototype.cacheGet=function(e,t){var i=this.cache[e]||t;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",e,i),i},n.prototype.cacheSet=function(e,t){this.cache[e]=t,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",e,t)},n.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},n.prototype.refresh=function(e){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var t=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&t&&t.length?this.setTitle(t):(this.title||"static"!==this.selectedTextFormat&&this.selectedTextFormat!==this.plugin.selectpicker.options.selectedTextFormat)&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),e&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},n.prototype.replaceOptions=function(e){var t,i,n,r="",o=[],a=[],s=[];if(e=e||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),a=[].concat(this.selected,e),i=a.length,t=0;t<i;t++)n=a[t],n.hasOwnProperty("value")&&-1===s.indexOf(n.value+"")?(s.push(n.value+""),o.push(n)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");e=o}e.length&&(r=this.plugin.list.build(e)),this.plugin.$element.html(r),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",e)},n.prototype.restore=function(){var e=this.plugin.list.cacheGet(this.plugin.previousQuery);return e&&this.plugin.list.replaceOptions(e)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},n.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},n.prototype.setTitle=function(e){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",e))},n.prototype.setStatus=function(e){e=e||"",e.length?this.$status.html(e).show():this.$status.html("").hide()},t.AjaxBootstrapSelectList=t.AjaxBootstrapSelectList||n;var r=function(t){var i,n=this,r=["beforeSend","success","error","complete"],o=r.length;for(this.plugin=t,this.options=e.extend(!0,{},t.options.ajax),this.callbacks={},i=0;i<o;i++){var a=r[i];this.options[a]&&e.isFunction(this.options[a])&&(this.callbacks[a]=this.options[a]),this.options[a]=function(e){return function(){n.plugin.log(n.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+e+" callback:",arguments),n[e].apply(n,arguments),n.callbacks[e]&&(n.plugin.log(n.plugin.LOG_INFO,"Invoking ajax."+e+" callback:",arguments),n.callbacks[e].apply(n,arguments))}}(a)}this.options.data&&e.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.options.url&&e.isFunction(this.options.url)&&(this.options.url=this.options.url.apply(this)),this.jqXHR=e.ajax(this.options)};r.prototype.beforeSend=function(e){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},r.prototype.complete=function(e,t){if("abort"!==t){var i=this.plugin.list.cacheGet(this.plugin.query);if(i){if(!i.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},r.prototype.error=function(e,t,i){"abort"!==t&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError&&(this.plugin.list.restore(),this.plugin.list.setStatus()))},r.prototype.process=function(t){var i,n,r,o,a,s,l=[],c=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,t),a=t,e.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),void 0!==(r=this.plugin.options.preprocessData.apply(this,[a]))&&null!==r&&!1!==r&&(a=r)),!e.isArray(a))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',a),!1;for(n=a.length,i=0;i<n;i++)o=a[i],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",o),e.isPlainObject(o)&&(o.hasOwnProperty("divider")||o.hasOwnProperty("data")&&e.isPlainObject(o.data)&&o.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),l.push({divider:!0})):o.hasOwnProperty("value")?-1===c.indexOf(o.value+"")?(c.push(o.value+""),o=e.extend({text:o.value,class:"",data:{},disabled:!1,selected:!1},o),l.push(o)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(s=[].concat(l),e.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),void 0!==(r=this.plugin.options.processData.apply(this,[s]))&&null!==r&&!1!==r)){if(!e.isArray(r))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",r),!1;s=r}return this.plugin.list.cacheSet(this.plugin.query,s),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",s),s},r.prototype.success=function(t,i,n){if(!e.isArray(t)&&!e.isPlainObject(t))return this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",t),void this.plugin.list.destroy();var r=this.process(t);this.plugin.list.replaceOptions(r)},t.AjaxBootstrapSelectRequest=t.AjaxBootstrapSelectRequest||r,e.fn.ajaxSelectPicker=function(i){return this.each(function(){e(this).data("AjaxBootstrapSelect")||e(this).data("AjaxBootstrapSelect",new t.AjaxBootstrapSelect(this,i))})},e.fn.ajaxSelectPicker.locale={},e.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},minLength:0,bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="status"></div>'}},e.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching...",statusTooShort:"Please enter more characters"},e.fn.ajaxSelectPicker.locale.en=e.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.fileinputLocales={},e.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,i,n=this.toString();for(t in e)e.hasOwnProperty(t)&&(i=new RegExp("{"+t+"}","g"),n=n.replace(i,e[t]));return n};var t,i;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,now:function(){return new Date},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},getFileName:function(e){return e?e.fileName||e.name||"":""},createObjectURL:function(e){return t.objUrl&&t.objUrl.createObjectURL&&e?t.objUrl.createObjectURL(e):""},revokeObjectURL:function(e){t.objUrl&&t.objUrl.revokeObjectURL&&e&&t.objUrl.revokeObjectURL(e)},compare:function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},isIE:function(e){var t,i;return"Microsoft Internet Explorer"===navigator.appName&&(10===e?new RegExp("msie\\s"+e,"i").test(navigator.userAgent):(t=document.createElement("div"),t.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i))},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",e.files=null,!0}catch(e){return!1}},getDragDropFolders:function(e){var t,i,n=e?e.length:0,r=0;if(n>0&&e[0].webkitGetAsEntry())for(t=0;t<n;t++)(i=e[t].webkitGetAsEntry())&&i.isDirectory&&r++;return r},initModal:function(t){var i=e("body");i.length&&t.appendTo(i)},isEmpty:function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return void 0!==e&&null!==e})},spliceArray:function(t,i,n){var r,o,a=0,s=[];if(!(t instanceof Array))return[];for(o=e.extend(!0,[],t),n&&o.reverse(),r=0;r<o.length;r++)r!==i&&(s[a]=o[r],a++);return n&&s.reverse(),s},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},dataURI2Blob:function(e){var i,n,r,o,a,s,l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,c=t.hasBlobSupport();if(!((c||l)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return null;for(i=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o+=1)r[o]=i.charCodeAt(o);return a=e.split(",")[0].split(":")[1].split(";")[0],c?new Blob([t.hasArrayBufferViewSupport()?r:n],{type:a}):(s=new l,s.append(n),s.getBlob(a))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,i,n,r,o=Array.prototype.slice.apply(new Uint8Array(e)),a="",s=0;for(t=o.length;s<t;)switch((i=o[s++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:n=o[s++],a+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=o[s++],r=o[s++],a+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&r)<<0)}return a},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,n=i.length;n--;)if(1===i[n].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,i){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip"
;case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":i}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(i,n,r){return t.isEmpty(i)||t.isEmpty(i[n])?r:e(i[n])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e,t){return void 0===e?t||null:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var n=t;return i?(e.each(i,function(e,t){"function"==typeof t&&(t=t()),n=n.split(e).join(t)}),n):n},cleanMemory:function(e){var i=e.is("img")?e.attr("src"):e.find("source").attr("src");t.revokeObjectURL(i)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var i=document,n=i.documentElement;n&&e&&!t.checkFullScreen()?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()},moveArray:function(t,i,n,r){var o=e.extend(!0,[],t);if(r&&o.reverse(),n>=o.length)for(var a=n-o.length;1+a--;)o.push(void 0);return o.splice(n,0,o.splice(i,1)[0]),r&&o.reverse(),o},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'},getRotation:function(e){switch(e){case 2:return"rotateY(180deg)";case 3:return"rotate(180deg)";case 4:return"rotate(180deg) rotateY(180deg)";case 5:return"rotate(270deg) rotateY(180deg)";case 6:return"rotate(90deg)";case 7:return"rotate(90deg) rotateY(180deg)";case 8:return"rotate(270deg)";default:return""}},setTransform:function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t,e.style["-moz-transform"]=t,e.style["-ms-transform"]=t,e.style["-o-transform"]=t)},setImageOrientation:function(e,i,n){if(e&&e.length){var r="load.fileinputimageorient";e.off(r).on(r,function(){var r=e.get(0),o=i&&i.length?i.get(0):null,a=r.offsetHeight,s=r.offsetWidth,l=t.getRotation(n);if(e.data("orientation",n),o&&i.data("orientation",n),n<5)return t.setTransform(r,l),void t.setTransform(o,l);var c=Math.atan(s/a),u=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),d=u?a/Math.cos(Math.PI/2+c)/u:1,p=" scale("+Math.abs(d)+")";t.setTransform(r,l+p),t.setTransform(o,l+p)})}}},i=function(i,n){var r=this;r.$element=e(i),r.$parent=r.$element.parent(),r._validate()&&(r.isPreviewable=t.hasFileAPISupport(),r.isIE9=t.isIE(9),r.isIE10=t.isIE(10),(r.isPreviewable||r.isIE9)&&(r._init(n),r._listen()),r.$element.removeClass("file-loading"))},i.prototype={constructor:i,_cleanup:function(){var e=this;e.reader=null,e.formdata={},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.ajaxRequests=[],e.clearStack(),e.fileBatchCompleted=!0,e.isPreviewable||(e.showPreview=!1),e.isError=!1,e.ajaxAborted=!1,e.cancelling=!1},_init:function(i,n){var r,o,a,s,l=this,c=l.$element;l.options=i,e.each(i,function(e,i){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":l[e]=t.getNum(i);break;default:l[e]=i}}),l.rtl&&(s=l.previewZoomButtonIcons.prev,l.previewZoomButtonIcons.prev=l.previewZoomButtonIcons.next,l.previewZoomButtonIcons.next=s),n||l._cleanup(),l.$form=c.closest("form"),l._initTemplateDefaults(),l.uploadFileAttr=t.isEmpty(c.attr("name"))?"file_data":c.attr("name"),a=l._getLayoutTemplate("progress"),l.progressTemplate=a.replace("{class}",l.progressClass),l.progressCompleteTemplate=a.replace("{class}",l.progressCompleteClass),l.progressErrorTemplate=a.replace("{class}",l.progressErrorClass),l.isDisabled=c.attr("disabled")||c.attr("readonly"),l.isDisabled&&c.attr("disabled",!0),l.isClickable=l.browseOnZoneClick&&l.showPreview&&(l.dropZoneEnabled||!t.isEmpty(l.defaultPreviewContent)),l.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(l.uploadUrl),l.dropZoneEnabled=t.hasDragDropSupport()&&l.dropZoneEnabled,l.isAjaxUpload||(l.dropZoneEnabled=l.dropZoneEnabled&&t.canAssignFilesToInput()),l.slug="function"==typeof i.slugCallback?i.slugCallback:l._slugDefault,l.mainTemplate=l.showCaption?l._getLayoutTemplate("main1"):l._getLayoutTemplate("main2"),l.captionTemplate=l._getLayoutTemplate("caption"),l.previewGenericTemplate=l._getPreviewTemplate("generic"),!l.imageCanvas&&l.resizeImage&&(l.maxImageWidth||l.maxImageHeight)&&(l.imageCanvas=document.createElement("canvas"),l.imageCanvasContext=l.imageCanvas.getContext("2d")),t.isEmpty(c.attr("id"))&&c.attr("id",t.uniqId()),l.namespace=".fileinput_"+c.attr("id").replace(/-/g,"_"),void 0===l.$container?l.$container=l._createContainer():l._refreshContainer(),o=l.$container,l.$dropZone=o.find(".file-drop-zone"),l.$progress=o.find(".kv-upload-progress"),l.$btnUpload=o.find(".fileinput-upload"),l.$captionContainer=t.getElement(i,"elCaptionContainer",o.find(".file-caption")),l.$caption=t.getElement(i,"elCaptionText",o.find(".file-caption-name")),t.isEmpty(l.msgPlaceholder)||(r=c.attr("multiple")?l.filePlural:l.fileSingle,l.$caption.attr("placeholder",l.msgPlaceholder.replace("{files}",r))),l.$captionIcon=l.$captionContainer.find(".file-caption-icon"),l.$previewContainer=t.getElement(i,"elPreviewContainer",o.find(".file-preview")),l.$preview=t.getElement(i,"elPreviewImage",o.find(".file-preview-thumbnails")),l.$previewStatus=t.getElement(i,"elPreviewStatus",o.find(".file-preview-status")),l.$errorContainer=t.getElement(i,"elErrorContainer",l.$previewContainer.find(".kv-fileinput-error")),l._validateDisabled(),t.isEmpty(l.msgErrorClass)||t.addCss(l.$errorContainer,l.msgErrorClass),n?l._errorsExist()||l.$errorContainer.hide():(l.$errorContainer.hide(),l.previewInitId="preview-"+t.uniqId(),l._initPreviewCache(),l._initPreview(!0),l._initPreviewActions(),l.$parent.hasClass("file-loading")&&(l.$container.insertBefore(l.$parent),l.$parent.remove())),l._setFileDropZoneTitle(),c.attr("disabled")&&l.disable(),l._initZoom(),l.hideThumbnailContent&&t.addCss(l.$preview,"hide-content")},_initTemplateDefaults:function(){var i,n,r,o,a,s,l,c,u,d,p,h,f,g,m,v,y,b,w,_,x,S,C,k,T,D,A,E,I,$,P,O,R,F,L,j,M,N,B,z,U=this;i='{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {upload}\n      {browse}\n    </div>\n</div>',n='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',r='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',a=t.closeButton("fileinput-remove"),o='<i class="glyphicon glyphicon-file"></i>',s='<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',l='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',c='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',u='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',d='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',p='<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',h='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',f=" <samp>({sizeText})</samp>",g='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',m='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',v='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',y='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',b='<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',w='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',_='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',x='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',S='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}"',C=S+'><div class="kv-file-content">\n',k=S+' title="{caption}"><div class="kv-file-content">\n',T="</div>{footer}\n</div>\n",D="{content}\n",N=" {style}",A='<div class="kv-preview-data file-preview-html" title="{caption}"'+N+">{data}</div>\n",E='<img src="{data}" class="file-preview-image kv-preview-data" title="{title}" alt="{alt}"'+N+">\n",I='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly'+N+">{data}</textarea>\n",$='<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}"'+N+"></iframe>",P='<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true"'+N+"></iframe>",O='<video class="kv-preview-data file-preview-video" controls'+N+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",R='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls'+N+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n",F='<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash"'+N+">\n",j='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+N+">\n",L='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+N+'>\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",M='<div class="kv-preview-data file-preview-other-frame"'+N+">\n"+t.DEFAULT_PREVIEW+"\n</div>\n",B='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>',z={width:"100%",height:"100%","min-height":"480px"},U._isPdfRendered()&&(j=U.pdfRendererTemplate.replace("{renderer}",U._encodeURI(U.pdfRendererUrl))),U.defaults={layoutTemplates:{main1:i,main2:n,preview:r,close:a,fileIcon:o,caption:s,modalMain:d,modal:p,progress:h,size:f,footer:g,indicator:x,actions:m,actionDelete:v,actionUpload:y,actionDownload:b,actionZoom:w,actionDrag:_,btnDefault:l,btnLink:c,btnBrowse:u,zoomCache:B},previewMarkupTags:{tagBefore1:C,tagBefore2:k,tagAfter:T},previewContentTemplates:{generic:D,html:A,image:E,text:I,office:$,gdocs:P,video:O,audio:R,flash:F,object:L,pdf:j,other:M},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:z,text:z,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:z,other:{width:"auto",height:"100%","min-height":"480px"}},mimeTypeAliases:{"video/quicktime":"video/mp4"},fileTypeSettings:{image:function(e,i){return t.compare(e,"image.*")&&!t.compare(e,/(tiff?|wmf)$/i)||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(e,i){return t.compare(e,"text/html")||t.compare(i,/\.(htm|html)$/i)},office:function(e,i){return t.compare(e,/(word|excel|powerpoint|office)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,i){return t.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,i){return t.compare(e,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,i){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,i){return t.compare(e,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,i){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(i,/\.(swf)$/i)},pdf:function(e,i){return t.compare(e,"application/pdf",!0)||t.compare(i,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}},e.each(U.defaults,function(t,i){if("allowedPreviewTypes"===t)return void(void 0===U.allowedPreviewTypes&&(U.allowedPreviewTypes=i));U[t]=e.extend(!0,{},i,U[t])}),U._initPreviewTemplates()},_initPreviewTemplates:function(){var i,n=this,r=n.previewMarkupTags,o=r.tagAfter;e.each(n.previewContentTemplates,function(e,a){t.isEmpty(n.previewTemplates[e])&&(i=r.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(i=r.tagBefore1),n._isPdfRendered()&&"pdf"===e&&(i=i.replace("kv-file-content","kv-file-content kv-pdf-rendered")),n.previewTemplates[e]=i+a+o)})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var e=i.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(i.initialPreviewDelimiter)),i.previewCache.data={content:e,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},count:function(){return i.previewCache.data&&i.previewCache.data.content?i.previewCache.data.content.length:0},get:function(n,r){var o,a,s,l,c,u,d,p="init_"+n,h=i.previewCache.data,f=h.config[n],g=h.content[n],m=i.previewInitId+"-"+p,v=t.ifSet("previewAsData",f,i.initialPreviewAsData),y=f?{title:f.title||null,alt:f.alt||null}:{title:null,alt:null},b=function(e,n,r,o,a,s,l,c,u){return c=" file-preview-initial "+t.SORT_CSS+(c?" "+c:""),i._generatePreviewTemplate(e,n,r,o,a,!1,null,c,s,l,u,y)};return g?(r=void 0===r||r,s=t.ifSet("type",f,i.initialPreviewFileType||"generic"),c=t.ifSet("filename",f,t.ifSet("caption",f)),u=t.ifSet("filetype",f,s),l=i.previewCache.footer(n,r,f&&f.size||null),d=t.ifSet("frameClass",f),o=v?b(s,g,c,u,m,l,p,d):b("generic",g,c,u,m,l,p,d,s).setTokens({content:h.content[n]}),h.tags.length&&h.tags[n]&&(o=t.replaceTags(o,h.tags[n])),t.isEmpty(f)||t.isEmpty(f.frameAttr)||(a=e(document.createElement("div")).html(o),a.find(".file-preview-initial").attr(f.frameAttr),o=a.html(),a.remove()),o):""},add:function(e,n,r,o){var a,s=i.previewCache.data;return t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),o?(a=s.content.push(e)-1,s.config[a]=n,s.tags[a]=r):(a=e.length-1,s.content=e,s.config=n,s.tags=r),i.previewCache.data=s,a},set:function(e,n,r,o){var a,s,l=i.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),s=e.filter(function(e){return null!==e}),s.length)){if(void 0===l.content&&(l.content=[]),void 0===l.config&&(l.config=[]),void 0===l.tags&&(l.tags=[]),o){for(a=0;a<e.length;a++)e[a]&&l.content.push(e[a]);for(a=0;a<n.length;a++)n[a]&&l.config.push(n[a]);for(a=0;a<r.length;a++)r[a]&&l.tags.push(r[a])}else l.content=e,l.config=n,l.tags=r;i.previewCache.data=l}},unset:function(e){var n=i.previewCache.count(),r=i.reversePreviewOrder;if(n){if(1===n)return i.previewCache.data.content=[],i.previewCache.data.config=[],i.previewCache.data.tags=[],i.initialPreview=[],i.initialPreviewConfig=[],void(i.initialPreviewThumbTags=[]);i.previewCache.data.content=t.spliceArray(i.previewCache.data.content,e,r),i.previewCache.data.config=t.spliceArray(i.previewCache.data.config,e,r),i.previewCache.data.tags=t.spliceArray(i.previewCache.data.tags,e,r)}},out:function(){var e,t,n,r="",o=i.previewCache.count();if(0===o)return{content:"",caption:""};for(t=0;t<o;t++)n=i.previewCache.get(t),r=i.reversePreviewOrder?n+r:r+n;return e=i._getMsgSelected(o),{content:r,caption:e}},footer:function(e,n,r){var o=i.previewCache.data||{};if(t.isEmpty(o.content))return"";(t.isEmpty(o.config)||t.isEmpty(o.config[e]))&&(o.config[e]={}),n=void 0===n||n;var a,s=o.config[e],l=t.ifSet("caption",s),c=t.ifSet("width",s,"auto"),u=t.ifSet("url",s,!1),d=t.ifSet("key",s,null),p=i.fileActionSettings,h=i.initialPreviewShowDelete||!1,f=s.downloadUrl||i.initialPreviewDownloadUrl||"",g=s.filename||s.caption||"",m=!!f,v=t.ifSet("showRemove",s,t.ifSet("showRemove",p,h)),y=t.ifSet("showDownload",s,t.ifSet("showDownload",p,m)),b=t.ifSet("showZoom",s,t.ifSet("showZoom",p,!0)),w=t.ifSet("showDrag",s,t.ifSet("showDrag",p,!0)),_=!1===u&&n;return y=y&&!1!==s.downloadUrl&&!!f,a=i._renderFileActions(!1,y,v,b,w,_,u,d,!0,f,g),i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:a,caption:l,size:i._getSize(r),width:c,indicator:""})}},i.previewCache.init()},_isPdfRendered:function(){var e=this,t=e.usePdfRenderer;return("function"==typeof t?t():!!t)&&e.pdfRendererUrl},_handler:function(e,t,i){var n=this,r=n.namespace,o=t.split(" ").join(r+" ")+r;e&&e.length&&e.off(o).on(o,i)},_encodeURI:function(e){return this.encodeUrl?encodeURI(e):e},_log:function(e){var t=this,i=t.$element.attr("id");i&&(e='"'+i+'": '+e),e="bootstrap-fileinput: "+e,void 0!==window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e=this,t="file"===e.$element.attr("type");return t||e._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),t},_errorsExist:function(){var t,i=this;return!!i.$errorContainer.find("li").length||(t=e(document.createElement("div")).html(i.$errorContainer.html()),t.find(".kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var i=this,n=e.target.error,r=function(e){i._showError(e.replace("{name}",t))};r(n.code===n.NOT_FOUND_ERR?i.msgFileNotFound:n.code===n.SECURITY_ERR?i.msgFileSecured:n.code===n.NOT_READABLE_ERR?i.msgFileNotReadable:n.code===n.ABORT_ERR?i.msgFilePreviewAborted:i.msgFilePreviewError)},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),t._handler(i.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),i.fadeOut("slow")},10)}))},_setValidationError:function(e){var i=this;e=(e?e+" ":"")+"has-error",i.$container.removeClass(e).addClass("has-error"),t.addCss(i.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),t.$captionContainer.removeClass("is-invalid"),i.html(""),e?i.fadeOut("slow"):i.hide()},_showFolderError:function(e){var t,i=this,n=i.$errorContainer;e&&(i.isAjaxUpload||i._clearFileInput(),t=i.msgFoldersNotAllowed.replace("{n}",e),i._addError(t),i._setValidationError(),n.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var n=this,r=n.$errorContainer,o=i||"fileuploaderror",a=t&&t.id?'<li data-thumb-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===r.find("ul").length?n._addError("<ul>"+a+"</ul>"):r.find("ul").append(a),r.fadeIn(800),n._raise(o,[t,e]),n._setValidationError("file-input-new"),!0},_showError:function(e,t,i){var n=this,r=n.$errorContainer,o=i||"fileerror";return t=t||{},t.reader=n.reader,n._addError(e),r.fadeIn(800),n._raise(o,[t,e]),n.isAjaxUpload||n._clearFileInput(),n._setValidationError("file-input-new"),n.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=t.minFileCount>1?t.filePlural:t.fileSingle,n=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),r=t.$errorContainer;t._addError(n),t.isError=!0,t._updateFileDetails(0),r.fadeIn(800),t._raise("fileerror",[e,n]),t._clearFileInput(),t._setValidationError()},_parseError:function(t,i,n,r){var o,a=this,s=e.trim(n+""),l=void 0!==i.responseJSON&&void 0!==i.responseJSON.error?i.responseJSON.error:i.responseText;return a.cancelling&&a.msgUploadAborted&&(s=a.msgUploadAborted),a.showAjaxErrorDetails&&l&&(l=e.trim(l.replace(/\n\s*\n/g,"\n")),o=l.length?"<pre>"+l+"</pre>":"",s+=s?o:l),s||(s=a.msgAjaxError.replace("{operation}",t)),a.cancelling=!1,r?"<b>"+r+": </b>"+s:s},_parseFileType:function(e,i){var n,r,o,a,s=this,l=s.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(a=0;a<l.length;a++)if(o=l[a],n=s.fileTypeSettings[o],r=n(e,i)?o:"",!t.isEmpty(r))return r;return"other"},_getPreviewIcon:function(t){var i,n=this,r=null;return t&&t.indexOf(".")>-1&&(i=t.split(".").pop(),n.previewFileIconSettings&&(r=n.previewFileIconSettings[i]||n.previewFileIconSettings[i.toLowerCase()]||null),n.previewFileExtSettings&&e.each(n.previewFileExtSettings,function(e,t){if(n.previewFileIconSettings[e]&&t(i))return void(r=n.previewFileIconSettings[e])})),r},_parseFilePreviewIcon:function(e,t){var i=this,n=i._getPreviewIcon(t)||i.previewFileIcon,r=e;return r.indexOf("{previewFileIcon}")>-1&&(r=r.setTokens({previewFileIconClass:i.previewFileIconClass,previewFileIcon:n})),r},_raise:function(t,i){var n=this,r=e.Event(t);if(void 0!==i?n.$element.trigger(r,i):n.$element.trigger(r),r.isDefaultPrevented()||!1===r.result)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:n.ajaxAborted||(n.ajaxAborted=r.result)}return!0},_listenFullScreen:function(e){var t,i,n=this,r=n.$modal;r&&r.length&&(t=r&&r.find(".btn-fullscreen"),i=r&&r.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),r.hasClass("file-zoom-fullscreen")?n._maximizeZoomDialog():e?n._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var i,n=this,r=n.$element,o=n.$form,a=n.$container;n._handler(r,"click",function(e){r.hasClass("file-no-browse")&&(r.data("zoneClicked")?r.data("zoneClicked",!1):e.preventDefault())}),n._handler(r,"change",e.proxy(n._change,n)),n.showBrowse&&n._handler(n.$btnFile,"click",e.proxy(n._browse,n)),n._handler(a.find(".fileinput-remove:not([disabled])"),"click",e.proxy(n.clear,n)),n._handler(a.find(".fileinput-cancel"),"click",e.proxy(n.cancel,n)),n._initDragDrop(),n._handler(o,"reset",e.proxy(n.clear,n)),n.isAjaxUpload||n._handler(o,"submit",e.proxy(n._submitForm,n)),n._handler(n.$container.find(".fileinput-upload"),"click",e.proxy(n._uploadClick,n)),n._handler(e(window),"resize",function(){n._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),i="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",n._handler(e(document),i,function(){n._listenFullScreen(t.checkFullScreen())}),n._autoFitContent(),n._initClickable(),n._refreshPreview()},_autoFitContent:function(){var t,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=this,r=i<400?n.previewSettingsSmall||n.defaults.previewSettingsSmall:n.previewSettings||n.defaults.previewSettings;e.each(r,function(e,i){t=".file-preview-frame .file-preview-"+e,n.$preview.find(t+".kv-preview-data,"+t+" .kv-preview-data").css(i)})},_scanDroppedItems:function(e,t,i){i=i||"";var n,r,o,a=this,s=function(e){a._log("Error scanning dropped files!"),a._log(e)};e.isFile?e.file(function(e){t.push(e)},s):e.isDirectory&&(r=e.createReader(),(o=function(){r.readEntries(function(r){if(r&&r.length>0){for(n=0;n<r.length;n++)a._scanDroppedItems(r[n],t,i+e.name+"/");o()}return null},s)})())},_initDragDrop:function(){var t=this,i=t.$dropZone;t.dropZoneEnabled&&t.showPreview&&(t._handler(i,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),t._handler(i,"dragleave",e.proxy(t._zoneDragLeave,t)),t._handler(i,"drop",e.proxy(t._zoneDrop,t)),t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(i){var n=this,r=i.originalEvent.dataTransfer,o=e.inArray("Files",r.types)>-1;if(n._zoneDragDropInit(i),n.isDisabled||!o)return i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none");n._raise("fileDragEnter",{sourceEvent:i,files:r.types.Files})&&t.addCss(n.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e),t.isDisabled||t._raise("fileDragLeave",{sourceEvent:e})&&t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var i,n=this,r=n.$element,o=e.originalEvent.dataTransfer,a=o.files,s=o.items,l=t.getDragDropFolders(s),c=function(){n.isAjaxUpload?n._change(e,a):(n.changeTriggered=!0,r.get(0).files=a,setTimeout(function(){n.changeTriggered=!1,r.trigger("change"+n.namespace)},10)),n.$dropZone.removeClass("file-highlighted")};if(e.preventDefault(),!n.isDisabled&&!t.isEmpty(a)&&n._raise("fileDragDrop",{sourceEvent:e,files:a}))if(l>0){if(!n.isAjaxUpload)return void n._showFolderError(l);for(a=[],i=0;i<s.length;i++){var u=s[i].webkitGetAsEntry();u&&n._scanDroppedItems(u,a)}setTimeout(function(){c()},500)}else c()},_uploadClick:function(e){var i,n=this,r=n.$container.find(".fileinput-upload"),o=!r.hasClass("disabled")&&t.isEmpty(r.attr("disabled"));if(!e||!e.isDefaultPrevented()){if(!n.isAjaxUpload)return void(o&&"submit"!==r.attr("type")&&(i=r.closest("form"),i.length&&i.trigger("submit"),e.preventDefault()));e.preventDefault(),o&&n.upload()}},_submitForm:function(){var e=this;return e._isFileSelectionValid()&&!e._abort({})},_clearPreview:function(){var i=this,n=i.$preview;(i.showUploadedThumbs?i.getFrames(":not(.file-preview-success)"):i.getFrames()).each(function(){var i=e(this);i.remove(),t.cleanZoomCache(n.find("#zoom-"+i.attr("id")))}),i.getFrames().length&&i.showPreview||i._resetUpload(),i._validateDefaultPreview()},_initSortable:function(){var i,n=this,r=n.$preview,o="."+t.SORT_CSS,a=n.reversePreviewOrder;window.KvSortable&&0!==r.find(o).length&&(i={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:o,onSort:function(i){var r=i.oldIndex,o=i.newIndex,s=0;n.initialPreview=t.moveArray(n.initialPreview,r,o,a),n.initialPreviewConfig=t.moveArray(n.initialPreviewConfig,r,o,a),n.previewCache.init(),n.getFrames(".file-preview-initial").each(function(){e(this).attr("data-fileindex","init_"+s),s++}),n._raise("filesorted",{previewId:e(i.item).attr("id"),oldIndex:r,newIndex:o,stack:n.initialPreviewConfig})}},r.data("kvsortable")&&r.kvsortable("destroy"),e.extend(!0,i,n.fileActionSettings.dragSettings),r.kvsortable(i))},_setPreviewContent:function(e){var t=this;t.$preview.html(e),t._autoFitContent()},_initPreview:function(e){var i,n=this,r=n.initialCaption||"";if(!n.previewCache.count())return n._clearPreview(),void(e?n._setCaption(r):n._initCaption());i=n.previewCache.out(),r=e&&n.initialCaption?n.initialCaption:i.caption,n._setPreviewContent(i.content),n._setInitThumbAttr(),n._setCaption(r),n._initSortable(),t.isEmpty(i.content)||n.$container.removeClass("file-input-new")},_getZoomButton:function(e){var t=this,i=t.previewZoomButtonIcons[e],n=t.previewZoomButtonClasses[e],r=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',o=r+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(o+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+n+" btn-"+e+'"'+o+">"+i+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),
close:e._getZoomButton("close")})},_listenModalEvent:function(e){var i=this,n=i.$modal,r=function(e){return{sourceEvent:e,previewId:n.data("previewId"),modal:n}};n.on(e+".bs.modal",function(o){var a=n.find(".btn-fullscreen"),s=n.find(".btn-borderless");i._raise("filezoom"+e,r(o)),"shown"===e&&(s.removeClass("active").attr("aria-pressed","false"),a.removeClass("active").attr("aria-pressed","false"),n.hasClass("file-zoom-fullscreen")&&(i._maximizeZoomDialog(),t.checkFullScreen()?a.addClass("active").attr("aria-pressed","true"):s.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var i,n=this,r=n._getLayoutTemplate("modalMain"),o="#"+t.MODAL_ID;n.showPreview&&(n.$modal=e(o),n.$modal&&n.$modal.length||(i=e(document.createElement("div")).html(r).insertAfter(n.$container),n.$modal=e(o).insertBefore(i),i.remove()),t.initModal(n.$modal),n.$modal.html(n._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){n._listenModalEvent(t)}))},_initZoomButtons:function(){var t,i,n=this,r=n.$modal.data("previewId")||"",o=n.getFrames().toArray(),a=o.length,s=n.$modal.find(".btn-prev"),l=n.$modal.find(".btn-next");if(o.length<2)return s.hide(),void l.hide();s.show(),l.show(),a&&(t=e(o[0]),i=e(o[a-1]),s.removeAttr("disabled"),l.removeAttr("disabled"),t.length&&t.attr("id")===r&&s.attr("disabled",!0),i.length&&i.attr("id")===r&&l.attr("disabled",!0))},_maximizeZoomDialog:function(){var t=this,i=t.$modal,n=i.find(".modal-header:visible"),r=i.find(".modal-footer:visible"),o=i.find(".modal-body"),a=e(window).height(),s=0;i.addClass("file-zoom-fullscreen"),n&&n.length&&(a-=n.outerHeight(!0)),r&&r.length&&(a-=r.outerHeight(!0)),o&&o.length&&(s=o.outerHeight(!0)-o.height(),a-=s),i.find(".kv-zoom-body").height(a)},_resizeZoomDialog:function(e){var i=this,n=i.$modal,r=n.find(".btn-fullscreen"),o=n.find(".btn-borderless");if(n.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?r.hasClass("active")||(n.removeClass("file-zoom-fullscreen"),i._resizeZoomDialog(!0),o.hasClass("active")&&o.removeClass("active").attr("aria-pressed","false")):r.hasClass("active")?r.removeClass("active").attr("aria-pressed","false"):(n.removeClass("file-zoom-fullscreen"),i.$modal.find(".kv-zoom-body").css("height",i.zoomModalHeight));else{if(!e)return void i._maximizeZoomDialog();t.toggleFullScreen(!0)}n.focus()},_setZoomContent:function(i,n){var r,o,a,s,l,c,u,d,p,h,f=this,g=i.attr("id"),m=f.$preview.find("#zoom-"+g),v=f.$modal,y=v.find(".btn-fullscreen"),b=v.find(".btn-borderless"),w=v.find(".btn-toggleheader");o=m.attr("data-template")||"generic",r=m.find(".kv-file-content"),a=r.length?r.html():"",p=i.data("caption")||"",h=i.data("size")||"",s=p+" "+h,v.find(".kv-zoom-title").attr("title",e("<div/>").html(s).text()).html(s),l=v.find(".kv-zoom-body"),v.removeClass("kv-single-content"),n?(d=l.addClass("file-thumb-loading").clone().insertAfter(l),l.html(a).hide(),d.fadeOut("fast",function(){l.fadeIn("fast",function(){l.removeClass("file-thumb-loading")}),d.remove()})):l.html(a),u=f.previewZoomSettings[o],u&&(c=l.find(".kv-preview-data"),t.addCss(c,"file-zoom-detail"),e.each(u,function(e,t){c.css(e,t),(c.attr("width")&&"width"===e||c.attr("height")&&"height"===e)&&c.removeAttr(e)})),v.data("previewId",g),f._handler(v.find(".btn-prev"),"click",function(){f._zoomSlideShow("prev",g)}),f._handler(v.find(".btn-next"),"click",function(){f._zoomSlideShow("next",g)}),f._handler(y,"click",function(){f._resizeZoomDialog(!0)}),f._handler(b,"click",function(){f._resizeZoomDialog(!1)}),f._handler(w,"click",function(){var e,t=v.find(".modal-header"),i=v.find(".modal-body .floating-buttons"),n=t.find(".kv-zoom-actions"),r=function(e){var i=f.$modal.find(".kv-zoom-body"),n=f.zoomModalHeight;v.hasClass("file-zoom-fullscreen")&&(n=i.outerHeight(!0),e||(n-=t.outerHeight(!0))),i.css("height",e?n+e:n)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){n.find(".btn").appendTo(i),r(e)})):(i.find(".btn").appendTo(n),t.slideDown("slow",function(){r()})),v.focus()}),f._handler(v,"keydown",function(t){var i=t.which||t.keyCode,n=e(this).find(".btn-prev"),r=e(this).find(".btn-next"),o=e(this).data("previewId"),a=f.rtl?39:37,s=f.rtl?37:39;i===a&&n.length&&!n.attr("disabled")&&f._zoomSlideShow("prev",o),i===s&&r.length&&!r.attr("disabled")&&f._zoomSlideShow("next",o)})},_zoomPreview:function(e){var i,n=this,r=n.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(r),r.html(n._getModalContent()),i=e.closest(t.FRAMES),n._setZoomContent(i),r.modal("show"),n._initZoomButtons()},_zoomSlideShow:function(t,i){var n,r,o,a=this,s=a.$modal.find(".kv-zoom-actions .btn-"+t),l=a.getFrames().toArray(),c=l.length;if(!s.attr("disabled")){for(r=0;r<c;r++)if(e(l[r]).attr("id")===i){o="prev"===t?r-1:r+1;break}o<0||o>=c||!l[o]||(n=e(l[o]),n.length&&a._setZoomContent(n,!0),a._initZoomButtons(),a._raise("filezoom"+t,{previewId:i,modal:a.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var e,t=this;(t._inputFileCount()||t.isAjaxUpload)&&t.showPreview&&t.isPreviewable&&(t.isAjaxUpload?(e=t.getFileStack(),t.filestack=[],e.length?t._clearFileInput():e=t.$element.get(0).files):e=t.$element.get(0).files,e&&e.length&&(t.readFiles(e),t._setFileDropZoneTitle()))},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var t,i,n,r=this,o=r.$element;r._inputFileCount()&&(t=o.closest("form"),i=e(document.createElement("form")),n=e(document.createElement("div")),o.before(n),t.length?t.after(i):n.after(i),i.append(o).trigger("reset"),n.before(o).remove(),i.remove())},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e.$progress.hide(),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&e.previewCache.count()},_resetPreview:function(){var e,t,i=this;i.previewCache.count()?(e=i.previewCache.out(),i._setPreviewContent(e.content),i._setInitThumbAttr(),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption()),i.showPreview&&(i._initZoom(),i._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!t.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,i=this;if(e)return i._clearPreview(),void i.clearStack();i._hasInitialPreview()?(t=i.previewCache.out(),i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(t.caption),i._initPreviewActions()):i._clearPreview()},_getLayoutTemplate:function(e){var i=this,n=i.layoutTemplates[e];return t.isEmpty(i.customLayoutTags)?n:t.replaceTags(n,i.customLayoutTags)},_getPreviewTemplate:function(e){var i=this,n=i.previewTemplates[e];return t.isEmpty(i.customPreviewTags)?n:t.replaceTags(n,i.customPreviewTags)},_getOutData:function(e,t,i){var n=this;return e=e||{},t=t||{},i=i||n.filestack.slice(0)||{},{form:n.formdata,files:i,filenames:n.filenames,filescount:n.getFilesCount(),extra:n._getExtraData(),response:t,reader:n.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,i=1===e?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",i):t.msgNoFilesSelected},_getFrame:function(t){var i=this,n=e("#"+t);return n.length?n:(i._log('Invalid thumb frame with id: "'+t+'".'),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this,n=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(n=i.uploadExtraData(e,t)),n},_initXhr:function(e,t,i){var n=this;return e.upload&&e.upload.addEventListener("progress",function(e){var r=0,o=e.total,a=e.loaded||e.position;e.lengthComputable&&(r=Math.floor(a/o*100)),t?n._setAsyncUploadStatus(t,r,i):n._setProgress(r)},!1),e},_initAjaxSettings:function(){var t=this;t._ajaxSettings=e.extend(!0,{},t.ajaxSettings),t._ajaxDeleteSettings=e.extend(!0,{},t.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,i){var n,r=this,o=r._ajaxSettings,a=r.mergeAjaxCallbacks;"delete"===i&&(o=r._ajaxDeleteSettings,a=r.mergeAjaxDeleteCallbacks),n=o[e],o[e]=a&&"function"==typeof n?"before"===a?function(){n.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),n.apply(this,arguments)}:t},_ajaxSubmit:function(t,i,n,r,o,a){var s,l,c=this;c._raise("filepreajax",[o,a])&&(c._uploadExtra(o,a),c._initAjaxSettings(),c._mergeAjaxCallback("beforeSend",t),c._mergeAjaxCallback("success",i),c._mergeAjaxCallback("complete",n),c._mergeAjaxCallback("error",r),l=a&&c.uploadUrlThumb?c.uploadUrlThumb:c.uploadUrl,s=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return c._initXhr(t,o,c.getFileStack().length)},url:c._encodeURI(l),type:"POST",dataType:"json",data:c.formdata,cache:!1,processData:!1,contentType:!1},c._ajaxSettings),c.ajaxRequests.push(e.ajax(s)))},_mergeArray:function(e,i){var n=this,r=t.cleanArray(n[e]),o=t.cleanArray(i);n[e]=r.concat(o)},_initUploadSuccess:function(i,n,r){var o,a,s,l,c,u,d,p,h,f=this;f.showPreview&&"object"==typeof i&&!e.isEmptyObject(i)&&void 0!==i.initialPreview&&i.initialPreview.length>0&&(f.hasInitData=!0,u=i.initialPreview||[],d=i.initialPreviewConfig||[],p=i.initialPreviewThumbTags||[],o=void 0===i.append||i.append,u.length>0&&!t.isArray(u)&&(u=u.split(f.initialPreviewDelimiter)),f._mergeArray("initialPreview",u),f._mergeArray("initialPreviewConfig",d),f._mergeArray("initialPreviewThumbTags",p),void 0!==n?r?(h=n.attr("data-fileindex"),f.uploadCache.content[h]=u[0],f.uploadCache.config[h]=d[0]||[],f.uploadCache.tags[h]=p[0]||[],f.uploadCache.append=o):(s=f.previewCache.add(u,d[0],p[0],o),a=f.previewCache.get(s,!1),l=e(document.createElement("div")).html(a).hide().insertAfter(n),c=l.find(".kv-zoom-cache"),c&&c.length&&c.insertAfter(n),n.fadeOut("slow",function(){var e=l.find(".file-preview-frame");e&&e.length&&e.insertBefore(n).fadeIn("slow").css("display:inline-block"),f._initPreviewActions(),f._clearFileInput(),t.cleanZoomCache(f.$preview.find("#zoom-"+n.attr("id"))),n.remove(),l.remove(),f._initSortable()})):(f.previewCache.set(u,d,p,o),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var n=e(this),r=i.$preview,o=n.find(".kv-file-remove");o.removeAttr("disabled"),i._handler(o,"click",function(){var e=n.attr("id"),o=i._raise("filesuccessremove",[e,n.attr("data-fileindex")]);t.cleanMemory(n),!1!==o&&n.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+e)),n.remove(),i.getFrames().length||i.reset()})})})},_checkAsyncComplete:function(){var t,i,n=this;for(i=0;i<n.filestack.length;i++)if(n.filestack[i]&&(t=n.previewInitId+"-"+i,-1===e.inArray(t,n.uploadLog)))return!1;return n.uploadAsyncCount===n.uploadLog.length},_uploadExtra:function(t,i){var n=this,r=n._getExtraData(t,i);0!==r.length&&e.each(r,function(e,t){n.formdata.append(e,t)})},_uploadSingle:function(i,n){var r,o,a,s,l,c,u,d,p,h,f,g=this,m=g.getFileStack().length,v=new FormData,y=g.previewInitId+"-"+i,b=g.filestack.length>0||!e.isEmptyObject(g.uploadExtraData),w=e("#"+y).find(".file-thumb-progress"),_={id:y,index:i};g.formdata=v,g.showPreview&&(o=e("#"+y+":not(.file-preview-initial)"),s=o.find(".kv-file-upload"),l=o.find(".kv-file-remove"),w.show()),0===m||!b||s&&s.hasClass("disabled")||g._abort(_)||(f=function(e,t){c||g.updateStack(e,void 0),g.uploadLog.push(t),g._checkAsyncComplete()&&(g.fileBatchCompleted=!0)},a=function(){var e,i,n,r=g.uploadCache,o=0,a=g.cacheInitialPreview;g.fileBatchCompleted&&(a&&a.content&&(o=a.content.length),setTimeout(function(){var s=0===g.getFileStack(!0).length;if(g.showPreview){if(g.previewCache.set(r.content,r.config,r.tags,r.append),o){for(i=0;i<r.content.length;i++)n=i+o,a.content[n]=r.content[i],a.config.length&&(a.config[n]=r.config[i]),a.tags.length&&(a.tags[n]=r.tags[i]);g.initialPreview=t.cleanArray(a.content),g.initialPreviewConfig=t.cleanArray(a.config),g.initialPreviewThumbTags=t.cleanArray(a.tags)}else g.initialPreview=r.content,g.initialPreviewConfig=r.config,g.initialPreviewThumbTags=r.tags;g.cacheInitialPreview={},g.hasInitData&&(g._initPreview(),g._initPreviewActions())}g.unlock(s),s&&g._clearFileInput(),e=g.$preview.find(".file-preview-initial"),g.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),g._initSortable()),g._raise("filebatchuploadcomplete",[g.filestack,g._getExtraData()]),g.uploadCount=0,g.uploadStatus={},g.uploadLog=[],g._setProgress(101),g.ajaxAborted=!1},100))},u=function(a){r=g._getOutData(a),g.fileBatchCompleted=!1,n||(g.ajaxAborted=!1),g.showPreview&&(o.hasClass("file-preview-success")||(g._setThumbStatus(o,"Loading"),t.addCss(o,"file-uploading")),s.attr("disabled",!0),l.attr("disabled",!0)),n||g.lock(),g._raise("filepreupload",[r,y,i]),e.extend(!0,_,r),g._abort(_)&&(a.abort(),n||(g._setThumbStatus(o,"New"),o.removeClass("file-uploading"),s.removeAttr("disabled"),l.removeAttr("disabled"),g.unlock()),g._setProgressCancelled())},d=function(a,l,u){var d=g.showPreview&&o.attr("id")?o.attr("id"):y;r=g._getOutData(u,a),e.extend(!0,_,r),setTimeout(function(){t.isEmpty(a)||t.isEmpty(a.error)?(g.showPreview&&(g._setThumbStatus(o,"Success"),s.hide(),g._initUploadSuccess(a,o,n),g._setProgress(101,w)),g._raise("fileuploaded",[r,d,i]),n?f(i,d):g.updateStack(i,void 0)):(c=!0,g._showUploadError(a.error,_),g._setPreviewError(o,i,g.filestack[i],g.retryErrorUploads),g.retryErrorUploads||s.hide(),n&&f(i,d),g._setProgress(101,e("#"+d).find(".file-thumb-progress"),g.msgUploadError))},100)},p=function(){setTimeout(function(){g.showPreview&&(s.removeAttr("disabled"),l.removeAttr("disabled"),o.removeClass("file-uploading")),n?a():(g.unlock(!1),g._clearFileInput()),g._initSuccessThumbs()},100)},h=function(t,r,a){var l=g.ajaxOperations.uploadThumb,u=g._parseError(l,t,a,n&&g.filestack[i].name?g.filestack[i].name:null);c=!0,setTimeout(function(){n&&f(i,y),g.uploadStatus[y]=100,g._setPreviewError(o,i,g.filestack[i],g.retryErrorUploads),g.retryErrorUploads||s.hide(),e.extend(!0,_,g._getOutData(t)),g._setProgress(101,w,g.msgAjaxProgressError.replace("{operation}",l)),g._setProgress(101,e("#"+y).find(".file-thumb-progress"),g.msgUploadError),g._showUploadError(u,_)},100)},v.append(g.uploadFileAttr,g.filestack[i],g.filenames[i]),v.append("file_id",i),g._ajaxSubmit(u,d,p,h,y,i))},_uploadBatch:function(){var i,n,r,o,a,s=this,l=s.filestack,c=l.length,u={},d=s.filestack.length>0||!e.isEmptyObject(s.uploadExtraData);s.formdata=new FormData,0!==c&&d&&!s._abort(u)&&(a=function(){e.each(l,function(e){s.updateStack(e,void 0)}),s._clearFileInput()},i=function(i){s.lock();var n=s._getOutData(i);s.ajaxAborted=!1,s.showPreview&&s._getThumbs().each(function(){var i=e(this),n=i.find(".kv-file-upload"),r=i.find(".kv-file-remove");i.hasClass("file-preview-success")||(s._setThumbStatus(i,"Loading"),t.addCss(i,"file-uploading")),n.attr("disabled",!0),r.attr("disabled",!0)}),s._raise("filebatchpreupload",[n]),s._abort(n)&&(i.abort(),s._getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),n=t.find(".kv-file-remove");t.hasClass("file-preview-loading")&&(s._setThumbStatus(t,"New"),t.removeClass("file-uploading")),i.removeAttr("disabled"),n.removeAttr("disabled")}),s._setProgressCancelled())},n=function(i,n,r){var o=s._getOutData(r,i),l=0,c=s._getThumbs(":not(.file-preview-success)"),u=t.isEmpty(i)||t.isEmpty(i.errorkeys)?[]:i.errorkeys;t.isEmpty(i)||t.isEmpty(i.error)?(s._raise("filebatchuploadsuccess",[o]),a(),s.showPreview?(c.each(function(){var t=e(this);s._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),t.find(".kv-file-upload").hide().removeAttr("disabled")}),s._initUploadSuccess(i)):s.reset(),s._setProgress(101)):(s.showPreview&&(c.each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),t.find(".kv-file-upload").removeAttr("disabled"),t.find(".kv-file-remove").removeAttr("disabled"),0===u.length||-1!==e.inArray(l,u)?(s._setPreviewError(t,i,s.filestack[i],s.retryErrorUploads),s.retryErrorUploads||(t.find(".kv-file-upload").hide(),s.updateStack(i,void 0))):(t.find(".kv-file-upload").hide(),s._setThumbStatus(t,"Success"),s.updateStack(i,void 0)),t.hasClass("file-preview-error")&&!s.retryErrorUploads||l++}),s._initUploadSuccess(i)),s._showUploadError(i.error,o,"filebatchuploaderror"),s._setProgress(101,s.$progress,s.msgUploadError))},o=function(){s.unlock(),s._initSuccessThumbs(),s._clearFileInput(),s._raise("filebatchuploadcomplete",[s.filestack,s._getExtraData()])},r=function(t,i,n){var r=s._getOutData(t),o=s.ajaxOperations.uploadBatch,a=s._parseError(o,t,n);s._showUploadError(a,r,"filebatchuploaderror"),s.uploadFileCount=c-1,s.showPreview&&(s._getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==s.filestack[i]&&s._setPreviewError(t)}),s._getThumbs().removeClass("file-uploading"),s._getThumbs(" .kv-file-upload").removeAttr("disabled"),s._getThumbs(" .kv-file-delete").removeAttr("disabled"),s._setProgress(101,s.$progress,s.msgAjaxProgressError.replace("{operation}",o)))},e.each(l,function(e,i){t.isEmpty(l[e])||s.formdata.append(s.uploadFileAttr,i,s.filenames[e])}),s._ajaxSubmit(i,n,o,r))},_uploadExtraOnly:function(){var e,i,n,r,o=this,a={};o.formdata=new FormData,o._abort(a)||(e=function(e){o.lock();var t=o._getOutData(e);o._raise("filebatchpreupload",[t]),o._setProgress(50),a.data=t,a.xhr=e,o._abort(a)&&(e.abort(),o._setProgressCancelled())},i=function(e,i,n){var r=o._getOutData(n,e);t.isEmpty(e)||t.isEmpty(e.error)?(o._raise("filebatchuploadsuccess",[r]),o._clearFileInput(),o._initUploadSuccess(e),o._setProgress(101)):o._showUploadError(e.error,r,"filebatchuploaderror")},n=function(){o.unlock(),o._clearFileInput(),o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()])},r=function(e,t,i){var n=o._getOutData(e),r=o.ajaxOperations.uploadExtra,s=o._parseError(r,e,i);a.data=n,o._showUploadError(s,n,"filebatchuploaderror"),o._setProgress(101,o.$progress,o.msgAjaxProgressError.replace("{operation}",r))},o._ajaxSubmit(e,i,n,r))},_deleteFileIndex:function(i){var n=this,r=i.attr("data-fileindex"),o=n.reversePreviewOrder;"init_"===r.substring(0,5)&&(r=parseInt(r.replace("init_","")),n.initialPreview=t.spliceArray(n.initialPreview,r,o),n.initialPreviewConfig=t.spliceArray(n.initialPreviewConfig,r,o),n.initialPreviewThumbTags=t.spliceArray(n.initialPreviewThumbTags,r,o),n.getFrames().each(function(){var t=e(this),i=t.attr("data-fileindex");"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")))>r&&(i--,t.attr("data-fileindex","init_"+i))}),n.uploadAsync&&(n.cacheInitialPreview=n.getPreview()))},_initFileActions:function(){var i=this,n=i.$preview;i.showPreview&&(i._initZoomButton(),i.getFrames(" .kv-file-remove").each(function(){var r,o,a,s,l=e(this),c=l.closest(t.FRAMES),u=c.attr("id"),d=c.attr("data-fileindex");i._handler(l,"click",function(){if(!1===(s=i._raise("filepreremove",[u,d]))||!i._validateMinCount())return!1;r=c.hasClass("file-preview-error"),t.cleanMemory(c),c.fadeOut("slow",function(){t.cleanZoomCache(n.find("#zoom-"+u)),i.updateStack(d,void 0),i._clearObjects(c),c.remove(),u&&r&&i.$errorContainer.find('li[data-thumb-id="'+u+'"]').fadeOut("fast",function(){e(this).remove(),i._errorsExist()||i._resetErrors()}),i._clearFileInput();var s=i.getFileStack(!0),l=i.previewCache.count(),p=s.length,h=i.showPreview&&i.getFrames().length;0!==p||0!==l||h?(o=l+p,a=o>1?i._getMsgSelected(o):s[0]?i._getFileNames()[0]:"",i._setCaption(a)):i.reset(),i._raise("fileremoved",[u,d])})})}),i.getFrames(" .kv-file-upload").each(function(){var n=e(this);i._handler(n,"click",function(){var e=n.closest(t.FRAMES),r=e.attr("data-fileindex");i.$progress.hide(),e.hasClass("file-preview-error")&&!i.retryErrorUploads||i._uploadSingle(r,!1)})}))},_initPreviewActions:function(){var i=this,n=i.$preview,r=i.deleteExtraData||{},o=t.FRAMES+" .kv-file-remove",a=i.fileActionSettings,s=a.removeClass,l=a.removeErrorClass,c=function(){var e=i.isAjaxUpload?i.previewCache.count():i._inputFileCount();n.find(t.FRAMES).length||e||(i._setCaption(""),i.reset(),i.initialCaption="")};i._initZoomButton(),n.find(o).each(function(){var o,a,u,d=e(this),p=d.data("url")||i.deleteUrl,h=d.data("key");if(!t.isEmpty(p)&&void 0!==h){var f,g,m,v,y=d.closest(t.FRAMES),b=i.previewCache.data,w=y.attr("data-fileindex");w=parseInt(w.replace("init_","")),m=t.isEmpty(b.config)&&t.isEmpty(b.config[w])?null:b.config[w],v=t.isEmpty(m)||t.isEmpty(m.extra)?r:m.extra,"function"==typeof v&&(v=v()),g={id:d.attr("id"),key:h,extra:v},o=function(e){i.ajaxAborted=!1,i._raise("filepredelete",[h,e,v]),i._abort()?e.abort():(d.removeClass(l),t.addCss(y,"file-uploading"),t.addCss(d,"disabled "+s))},a=function(e,r,o){var a,u;if(!t.isEmpty(e)&&!t.isEmpty(e.error))return g.jqXHR=o,g.response=e,i._showError(e.error,g,"filedeleteerror"),y.removeClass("file-uploading"),d.removeClass("disabled "+s).addClass(l),void c();y.removeClass("file-uploading").addClass("file-deleted"),y.fadeOut("slow",function(){w=parseInt(y.attr("data-fileindex").replace("init_","")),i.previewCache.unset(w),i._deleteFileIndex(y),a=i.previewCache.count(),u=a>0?i._getMsgSelected(a):"",i._setCaption(u),i._raise("filedeleted",[h,o,v]),t.cleanZoomCache(n.find("#zoom-"+y.attr("id"))),i._clearObjects(y),y.remove(),c()})},u=function(e,t,n){var r=i.ajaxOperations.deleteThumb,o=i._parseError(r,e,n);g.jqXHR=e,g.response={},i._showError(o,g,"filedeleteerror"),y.removeClass("file-uploading"),d.removeClass("disabled "+s).addClass(l),c()},i._initAjaxSettings(),i._mergeAjaxCallback("beforeSend",o,"delete"),i._mergeAjaxCallback("success",a,"delete"),i._mergeAjaxCallback("error",u,"delete"),f=e.extend(!0,{},{url:i._encodeURI(p),type:"POST",dataType:"json",data:e.extend(!0,{},{key:h},v)},i._ajaxDeleteSettings),i._handler(d,"click",function(){if(!i._validateMinCount())return!1;i.ajaxAborted=!1,i._raise("filebeforedelete",[h,v]),i.ajaxAborted instanceof Promise?i.ajaxAborted.then(function(t){t||e.ajax(f)}):i.ajaxAborted||e.ajax(f)})}})},_hideFileIcon:function(){var e=this;e.overwriteInitial&&e.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){var e=this;t.addCss(e.$captionContainer,"icon-visible")},_getSize:function(t){var i,n,r,o=this,a=parseFloat(t),s=o.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(a)?("function"==typeof s?r=s(a):0===a?r="0.00 B":(i=Math.floor(Math.log(a)/Math.log(1024)),n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=1*(a/Math.pow(1024,i)).toFixed(2)+" "+n[i]),o._getLayoutTemplate("size").replace("{sizeText}",r)):""},_getFileType:function(e){return this.mimeTypeAliases[e]||e},_generatePreviewTemplate:function(i,n,r,o,a,s,l,c,u,d,p,h){var f,g=this,m=g.slug(r),v="",y="",b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,w=b<400?g.previewSettingsSmall[i]||g.defaults.previewSettingsSmall[i]:g.previewSettings[i]||g.defaults.previewSettings[i],_=m,x=m,S=u||g._renderFileFooter(m,l,"auto",s),C=g._getPreviewIcon(r),k="type-default",T=C&&g.preferIconicPreview,D=C&&g.preferIconicZoomPreview;return w&&e.each(w,function(e,t){y+=e+":"+t+";"}),f=function(n,s,l,u){var f=l?"zoom-"+a:a,v=g._getPreviewTemplate(n),b=(c||"")+" "+u;return g.frameClass&&(b=g.frameClass+" "+b),l&&(b=b.replace(" "+t.SORT_CSS,"")),v=g._parseFilePreviewIcon(v,r),"text"===n&&(s=t.htmlEncode(s)),"object"!==i||o||e.each(g.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(r,o)&&(k="type-"+e)}),t.isEmpty(h)||(void 0!==h.title&&null!==h.title&&(_=h.title),void 0!==h.alt&&null!==h.alt&&(_=h.alt)),v.setTokens({previewId:f,caption:m,title:_,alt:x,frameClass:b,type:g._getFileType(o),fileindex:d,fileid:g._getFileIds()[d]||"",typeCss:k,footer:S,data:s,template:p||i,style:y?'style="'+y+'"':""})},d=d||a.slice(a.lastIndexOf("-")+1),g.fileActionSettings.showZoom&&(v=f(D?"other":i,n,!0,"kv-zoom-thumb")),v="\n"+g._getLayoutTemplate("zoomCache").replace("{zoomContent}",v),f(T?"other":i,n,!1,"kv-preview-thumb")+v},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(i,n,r){var o=this,a=o.$preview;if(o.showPreview){var s,l=t.getFileName(i),c=i?i.type:"",u=i.size||0,d=o.slug(l),p=!0===r&&!o.isAjaxUpload,h=t.createObjectURL(i);o._clearDefaultPreview(),s=o._generatePreviewTemplate("other",h,l,c,n,p,u),o._addToPreview(a,s),o._setThumbAttr(n,d,u),!0===r&&o.isAjaxUpload&&o._setThumbStatus(e("#"+n),"Error")}},_previewFile:function(e,i,n,r,o,a){if(this.showPreview){var s,l=this,c=t.getFileName(i),u=a.type,d=a.name,p=l._parseFileType(u,c),h=l.allowedPreviewTypes,f=l.allowedPreviewMimeTypes,g=l.$preview,m=i.size||0,v=h&&h.indexOf(p)>=0,y=f&&-1!==f.indexOf(u),b="text"===p||"html"===p||"image"===p?n.target.result:o;if("html"===p&&l.purifyHtml&&window.DOMPurify&&(b=window.DOMPurify.sanitize(b)),v||y){s=l._generatePreviewTemplate(p,b,c,u,r,!1,m),l._clearDefaultPreview(),l._addToPreview(g,s);var w=g.find("#"+r+" img");l._validateImageOrientation(w,i,r,d,u,m,b)}else l._previewDefault(i,r);l._setThumbAttr(r,d,m),l._initSortable()}},_setThumbAttr:function(t,i,n){var r=this,o=e("#"+t);o.length&&(n=n&&n>0?r._getSize(n):"",o.data({caption:i,size:n}))},_setInitThumbAttr:function(){var e,i,n,r,o=this,a=o.previewCache.data,s=o.previewCache.count();if(0!==s)for(var l=0;l<s;l++)e=a.config[l],r=o.previewInitId+"-init_"+l,i=t.ifSet("caption",e,t.ifSet("filename",e)),n=t.ifSet("size",e),o._setThumbAttr(r,i,n)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var i=this,n=i.$element,r=i.getFileStack(),o=t.isIE(9)&&t.findFileName(n.val())||n[0].files[0]&&n[0].files[0].name||r.length&&r[0].name||"",a=i.slug(o),s=i.isAjaxUpload?r.length:e,l=i.previewCache.count()+s,c=1===s?a:i._getMsgSelected(l);i.isError?(i.$previewContainer.removeClass("file-thumb-loading"),i.$previewStatus.html(""),i.$captionContainer.removeClass("icon-visible")):i._showFileIcon(),i._setCaption(c,i.isError),i.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&i._raise("fileselect",[e,a]),i.previewCache.count()&&i._initPreviewActions()},_setThumbStatus:function(e,t){var i=this;if(i.showPreview){var n="indicator"+t,r=n+"Title",o="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),s=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),a.html(s[n]),a.attr("title",s[r]),e.addClass(o),"Error"!==t||i.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,i,n){var r,o=this,a=Math.min(e,100),s=o.progressUploadThreshold,l=e<=100?o.progressTemplate:o.progressCompleteTemplate,c=a<100?o.progressTemplate:n?o.progressErrorTemplate:l;i=i||o.$progress,t.isEmpty(c)||(r=s&&a>s&&e<=100?c.setTokens({percent:s,status:o.msgUploadThreshold}):c.setTokens({percent:a,status:e>100?o.msgUploadEnd:a+"%"}),i.html(r),n&&i.find('[role="progressbar"]').html(n))},_setFileDropZoneTitle:function(){var e,i=this,n=i.$container.find(".file-drop-zone"),r=i.dropZoneTitle;i.isClickable&&(e=t.isEmpty(i.$element.attr("multiple"))?i.fileSingle:i.filePlural,r+=i.dropZoneClickTitle.replace("{files}",e)),n.find("."+i.dropZoneTitleClass).remove(),!i.showPreview||0===n.length||i.getFileStack().length>0||!i.dropZoneEnabled||!i.isAjaxUpload&&i.$element.files||(0===n.find(t.FRAMES).length&&t.isEmpty(i.defaultPreviewContent)&&n.prepend('<div class="'+i.dropZoneTitleClass+'">'+r+"</div>"),i.$container.removeClass("file-input-new"),t.addCss(i.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,n){var r=this,o=0;r._setProgress(i,e("#"+t).find(".file-thumb-progress")),r.uploadStatus[t]=i,e.each(r.uploadStatus,function(e,t){o+=t}),r._setProgress(Math.floor(o/n))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e._inputFileCount();return!(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=t.previewCache.count(),e+=i),e},_getFileId:function(e){var i,n=this,r=n.generateFileId;return"function"==typeof r?r(e,event):e?(i=String(e.relativePath||e.webkitRelativePath||t.getFileName(e)||null),i?e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,""):null):null},_getFileName:function(e,i){var n=this,r=t.getFileName(e);return r?n.slug(r):i},_getFileIds:function(e){return this.fileids.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_getFileNames:function(e){return this.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,i,n){var r=this;if(void 0!==t&&r.updateStack(t,i),r.showPreview){if(r.removeFromPreviewOnError&&!n)return void e.remove();r._setThumbStatus(e,"Error"),r._refreshUploadButton(e,n)}},_refreshUploadButton:function(e,t){var i=this,n=e.find(".kv-file-upload"),r=i.fileActionSettings,o=r.uploadIcon,a=r.uploadTitle;n.length&&(t&&(o=r.uploadRetryIcon,a=r.uploadRetryTitle),n.attr("title",a).html(o))},_checkDimensions:function(e,i,n,r,o,a,s){var l,c,u,d=this,p="Small"===i?"min":"max",h=d[p+"Image"+a];!t.isEmpty(h)&&n.length&&(u=n[0],c="Width"===a?u.naturalWidth||u.width:u.naturalHeight||u.height,("Small"===i?c>=h:c<=h)||(l=d["msgImage"+a+i].setTokens({name:o,size:h}),d._showUploadError(l,s),d._setPreviewError(r,e,null)))},_getExifObj:function(e){var t=this,i=null;if("data:image/jpeg;base64,"!==e.slice(0,23)&&"data:image/jpg;base64,"!==e.slice(0,22))return void(i=null);try{i=window.piexif?window.piexif.load(e):null}catch(e){i=null,t._log(e)}return i||t._log("The piexif.js library was not detected. Either load piexif.js on your page OR set `autoOrientImage` to `false`."),i},_validateImageOrientation:function(e,i,n,r,o,a,s){var l,c,u=this,d=u.autoOrientImage;if("function"==typeof d&&(d=d()),l=e.length&&d?u._getExifObj(s):null,!(c=l?l["0th"][piexif.ImageIFD.Orientation]:null))return void u._validateImage(n,r,o,a,s,l);t.setImageOrientation(e,u.$preview.find("#zoom-"+n+" img"),c),u._raise("fileimageoriented",{$img:e,file:i}),u._validateImage(n,r,o,a,s,l)},_validateImage:function(t,i,n,r,o,a){var s,l,c,u=this,d=u.$preview,p=d.find("#"+t),h=p.attr("data-fileindex"),f=p.find("img");i=i||"Untitled",f.one("load",function(){l=p.width(),c=d.width(),l>c&&f.css("width","100%"),s={ind:h,id:t},u._checkDimensions(h,"Small",f,p,i,"Width",s),u._checkDimensions(h,"Small",f,p,i,"Height",s),u.resizeImage||(u._checkDimensions(h,"Large",f,p,i,"Width",s),u._checkDimensions(h,"Large",f,p,i,"Height",s)),u._raise("fileimageloaded",[t]),u.loadedImages.push({ind:h,img:f,thumb:p,pid:t,typ:n,siz:r,validated:!1,imgData:o,exifObj:a}),p.data("exif",a),u._validateAllImages()}).one("error",function(){u._raise("fileimageloaderror",[t])}).each(function(){this.complete?e(this).trigger("load"):this.error&&e(this).trigger("error")})},_validateAllImages:function(){
var e,t,i,n=this,r={val:0},o=n.loadedImages.length,a=n.resizeIfSizeMoreThan;if(o===n.totalImagesCount&&(n._raise("fileimagesloaded"),n.resizeImage))for(e=0;e<n.loadedImages.length;e++)t=n.loadedImages[e],t.validated||(i=t.siz,i&&i>1e3*a&&n._getResizedImage(t,r,o),n.loadedImages[e].validated=!0)},_getResizedImage:function(i,n,r){var o,a,s,l,c,u,d,p=this,h=e(i.img)[0],f=h.naturalWidth,g=h.naturalHeight,m=1,v=p.maxImageWidth||f,y=p.maxImageHeight||g,b=!(!f||!g),w=p.imageCanvas,_=p.imageCanvasContext,x=i.typ,S=i.pid,C=i.ind,k=i.thumb,T=i.exifObj;if(c=function(e,t,i){p.isAjaxUpload?p._showUploadError(e,t,i):p._showError(e,t,i),p._setPreviewError(k,C)},(!p.filestack[C]||!b||f<=v&&g<=y)&&(b&&p.filestack[C]&&p._raise("fileimageresized",[S,C]),n.val++,n.val===r&&p._raise("fileimagesresized"),!b))return void c(p.msgImageResizeError,{id:S,index:C},"fileimageresizeerror");x=x||p.resizeDefaultImageType,a=f>v,s=g>y,m="width"===p.resizePreference?a?v/f:s?y/g:1:s?y/g:a?v/f:1,p._resetCanvas(),f*=m,g*=m,w.width=f,w.height=g;try{_.drawImage(h,0,0,f,g),l=w.toDataURL(x,p.resizeQuality),T&&(d=window.piexif.dump(T),l=window.piexif.insert(d,l)),o=t.dataURI2Blob(l),p.filestack[C]=o,p._raise("fileimageresized",[S,C]),n.val++,n.val===r&&p._raise("fileimagesresized",[void 0,void 0]),o instanceof Blob||c(p.msgImageResizeError,{id:S,index:C},"fileimageresizeerror")}catch(e){n.val++,n.val===r&&p._raise("fileimagesresized",[void 0,void 0]),u=p.msgImageResizeException.replace("{errors}",e.message),c(u,{id:S,index:C},"fileimageresizeexception")}},_initBrowse:function(e){var i=this,n=i.$element;i.showBrowse?i.$btnFile=e.find(".btn-file").append(n):(n.appendTo(e).attr("tabindex",-1),t.addCss(n,"file-no-browse"))},_initClickable:function(){var i,n,r=this;r.isClickable&&(i=r.$dropZone,r.isAjaxUpload||(n=r.$preview.find(".file-default-preview"),n.length&&(i=n)),t.addCss(i,"clickable"),i.attr("tabindex",-1),r._handler(i,"click",function(t){var n=e(t.target);e(r.elErrorContainer+":visible").length||n.parents(".file-preview-thumbnails").length&&!n.parents(".file-default-preview").length||(r.$element.data("zoneClicked",!0).trigger("click"),i.blur())}))},_initCaption:function(){var e=this,i=e.initialCaption||"";return e.overwriteInitial||t.isEmpty(i)?(e.$caption.val(""),!1):(e._setCaption(i),!0)},_setCaption:function(i,n){var r,o,a,s,l,c=this,u=c.getFileStack();if(c.$caption.length){if(c.$captionContainer.removeClass("icon-visible"),n)r=e("<div>"+c.msgValidationError+"</div>").text(),s=u.length,l=s?1===s&&u[0]?c._getFileNames()[0]:c._getMsgSelected(s):c._getMsgSelected(c.msgNo),o=t.isEmpty(i)?l:i,a='<span class="'+c.msgValidationErrorClass+'">'+c.msgValidationErrorIcon+"</span>";else{if(t.isEmpty(i))return;r=e("<div>"+i+"</div>").text(),o=r,a=c._getLayoutTemplate("fileIcon")}c.$captionContainer.addClass("icon-visible"),c.$caption.attr("title",r).val(o),c.$captionIcon.html(a)}},_createContainer:function(){var t=this,i={class:"file-input file-input-new"+(t.rtl?" kv-rtl":"")},n=e(document.createElement("div")).attr(i).html(t._renderMain());return n.insertBefore(t.$element),t._initBrowse(n),t.theme&&n.addClass("theme-"+t.theme),n},_refreshContainer:function(){var e=this,t=e.$container;e.$element.insertAfter(t),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){var e=this;e.$caption.attr({readonly:e.isDisabled})},_renderMain:function(){var e=this,t=e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",n=e.showPreview?e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}):"",r=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,o=e.captionTemplate.setTokens({class:r+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:n,close:i,caption:o,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var i=this,n=i._getLayoutTemplate("btnDefault"),r=i[e+"Class"],o=i[e+"Title"],a=i[e+"Icon"],s=i[e+"Label"],l=i.isDisabled?" disabled":"",c="button";switch(e){case"remove":if(!i.showRemove)return"";break;case"cancel":if(!i.showCancel)return"";r+=" kv-hidden";break;case"upload":if(!i.showUpload)return"";i.isAjaxUpload&&!i.isDisabled?n=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl):c="submit";break;case"browse":if(!i.showBrowse)return"";n=i._getLayoutTemplate("btnBrowse");break;default:return""}return r+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(s)||(s=' <span class="'+i.buttonLabelClass+'">'+s+"</span>"),n.setTokens({type:c,css:r,title:o,status:l,icon:a,label:s})},_renderThumbProgress:function(){var e=this;return'<div class="file-thumb-progress kv-hidden">'+e.progressTemplate.setTokens({percent:"0",status:e.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,i,n,r){var o,a=this,s=a.fileActionSettings,l=s.showRemove,c=s.showDrag,u=s.showUpload,d=s.showZoom,p=a._getLayoutTemplate("footer"),h=a._getLayoutTemplate("indicator"),f=r?s.indicatorError:s.indicatorNew,g=r?s.indicatorErrorTitle:s.indicatorNewTitle,m=h.setTokens({indicator:f,indicatorTitle:g});return i=a._getSize(i),o=a.isAjaxUpload?p.setTokens({actions:a._renderFileActions(u,!1,l,d,c,!1,!1,!1),caption:e,size:i,width:n,progress:a._renderThumbProgress(),indicator:m}):p.setTokens({actions:a._renderFileActions(!1,!1,!1,d,c,!1,!1,!1),caption:e,size:i,width:n,progress:"",indicator:m}),o=t.replaceTags(o,a.previewThumbTags)},_renderFileActions:function(e,t,i,n,r,o,a,s,l,c,u){if(!(e||t||i||n||r))return"";var d,p=this,h=!1===a?"":' data-url="'+a+'"',f=!1===s?"":' data-key="'+s+'"',g="",m="",v="",y="",b="",w=p._getLayoutTemplate("actions"),_=p.fileActionSettings,x=p.otherActionButtons.setTokens({dataKey:f,key:s}),S=o?_.removeClass+" disabled":_.removeClass;return i&&(g=p._getLayoutTemplate("actionDelete").setTokens({removeClass:S,removeIcon:_.removeIcon,removeTitle:_.removeTitle,dataUrl:h,dataKey:f,key:s})),e&&(m=p._getLayoutTemplate("actionUpload").setTokens({uploadClass:_.uploadClass,uploadIcon:_.uploadIcon,uploadTitle:_.uploadTitle})),t&&(v=p._getLayoutTemplate("actionDownload").setTokens({downloadClass:_.downloadClass,downloadIcon:_.downloadIcon,downloadTitle:_.downloadTitle,downloadUrl:c||p.initialPreviewDownloadUrl}),v=v.setTokens({filename:u,key:s})),n&&(y=p._getLayoutTemplate("actionZoom").setTokens({zoomClass:_.zoomClass,zoomIcon:_.zoomIcon,zoomTitle:_.zoomTitle})),r&&l&&(d="drag-handle-init "+_.dragClass,b=p._getLayoutTemplate("actionDrag").setTokens({dragClass:d,dragTitle:_.dragTitle,dragIcon:_.dragIcon})),w.setTokens({delete:g,upload:m,download:v,zoom:y,drag:b,other:x})},_browse:function(e){var t=this;e&&e.isDefaultPrevented()||!t._raise("filebrowse")||(t.isError&&!t.isAjaxUpload&&t.clear(),t.$captionContainer.focus())},_filterDuplicate:function(e,t,i){var n=this,r=n._getFileId(e);r&&i&&i.indexOf(r)>-1||(i||(i=[]),t.push(e),i.push(r))},_change:function(i){var n=this;if(!n.changeTriggered){var r,o,a=n.$element,s=arguments.length>1,l=n.isAjaxUpload,c=[],u=s?arguments[1]:a.get(0).files,d=!l&&t.isEmpty(a.attr("multiple"))?1:n.maxFileCount,p=n.filestack.length,h=t.isEmpty(a.attr("multiple")),f=h&&p>0,g=n._getFileIds(),m=function(t,i,r,o){var a=e.extend(!0,{},n._getOutData({},{},u),{id:r,index:o}),s={id:r,index:o,file:i,files:u};return l?n._showUploadError(t,a):n._showError(t,s)};if(n.reader=null,n._resetUpload(),n._hideFileIcon(),n.dropZoneEnabled&&n.$container.find(".file-drop-zone ."+n.dropZoneTitleClass).remove(),l?e.each(u,function(e,t){n._filterDuplicate(t,c,g)}):(u=i.target&&void 0===i.target.files?i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]:i.target.files||{},c=u),t.isEmpty(c)||0===c.length)return l||n.clear(),void n._raise("fileselectnone");if(n._resetErrors(),o=c.length,r=n._getFileCount(l?n.getFileStack().length+o:o),d>0&&r>d){if(!n.autoReplace||o>d)return void function(e,t){var i=n.msgFilesTooMany.replace("{m}",t).replace("{n}",e);n.isError=m(i,null,null,null),n.$captionContainer.removeClass("icon-visible"),n._setCaption("",!0),n.$container.removeClass("file-input-new file-input-ajax-new")}(n.autoReplace&&o>d?o:r,d);r>d&&n._resetPreviewThumbs(l)}else!l||f?(n._resetPreviewThumbs(!1),f&&n.clearStack()):!l||0!==p||n.previewCache.count()&&!n.overwriteInitial||n._resetPreviewThumbs(!0);n.isPreviewable?n.readFiles(c):n._updateFileDetails(1)}},_abort:function(t){var i,n=this;return n.ajaxAborted&&"object"==typeof n.ajaxAborted&&void 0!==n.ajaxAborted.message?(i=e.extend(!0,{},n._getOutData(),t),i.abortData=n.ajaxAborted.data||{},i.abortMessage=n.ajaxAborted.message,n._setProgress(101,n.$progress,n.msgCancelled),n._showUploadError(n.ajaxAborted.message,i,"filecustomerror"),n.cancel(),!0):!!n.ajaxAborted},_resetFileStack:function(){var i=this,n=0,r=[],o=[],a=[];i._getThumbs().each(function(){var s=e(this),l=s.attr("data-fileindex"),c=i.filestack[l],u=s.attr("id");"-1"!==l&&-1!==l&&(void 0!==c?(r[n]=c,o[n]=i._getFileName(c),a[n]=i._getFileId(c),s.attr({id:i.previewInitId+"-"+n,"data-fileindex":n}),n++):s.attr({id:"uploaded-"+t.uniqId(),"data-fileindex":"-1"}),i.$preview.find("#zoom-"+u).attr({id:"zoom-"+s.attr("id"),"data-fileindex":s.attr("data-fileindex")}))}),i.filestack=r,i.filenames=o,i.fileids=a},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showUploadError(t.msgFileRequired),!1):!(t.minFileCount>0&&t._getFileCount(e)<t.minFileCount)||(t._noFilesError({}),!1)},clearStack:function(){var e=this;return e.filestack=[],e.filenames=[],e.fileids=[],e.$element},updateStack:function(e,t){var i=this;return i.filestack[e]=t,i.filenames[e]=i._getFileName(t),i.fileids[e]=t&&i._getFileId(t)||null,i.$element},addToStack:function(e){var t=this;return t.filestack.push(e),t.filenames.push(t._getFileName(e)),t.fileids.push(t._getFileId(e)),t.$element},getFileStack:function(e){return this.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e._inputFileCount();return e._getFileCount(t)},readFiles:function(i){this.reader=new FileReader;var n,r=this,o=r.$element,a=r.$preview,s=r.reader,l=r.$previewContainer,c=r.$previewStatus,u=r.msgLoading,d=r.msgProgress,p=r.previewInitId,h=i.length,f=r.fileTypeSettings,g=r.filestack.length,m=r.allowedFileTypes,v=m?m.length:0,y=r.allowedFileExtensions,b=t.isEmpty(y)?"":y.join(", "),w=r.maxFilePreviewSize&&parseFloat(r.maxFilePreviewSize),_=a.length&&(!w||isNaN(w)),x=function(t,o,a,s){var l,c=e.extend(!0,{},r._getOutData({},{},i),{id:a,index:s}),u={id:a,index:s,file:o,files:i};r._previewDefault(o,a,!0),r.isAjaxUpload?(r.addToStack(void 0),setTimeout(function(){n(s+1)},100)):h=0,r._initFileActions(),l=e("#"+a),l.find(".kv-file-upload").hide(),r.removeFromPreviewOnError&&l.remove(),r.isError=r.isAjaxUpload?r._showUploadError(t,c):r._showError(t,u),r._updateFileDetails(h)};r.loadedImages=[],r.totalImagesCount=0,e.each(i,function(e,t){var i=r.fileTypeSettings.image;i&&i(t.type)&&r.totalImagesCount++}),n=function(S){if(t.isEmpty(o.attr("multiple"))&&(h=1),S>=h)return r.isAjaxUpload&&r.filestack.length>0?r._raise("filebatchselected",[r.getFileStack()]):r._raise("filebatchselected",[i]),l.removeClass("file-thumb-loading"),void c.html("");var C,k,T,D,A,E,I,$,P,O,R,F,L=g+S,j=p+"-"+L,M=i[S],N=f.text,B=f.image,z=f.html,U=r._getFileName(M,""),H=(M&&M.size||0)/1e3,q="",G=t.createObjectURL(M),W=0,V="",K=0,Z=function(){var e=d.setTokens({index:S+1,files:h,percent:50,name:U});setTimeout(function(){c.html(e),r._updateFileDetails(h),n(S+1)},100),r._raise("fileloaded",[M,j,S,s])};if(M){if(v>0)for(k=0;k<v;k++)E=m[k],I=r.msgFileTypes[E]||E,V+=0===k?I:", "+I;if(!1===U)return void n(S+1);if(0===U.length)return T=r.msgInvalidFileName.replace("{name}",t.htmlEncode(t.getFileName(M),"[unknown]")),void x(T,M,j,S);if(t.isEmpty(y)||(q=new RegExp("\\.("+y.join("|")+")$","i")),C=H.toFixed(2),r.maxFileSize>0&&H>r.maxFileSize)return T=r.msgSizeTooLarge.setTokens({name:U,size:C,maxSize:r.maxFileSize}),void x(T,M,j,S);if(null!==r.minFileSize&&H<=t.getNum(r.minFileSize))return T=r.msgSizeTooSmall.setTokens({name:U,size:C,minSize:r.minFileSize}),void x(T,M,j,S);if(!t.isEmpty(m)&&t.isArray(m)){for(k=0;k<m.length;k+=1)D=m[k],$=f[D],W+=$&&"function"==typeof $&&$(M.type,t.getFileName(M))?1:0;if(0===W)return T=r.msgInvalidFileType.setTokens({name:U,types:V}),void x(T,M,j,S)}if(0===W&&!t.isEmpty(y)&&t.isArray(y)&&!t.isEmpty(q)&&(A=t.compare(U,q),0===(W+=t.isEmpty(A)?0:A.length)))return T=r.msgInvalidFileExtension.setTokens({name:U,extensions:b}),void x(T,M,j,S);if(!r.showPreview)return r.isAjaxUpload&&r.addToStack(M),setTimeout(function(){n(S+1),r._updateFileDetails(h)},100),void r._raise("fileloaded",[M,j,S,s]);if(!_&&H>w)return r.addToStack(M),l.addClass("file-thumb-loading"),r._previewDefault(M,j),r._initFileActions(),r._updateFileDetails(h),void n(S+1);a.length&&void 0!==FileReader?(P=N(M.type,U),O=z(M.type,U),R=B(M.type,U),c.html(u.replace("{index}",S+1).replace("{files}",h)),l.addClass("file-thumb-loading"),s.onerror=function(e){r._errorHandler(e,U)},s.onload=function(i){var n,o,a,l,c,u,d=[];if(o={name:U,type:M.type},e.each(f,function(e,t){"object"!==e&&"other"!==e&&"function"==typeof t&&t(M.type,U)&&K++}),0===K){for(a=new Uint8Array(i.target.result),k=0;k<a.length;k++)l=a[k].toString(16),d.push(l);if(n=d.join("").toLowerCase().substring(0,8),u=t.getMimeType(n,"",""),t.isEmpty(u)&&(c=t.arrayBuffer2String(s.result),u=t.isSvg(c)?"image/svg+xml":t.getMimeType(n,c,M.type)),o={name:U,type:u},P=N(u,""),O=z(u,""),R=B(u,""),(F=P||O)||R)return void function(e){var t=new FileReader;t.onerror=function(e){r._errorHandler(e,U)},t.onload=function(e){r._previewFile(S,M,e,j,G,o),r._initFileActions(),Z()},e?t.readAsText(M,r.textEncoding):t.readAsDataURL(M)}(F)}r._previewFile(S,M,i,j,G,o),r._initFileActions(),Z()},s.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);T=d.setTokens({index:S+1,files:h,percent:i,name:U}),setTimeout(function(){c.html(T)},100)}},P||O?s.readAsText(M,r.textEncoding):R?s.readAsDataURL(M):s.readAsArrayBuffer(M)):(r._previewDefault(M,j),setTimeout(function(){n(S+1),r._updateFileDetails(h)},100),r._raise("fileloaded",[M,j,S,s])),r.addToStack(M)}},n(0),r._updateFileDetails(h,!1)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&e.$container.find(".fileinput-remove").hide(),e.showCancel&&e.$container.find(".fileinput-cancel").show(),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&t.$container.find(".fileinput-cancel").hide(),t.showRemove&&t.$container.find(".fileinput-remove").show(),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var t,i=this,n=i.ajaxRequests,r=n.length;if(r>0)for(t=0;t<r;t+=1)i.cancelling=!0,n[t].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[n]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var i,n=this;if(n._raise("fileclear"))return n.$btnUpload.removeAttr("disabled"),n._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),n._clearFileInput(),n._resetUpload(),n.clearStack(),n._resetErrors(!0),n._hasInitialPreview()?(n._showFileIcon(),n._resetPreview(),n._initPreviewActions(),n.$container.removeClass("file-input-new")):(n._getThumbs().each(function(){n._clearObjects(e(this))}),n.isAjaxUpload&&(n.previewCache.data={}),n.$preview.html(""),i=!n.overwriteInitial&&n.initialCaption.length>0?n.initialCaption:"",n.$caption.attr("title","").val(i),t.addCss(n.$container,"file-input-new"),n._validateDefaultPreview()),0===n.$container.find(t.FRAMES).length&&(n._initCaption()||n.$captionContainer.removeClass("icon-visible")),n._hideFileIcon(),n._raise("filecleared"),n.$captionContainer.focus(),n._setFileDropZoneTitle(),n.$element},reset:function(){var e=this;if(e._raise("filereset"))return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),t.addCss(e.$container,"file-input-new"),(e.getFrames().length||e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.clearStack(),e.formdata={},e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.addCss(e.$container.find(".btn-file"),"disabled"),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.$container.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var i,n,r,o=this,a=o.getFileStack().length,s=!e.isEmptyObject(o._getExtraData());if(o.isAjaxUpload&&!o.isDisabled&&o._isFileSelectionValid(a)){if(o._resetUpload(),0===a&&!s)return void o._showUploadError(o.msgUploadEmpty);if(o.$progress.show(),o.uploadCount=0,o.uploadStatus={},o.uploadLog=[],o.lock(),o._setProgress(2),0===a&&s)return void o._uploadExtraOnly();if(r=o.filestack.length,o.hasInitData=!1,!o.uploadAsync)return o._uploadBatch(),o.$element;for(n=o._getOutData(),o._raise("filebatchpreupload",[n]),o.fileBatchCompleted=!1,o.uploadCache={content:[],config:[],tags:[],append:!0},o.uploadAsyncCount=o.getFileStack().length,i=0;i<r;i++)o.uploadCache.content[i]=null,o.uploadCache.config[i]=null,o.uploadCache.tags[i]=null;for(o.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),o._initSortable(),o.cacheInitialPreview=o.getPreview(),i=0;i<r;i++)o.filestack[i]&&o._uploadSingle(i,!0)}},destroy:function(){var t=this,i=t.$form,n=t.$container,r=t.$element,o=t.namespace;return e(document).off(o),e(window).off(o),i&&i.length&&i.off(o),t.isAjaxUpload&&t._clearFileInput(),t._cleanup(),t._initPreviewCache(),r.insertBefore(n).off(o).removeData(),n.off().remove(),r},refresh:function(i){var n=this,r=n.$element;return i="object"!=typeof i||t.isEmpty(i)?n.options:e.extend(!0,{},n.options,i),n._init(i,!0),n._listen(),r},zoom:function(e){var i=this,n=i._getFrame(e),r=i.$modal;n&&(t.initModal(r),r.html(i._getModalContent()),i._setZoomContent(n),r.modal("show"),i._initZoomButtons())},getExif:function(e){var t=this,i=t._getFrame(e);return i&&i.data("exif")||null},getFrames:function(i){var n,r=this;return i=i||"",n=r.$preview.find(t.FRAMES+i),r.reversePreviewOrder&&(n=e(n.get().reverse())),n},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}},e.fn.fileinput=function(n){if(t.hasFileAPISupport()||t.isIE(9)){var r=Array.apply(null,arguments),o=[];switch(r.shift(),this.each(function(){var a,s=e(this),l=s.data("fileinput"),c="object"==typeof n&&n,u=c.theme||s.data("theme"),d={},p={},h=c.language||s.data("language")||e.fn.fileinput.defaults.language||"en";l||(u&&(p=e.fn.fileinputThemes[u]||{}),"en"===h||t.isEmpty(e.fn.fileinputLocales[h])||(d=e.fn.fileinputLocales[h]||{}),a=e.extend(!0,{},e.fn.fileinput.defaults,p,e.fn.fileinputLocales.en,d,c,s.data()),l=new i(this,a),s.data("fileinput",l)),"string"==typeof n&&o.push(l[n].apply(l,r))}),o.length){case 0:return this;case 1:return o[0];default:return o}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:function(){var e=window.navigator.userAgent,t=!!e.match(/WebKit/i);return!(!!e.match(/iP(od|ad|hone)/i)&&t&&!e.match(/CriOS/i))},required:!1,rtl:!1,hideThumbnailContent:!1,encodeUrl:!0,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},previewTemplates:{},previewContentTemplates:{},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:t.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"},usePdfRenderer:function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;return!!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i)||e},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},e.fn.fileinput.Constructor=i,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})}),function(){"use strict";function e(e){return JSON.parse(JSON.stringify(e))}function t(e){for(var t=d(e);""<=t[1].slice(0,2)&&t[1].slice(0,2)<="";)t=[t[0]].concat(t.slice(2));return t.join("")}function i(e){return l(">"+u("B",e.length),e)}function n(e){return l(">"+u("H",e.length),e)}function r(e){return l(">"+u("L",e.length),e)}function o(e,t,o){var a,s,c,d,p="",h="";if("Byte"==t)a=e.length,a<=4?h=i(e)+u("\0",4-a):(h=l(">L",[o]),p=i(e));else if("Short"==t)a=e.length,a<=2?h=n(e)+u("\0\0",2-a):(h=l(">L",[o]),p=n(e));else if("Long"==t)a=e.length,a<=1?h=r(e):(h=l(">L",[o]),p=r(e));else if("Ascii"==t)s=e+"\0",a=s.length,a>4?(h=l(">L",[o]),p=s):h=s+u("\0",4-a);else if("Rational"==t){if("number"==typeof e[0])a=1,c=e[0],d=e[1],s=l(">L",[c])+l(">L",[d]);else{a=e.length,s="";for(var f=0;f<a;f++)c=e[f][0],d=e[f][1],s+=l(">L",[c])+l(">L",[d])}h=l(">L",[o]),p=s}else if("SRational"==t){if("number"==typeof e[0])a=1,c=e[0],d=e[1],s=l(">l",[c])+l(">l",[d]);else{a=e.length,s="";for(var f=0;f<a;f++)c=e[f][0],d=e[f][1],s+=l(">l",[c])+l(">l",[d])}h=l(">L",[o]),p=s}else"Undefined"==t&&(a=e.length,a>4?(h=l(">L",[o]),p=e):h=e+u("\0",4-a));return[l(">L",[a]),h,p]}function a(e,t,i){var n,r=Object.keys(e).length,a=l(">H",[r]);n=["0th","1st"].indexOf(t)>-1?2+12*r+4:2+12*r;var s,c="",u="";for(var s in e)if("string"==typeof s&&(s=parseInt(s)),!("0th"==t&&[34665,34853].indexOf(s)>-1||"Exif"==t&&40965==s||"1st"==t&&[513,514].indexOf(s)>-1)){var d=e[s],p=l(">H",[s]),h=y[t][s].type,f=l(">H",[v[h]]);"number"==typeof d&&(d=[d]);var g=8+n+i+u.length,m=o(d,h,g),b=m[0],w=m[1],_=m[2];c+=p+f+b+w,u+=_}return[a+c,u]}function s(e){var t,i;if(""==e.slice(0,2))t=d(e),i=p(t),this.tiftag=i?i.slice(10):null;else if(["II","MM"].indexOf(e.slice(0,2))>-1)this.tiftag=e;else{if("Exif"!=e.slice(0,4))throw"Given file is neither JPEG nor TIFF.";this.tiftag=e.slice(6)}}function l(e,t){if(!(t instanceof Array))throw"'pack' error. Got invalid type argument.";if(e.length-1!=t.length)throw"'pack' error. "+(e.length-1)+" marks, "+t.length+" elements.";var i;if("<"==e[0])i=!0;else{if(">"!=e[0])throw"";i=!1}for(var n="",r=1,o=null,a=null,s=null;a=e[r];){if("b"==a.toLowerCase()){if(o=t[r-1],"b"==a&&o<0&&(o+=256),o>255||o<0)throw"'pack' error.";s=String.fromCharCode(o)}else if("H"==a){if((o=t[r-1])>65535||o<0)throw"'pack' error.";s=String.fromCharCode(Math.floor(o%65536/256))+String.fromCharCode(o%256),i&&(s=s.split("").reverse().join(""))}else{if("l"!=a.toLowerCase())throw"'pack' error.";if(o=t[r-1],"l"==a&&o<0&&(o+=4294967296),o>4294967295||o<0)throw"'pack' error.";s=String.fromCharCode(Math.floor(o/16777216))+String.fromCharCode(Math.floor(o%16777216/65536))+String.fromCharCode(Math.floor(o%65536/256))+String.fromCharCode(o%256),i&&(s=s.split("").reverse().join(""))}n+=s,r+=1}return n}function c(e,t){if("string"!=typeof t)throw"'unpack' error. Got invalid type argument.";for(var i=0,n=1;n<e.length;n++)if("b"==e[n].toLowerCase())i+=1;else if("h"==e[n].toLowerCase())i+=2;else{if("l"!=e[n].toLowerCase())throw"'unpack' error. Got invalid mark.";i+=4}if(i!=t.length)throw"'unpack' error. Mismatch between symbol and string length. "+i+":"+t.length;var r;if("<"==e[0])r=!0;else{if(">"!=e[0])throw"'unpack' error.";r=!1}for(var o=[],a=0,s=1,l=null,c=null,u=null,d="";c=e[s];){if("b"==c.toLowerCase())u=1,d=t.slice(a,a+u),l=d.charCodeAt(0),"b"==c&&l>=128&&(l-=256);else if("H"==c)u=2,d=t.slice(a,a+u),r&&(d=d.split("").reverse().join("")),l=256*d.charCodeAt(0)+d.charCodeAt(1);else{if("l"!=c.toLowerCase())throw"'unpack' error. "+c;u=4,d=t.slice(a,a+u),r&&(d=d.split("").reverse().join("")),l=16777216*d.charCodeAt(0)+65536*d.charCodeAt(1)+256*d.charCodeAt(2)+d.charCodeAt(3),"l"==c&&l>=2147483648&&(l-=4294967296)}o.push(l),a+=u,s+=1}return o}function u(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}function d(e){if(""!=e.slice(0,2))throw"Given data isn't JPEG.";for(var t=2,i=[""];;){if(""==e.slice(t,t+2)){i.push(e.slice(t));break}var n=c(">H",e.slice(t+2,t+4))[0],r=t+n+2;if(i.push(e.slice(t,r)),(t=r)>=e.length)throw"Wrong JPEG data."}return i}function p(e){for(var t,i=0;i<e.length;i++)if(t=e[i],""==t.slice(0,2)&&"Exif\0\0"==t.slice(4,10))return t;return null}function h(e,t){return""==e[1].slice(0,2)&&""==e[2].slice(0,2)&&"Exif\0\0"==e[2].slice(4,10)?t?(e[2]=t,e=[""].concat(e.slice(2))):e=null==t?e.slice(0,2).concat(e.slice(3)):e.slice(0).concat(e.slice(2)):""==e[1].slice(0,2)?t&&(e[1]=t):""==e[1].slice(0,2)&&"Exif\0\0"==e[1].slice(4,10)?t?e[1]=t:null==t&&(e=e.slice(0).concat(e.slice(2))):t&&(e=[e[0],t].concat(e.slice(1))),e.join("")}var f={};if(f.version="1.03",f.remove=function(e){var t=!1;if(""==e.slice(0,2));else{if("data:image/jpeg;base64,"!=e.slice(0,23)&&"data:image/jpg;base64,"!=e.slice(0,22))throw"Given data is not jpeg."
;e=m(e.split(",")[1]),t=!0}var i=d(e);if(""==i[1].slice(0,2)&&"Exif\0\0"==i[1].slice(4,10))i=[i[0]].concat(i.slice(2));else{if(""!=i[2].slice(0,2)||"Exif\0\0"!=i[2].slice(4,10))throw"Exif not found.";i=i.slice(0,2).concat(i.slice(3))}var n=i.join("");return t&&(n="data:image/jpeg;base64,"+g(n)),n},f.insert=function(e,t){var i=!1;if("Exif\0\0"!=e.slice(0,6))throw"Given data is not exif.";if(""==t.slice(0,2));else{if("data:image/jpeg;base64,"!=t.slice(0,23)&&"data:image/jpg;base64,"!=t.slice(0,22))throw"Given data is not jpeg.";t=m(t.split(",")[1]),i=!0}var n=""+l(">H",[e.length+2])+e,r=d(t),o=h(r,n);return i&&(o="data:image/jpeg;base64,"+g(o)),o},f.load=function(e){var t;if("string"!=typeof e)throw"'load' gots invalid type argument.";if(""==e.slice(0,2))t=e;else if("data:image/jpeg;base64,"==e.slice(0,23)||"data:image/jpg;base64,"==e.slice(0,22))t=m(e.split(",")[1]);else{if("Exif"!=e.slice(0,4))throw"'load' gots invalid file data.";t=e.slice(6)}var i={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},n=new s(t);if(null===n.tiftag)return i;"II"==n.tiftag.slice(0,2)?n.endian_mark="<":n.endian_mark=">";var r=c(n.endian_mark+"L",n.tiftag.slice(4,8))[0];i["0th"]=n.get_ifd(r,"0th");var o=i["0th"].first_ifd_pointer;if(delete i["0th"].first_ifd_pointer,34665 in i["0th"]&&(r=i["0th"][34665],i.Exif=n.get_ifd(r,"Exif")),34853 in i["0th"]&&(r=i["0th"][34853],i.GPS=n.get_ifd(r,"GPS")),40965 in i.Exif&&(r=i.Exif[40965],i.Interop=n.get_ifd(r,"Interop")),"\0\0\0\0"!=o&&(r=c(n.endian_mark+"L",o)[0],i["1st"]=n.get_ifd(r,"1st"),513 in i["1st"]&&514 in i["1st"])){var a=i["1st"][513]+i["1st"][514],l=n.tiftag.slice(i["1st"][513],a);i.thumbnail=l}return i},f.dump=function(i){var n,r,o,s,c,u=e(i),d=!1,p=!1,h=!1,g=!1;n="0th"in u?u["0th"]:{},"Exif"in u&&Object.keys(u.Exif).length||"Interop"in u&&Object.keys(u.Interop).length?(n[34665]=1,d=!0,r=u.Exif,"Interop"in u&&Object.keys(u.Interop).length?(r[40965]=1,h=!0,o=u.Interop):Object.keys(r).indexOf(f.ExifIFD.InteroperabilityTag.toString())>-1&&delete r[40965]):Object.keys(n).indexOf(f.ImageIFD.ExifTag.toString())>-1&&delete n[34665],"GPS"in u&&Object.keys(u.GPS).length?(n[f.ImageIFD.GPSTag]=1,p=!0,s=u.GPS):Object.keys(n).indexOf(f.ImageIFD.GPSTag.toString())>-1&&delete n[f.ImageIFD.GPSTag],"1st"in u&&"thumbnail"in u&&null!=u.thumbnail&&(g=!0,u["1st"][513]=1,u["1st"][514]=1,c=u["1st"]);var m,y,b,w,_,x=a(n,"0th",0),S=x[0].length+12*d+12*p+4+x[1].length,C="",k=0,T="",D=0,A="",E=0,I="";if(d&&(m=a(r,"Exif",S),k=m[0].length+12*h+m[1].length),p&&(y=a(s,"GPS",S+k),T=y.join(""),D=T.length),h){var $=S+k+D;b=a(o,"Interop",$),A=b.join(""),E=A.length}if(g){var $=S+k+D+E;if(w=a(c,"1st",$),_=t(u.thumbnail),_.length>64e3)throw"Given thumbnail is too large. max 64kB"}var P="",O="",R="",F="\0\0\0\0";if(d){var L=8+S,j=l(">L",[L]),M=34665,N=l(">H",[M]),B=l(">H",[v.Long]),z=l(">L",[1]);P=N+B+z+j}if(p){var L=8+S+k,j=l(">L",[L]),M=34853,N=l(">H",[M]),B=l(">H",[v.Long]),z=l(">L",[1]);O=N+B+z+j}if(h){var L=8+S+k+D,j=l(">L",[L]),M=40965,N=l(">H",[M]),B=l(">H",[v.Long]),z=l(">L",[1]);R=N+B+z+j}if(g){var L=8+S+k+D+E;F=l(">L",[L]);var U=L+w[0].length+24+4+w[1].length,H="\0\0\0\0"+l(">L",[U]),q="\0\0\0\0"+l(">L",[_.length]);I=w[0]+H+q+"\0\0\0\0"+w[1]+_}var G=x[0]+P+O+F+x[1];return d&&(C=m[0]+R+m[1]),"Exif\0\0MM\0*\0\0\0\b"+G+C+T+A+I},s.prototype={get_ifd:function(e,t){var i,n={},r=c(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],o=e+2;i=["0th","1st"].indexOf(t)>-1?"Image":t;for(var a=0;a<r;a++){e=o+12*a;var s=c(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],l=c(this.endian_mark+"H",this.tiftag.slice(e+2,e+4))[0],u=c(this.endian_mark+"L",this.tiftag.slice(e+4,e+8))[0],d=this.tiftag.slice(e+8,e+12),p=[l,u,d];s in y[i]&&(n[s]=this.convert_value(p))}return"0th"==t&&(e=o+12*r,n.first_ifd_pointer=this.tiftag.slice(e,e+4)),n},convert_value:function(e){var t,i=null,n=e[0],r=e[1],o=e[2];if(1==n)r>4?(t=c(this.endian_mark+"L",o)[0],i=c(this.endian_mark+u("B",r),this.tiftag.slice(t,t+r))):i=c(this.endian_mark+u("B",r),o.slice(0,r));else if(2==n)r>4?(t=c(this.endian_mark+"L",o)[0],i=this.tiftag.slice(t,t+r-1)):i=o.slice(0,r-1);else if(3==n)r>2?(t=c(this.endian_mark+"L",o)[0],i=c(this.endian_mark+u("H",r),this.tiftag.slice(t,t+2*r))):i=c(this.endian_mark+u("H",r),o.slice(0,2*r));else if(4==n)r>1?(t=c(this.endian_mark+"L",o)[0],i=c(this.endian_mark+u("L",r),this.tiftag.slice(t,t+4*r))):i=c(this.endian_mark+u("L",r),o);else if(5==n)if(t=c(this.endian_mark+"L",o)[0],r>1){i=[];for(var a=0;a<r;a++)i.push([c(this.endian_mark+"L",this.tiftag.slice(t+8*a,t+4+8*a))[0],c(this.endian_mark+"L",this.tiftag.slice(t+4+8*a,t+8+8*a))[0]])}else i=[c(this.endian_mark+"L",this.tiftag.slice(t,t+4))[0],c(this.endian_mark+"L",this.tiftag.slice(t+4,t+8))[0]];else if(7==n)r>4?(t=c(this.endian_mark+"L",o)[0],i=this.tiftag.slice(t,t+r)):i=o.slice(0,r);else{if(10!=n)throw"Exif might be wrong. Got incorrect value type to decode. type:"+n;if(t=c(this.endian_mark+"L",o)[0],r>1){i=[];for(var a=0;a<r;a++)i.push([c(this.endian_mark+"l",this.tiftag.slice(t+8*a,t+4+8*a))[0],c(this.endian_mark+"l",this.tiftag.slice(t+4+8*a,t+8+8*a))[0]])}else i=[c(this.endian_mark+"l",this.tiftag.slice(t,t+4))[0],c(this.endian_mark+"l",this.tiftag.slice(t+4,t+8))[0]]}return i instanceof Array&&1==i.length?i[0]:i}},"undefined"!=typeof window&&"function"==typeof window.btoa)var g=window.btoa;if(void 0===g)var g=function(e){for(var t,i,n,r,o,a,s,l="",c=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c<e.length;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),n=e.charCodeAt(c++),r=t>>2,o=(3&t)<<4|i>>4,a=(15&i)<<2|n>>6,s=63&n,isNaN(i)?a=s=64:isNaN(n)&&(s=64),l=l+u.charAt(r)+u.charAt(o)+u.charAt(a)+u.charAt(s);return l};if("undefined"!=typeof window&&"function"==typeof window.atob)var m=window.atob;if(void 0===m)var m=function(e){var t,i,n,r,o,a,s,l="",c=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=u.indexOf(e.charAt(c++)),o=u.indexOf(e.charAt(c++)),a=u.indexOf(e.charAt(c++)),s=u.indexOf(e.charAt(c++)),t=r<<2|o>>4,i=(15&o)<<4|a>>2,n=(3&a)<<6|s,l+=String.fromCharCode(t),64!=a&&(l+=String.fromCharCode(i)),64!=s&&(l+=String.fromCharCode(n));return l};var v={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},y={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};y["0th"]=y.Image,y["1st"]=y.Image,f.TAGS=y,f.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},f.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},f.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},f.InteropIFD={InteroperabilityIndex:1},f.GPSHelper={degToDmsRational:function(e){var t=e%1*60,i=t%1*60;return[[Math.floor(e),1],[Math.floor(t),1],[Math.round(100*i),100]]}},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports.piexif=f):window.piexif=f}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.DOMPurify=t()}(this,function(){"use strict";function e(e,t){for(var i=t.length;i--;)"string"==typeof t[i]&&(t[i]=t[i].toLowerCase()),e[t[i]]=!0;return e}function t(e){var t={},i=void 0;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_(),S=function(e){return n(e)};if(S.version="1.0.7",S.removed=[],!x||!x.document||9!==x.document.nodeType)return S.isSupported=!1,S;var C=x.document,k=!1,T=!1,D=x.document,A=x.DocumentFragment,E=x.HTMLTemplateElement,I=x.Node,$=x.NodeFilter,P=x.NamedNodeMap,O=void 0===P?x.NamedNodeMap||x.MozNamedAttrMap:P,R=x.Text,F=x.Comment,L=x.DOMParser;if("function"==typeof E){var j=D.createElement("template");j.content&&j.content.ownerDocument&&(D=j.content.ownerDocument)}var M=D,N=M.implementation,B=M.createNodeIterator,z=M.getElementsByTagName,U=M.createDocumentFragment,H=C.importNode,q={};S.isSupported=N&&void 0!==N.createHTMLDocument&&9!==D.documentMode;var G=h,W=f,V=g,K=m,Z=y,Q=b,Y=v,X=null,J=e({},[].concat(i(r),i(o),i(a),i(s),i(l))),ee=null,te=e({},[].concat(i(c),i(u),i(d),i(p))),ie=null,ne=null,re=!0,oe=!0,ae=!1,se=!1,le=!1,ce=!1,ue=!1,de=!1,pe=!1,he=!1,fe=!1,ge=!0,me=!0,ve=!1,ye={},be=e({},["audio","head","math","script","style","template","svg","video"]),we=e({},["audio","video","img","source","image"]),_e=e({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xe=null,Se=D.createElement("form"),Ce=function(n){"object"!==(void 0===n?"undefined":w(n))&&(n={}),X="ALLOWED_TAGS"in n?e({},n.ALLOWED_TAGS):J,ee="ALLOWED_ATTR"in n?e({},n.ALLOWED_ATTR):te,ie="FORBID_TAGS"in n?e({},n.FORBID_TAGS):{},ne="FORBID_ATTR"in n?e({},n.FORBID_ATTR):{},ye="USE_PROFILES"in n&&n.USE_PROFILES,re=!1!==n.ALLOW_ARIA_ATTR,oe=!1!==n.ALLOW_DATA_ATTR,ae=n.ALLOW_UNKNOWN_PROTOCOLS||!1,se=n.SAFE_FOR_JQUERY||!1,le=n.SAFE_FOR_TEMPLATES||!1,ce=n.WHOLE_DOCUMENT||!1,pe=n.RETURN_DOM||!1,he=n.RETURN_DOM_FRAGMENT||!1,fe=n.RETURN_DOM_IMPORT||!1,de=n.FORCE_BODY||!1,ge=!1!==n.SANITIZE_DOM,me=!1!==n.KEEP_CONTENT,ve=n.IN_PLACE||!1,Y=n.ALLOWED_URI_REGEXP||Y,le&&(oe=!1),he&&(pe=!0),ye&&(X=e({},[].concat(i(l))),ee=[],!0===ye.html&&(e(X,r),e(ee,c)),!0===ye.svg&&(e(X,o),e(ee,u),e(ee,p)),!0===ye.svgFilters&&(e(X,a),e(ee,u),e(ee,p)),!0===ye.mathMl&&(e(X,s),e(ee,d),e(ee,p))),n.ADD_TAGS&&(X===J&&(X=t(X)),e(X,n.ADD_TAGS)),n.ADD_ATTR&&(ee===te&&(ee=t(ee)),e(ee,n.ADD_ATTR)),n.ADD_URI_SAFE_ATTR&&e(_e,n.ADD_URI_SAFE_ATTR),me&&(X["#text"]=!0),ce&&e(X,["html","head","body"]),X.table&&e(X,["tbody"]),Object&&"freeze"in Object&&Object.freeze(n),xe=n},ke=function(e){S.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Te=function(e,t){try{S.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){S.removed.push({attribute:null,from:t})}t.removeAttribute(e)},De=function(t){var i=void 0;if(de&&(t="<remove></remove>"+t),k)try{i=(new L).parseFromString(t,"text/html")}catch(e){}if(T&&e(ie,["title"]),!i||!i.documentElement){i=N.createHTMLDocument("");var n=i,r=n.body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=t}return z.call(i,ce?"html":"body")[0]};S.isSupported&&(function(){try{De('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img")&&(k=!0)}catch(e){}}(),function(){try{De("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").textContent.match(/<\/title/)&&(T=!0)}catch(e){}}());var Ae=function(e){return B.call(e.ownerDocument||e,e,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,function(){return $.FILTER_ACCEPT},!1)},Ee=function(e){return!(e instanceof R||e instanceof F)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof O&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Ie=function(e){return"object"===(void 0===I?"undefined":w(I))?e instanceof I:e&&"object"===(void 0===e?"undefined":w(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},$e=function(e,t,i){q[e]&&q[e].forEach(function(e){e.call(S,t,i,xe)})},Pe=function(e){var t=void 0;if($e("beforeSanitizeElements",e,null),Ee(e))return ke(e),!0;var i=e.nodeName.toLowerCase();if($e("uponSanitizeElement",e,{tagName:i,allowedTags:X}),!X[i]||ie[i]){if(me&&!be[i]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return ke(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(S.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),le&&3===e.nodeType&&(t=e.textContent,t=t.replace(G," "),t=t.replace(W," "),e.textContent!==t&&(S.removed.push({element:e.cloneNode()}),e.textContent=t)),$e("afterSanitizeElements",e,null),!1},Oe=function(e,t,i){if(ge&&("id"===t||"name"===t)&&(i in D||i in Se))return!1;if(le&&(i=i.replace(G," "),i=i.replace(W," ")),oe&&V.test(t));else if(re&&K.test(t));else{if(!ee[t]||ne[t])return!1;if(_e[t]);else if(Y.test(i.replace(Q,"")));else if("src"!==t&&"xlink:href"!==t||0!==i.indexOf("data:")||!we[e]){if(ae&&!Z.test(i.replace(Q,"")));else if(i)return!1}else;}return!0},Re=function(e){var t=void 0,i=void 0,n=void 0,r=void 0,o=void 0;$e("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(o=a.length;o--;){t=a[o];var l=t,c=l.name;if(i=t.value.trim(),n=c.toLowerCase(),s.attrName=n,s.attrValue=i,s.keepAttr=!0,$e("uponSanitizeAttribute",e,s),i=s.attrValue,"name"===n&&"IMG"===e.nodeName&&a.id)r=a.id,a=Array.prototype.slice.apply(a),Te("id",e),Te(c,e),a.indexOf(r)>o&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===n&&"file"===i&&(ee[n]||!ne[n]))continue;"id"===c&&e.setAttribute(c,""),Te(c,e)}if(s.keepAttr){var u=e.nodeName.toLowerCase();if(Oe(u,n,i))try{e.setAttribute(c,i),S.removed.pop()}catch(e){}}}$e("afterSanitizeAttributes",e,null)}},Fe=function e(t){var i=void 0,n=Ae(t);for($e("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)$e("uponSanitizeShadowNode",i,null),Pe(i)||(i.content instanceof A&&e(i.content),Re(i));$e("afterSanitizeShadowDOM",t,null)};return S.sanitize=function(e,t){var i=void 0,n=void 0,r=void 0,o=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ie(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!S.isSupported){if("object"===w(x.toStaticHTML)||"function"==typeof x.toStaticHTML){if("string"==typeof e)return x.toStaticHTML(e);if(Ie(e))return x.toStaticHTML(e.outerHTML)}return e}if(ue||Ce(t),S.removed=[],
ve);else if(e instanceof I)i=De("\x3c!--\x3e"),n=i.ownerDocument.importNode(e,!0),1===n.nodeType&&"BODY"===n.nodeName?i=n:i.appendChild(n);else{if(!pe&&!ce&&-1===e.indexOf("<"))return e;if(!(i=De(e)))return pe?null:""}i&&de&&ke(i.firstChild);for(var s=Ae(ve?e:i);r=s.nextNode();)3===r.nodeType&&r===o||Pe(r)||(r.content instanceof A&&Fe(r.content),Re(r),o=r);if(ve)return e;if(pe){if(he)for(a=U.call(i.ownerDocument);i.firstChild;)a.appendChild(i.firstChild);else a=i;return fe&&(a=H.call(C,a,!0)),a}return ce?i.outerHTML:i.innerHTML},S.setConfig=function(e){Ce(e),ue=!0},S.clearConfig=function(){xe=null,ue=!1},S.isValidAttribute=function(e,t,i){xe||Ce({});var n=e.toLowerCase(),r=t.toLowerCase();return Oe(n,r,i)},S.addHook=function(e,t){"function"==typeof t&&(q[e]=q[e]||[],q[e].push(t))},S.removeHook=function(e){q[e]&&q[e].pop()},S.removeHooks=function(e){q[e]&&(q[e]=[])},S.removeAllHooks=function(){q={}},S}var r=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],o=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],a=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],s=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],l=["#text"],c=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],u=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],d=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],p=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],h=/\{\{[\s\S]*|[\s\S]*\}\}/gm,f=/<%[\s\S]*|[\s\S]*%>/gm,g=/^data-[\-\w.\u00B7-\uFFFF]/,m=/^aria-[\-\w]+$/,v=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,y=/^(?:\w+script|data):/i,b=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(){return"undefined"==typeof window?null:window};return n()}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,n){var r,o,a,s,l,c,u,d={},p=!0,h=!1,f=!1,g=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],_={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},x={},S=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},C=function(e){var i;return i=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):S()?t.tz(e,c,n.useStrict,n.timeZone):t(e,c,n.useStrict),S()&&i.tz(n.timeZone),i},k=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},T=function(){return k("h")||k("m")||k("s")},D=function(){return k("y")||k("M")||k("d")},A=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),i=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},E=function(){var t=e("<tr>"),i=e("<tr>"),r=e("<tr>");return k("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),k("m")&&(k("h")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),k("s")&&(k("m")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),s||(t.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,i,r]))},I=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[E()];return k("h")&&r.push(t),k("m")&&r.push(i),k("s")&&r.push(n),r},$=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&D()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},P=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=e("<div>").addClass("datepicker").append(A()),r=e("<div>").addClass("timepicker").append(I()),o=e("<ul>").addClass("list-unstyled"),a=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append($());return n.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),k("s")&&!s&&t.addClass("wider"),n.sideBySide&&D()&&T()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(a),t.append(e("<div>").addClass("row").append(i.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(a),t):("top"===n.toolbarPlacement&&o.append(a),D()&&o.append(e("<li>").addClass(n.collapse&&T()?"collapse in":"").append(i)),"default"===n.toolbarPlacement&&o.append(a),T()&&o.append(e("<li>").addClass(n.collapse&&D()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&o.append(a),t.append(o))},O=function(){var t,r=(h||i).position(),o=(h||i).offset(),a=n.widgetPositioning.vertical,s=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(n.inline)return void(t=i.append(f));t=i,i.children().first().after(f)}if("auto"===a&&(a=o.top+1.5*f.height()>=e(window).height()+e(window).scrollTop()&&f.height()+i.outerHeight()<o.top?"top":"bottom"),"auto"===s&&(s=t.width()<o.left+f.outerWidth()/2&&o.left+f.outerWidth()>e(window).width()?"right":"left"),"top"===a?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===s?f.addClass("pull-right"):f.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");f.css({top:"top"===a?"auto":r.top+i.outerHeight(),bottom:"top"===a?t.outerHeight()-(t===i?0:r.top):"auto",left:"left"===s?t===i?0:r.left:"auto",right:"left"===s?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:r.left)})},R=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||i.trigger(e)},F=function(e){"y"===e&&(e="YYYY"),R({type:"dp.update",change:e,viewDate:o.clone()})},L=function(e){f&&(e&&(u=Math.max(g,Math.min(3,u+e))),f.find(".datepicker > div").hide().filter(".datepicker-"+m[u].clsName).show())},j=function(){var t=e("<tr>"),i=o.clone().startOf("w").startOf("d");for(!0===n.calendarWeeks&&t.append(e("<th>").addClass("cw").text("#"));i.isBefore(o.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},M=function(e){return!0===n.disabledDates[e.format("YYYY-MM-DD")]},N=function(e){return!0===n.enabledDates[e.format("YYYY-MM-DD")]},B=function(e){return!0===n.disabledHours[e.format("H")]},z=function(e){return!0===n.enabledHours[e.format("H")]},U=function(t,i){if(!t.isValid())return!1;if(n.disabledDates&&"d"===i&&M(t))return!1;if(n.enabledDates&&"d"===i&&!N(t))return!1;if(n.minDate&&t.isBefore(n.minDate,i))return!1;if(n.maxDate&&t.isAfter(n.maxDate,i))return!1;if(n.daysOfWeekDisabled&&"d"===i&&-1!==n.daysOfWeekDisabled.indexOf(t.day()))return!1;if(n.disabledHours&&("h"===i||"m"===i||"s"===i)&&B(t))return!1;if(n.enabledHours&&("h"===i||"m"===i||"s"===i)&&!z(t))return!1;if(n.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},H=function(){for(var t=[],i=o.clone().startOf("y").startOf("d");i.isSame(o,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");f.find(".datepicker-months td").empty().append(t)},q=function(){var t=f.find(".datepicker-months"),i=t.find("th"),a=t.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear),i.eq(1).attr("title",n.tooltips.selectYear),i.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),U(o.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(o.year()),U(o.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),a.removeClass("active"),r.isSame(o,"y")&&!p&&a.eq(r.month()).addClass("active"),a.each(function(t){U(o.clone().month(t),"M")||e(this).addClass("disabled")})},G=function(){var e=f.find(".datepicker-years"),t=e.find("th"),i=o.clone().subtract(5,"y"),a=o.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+a.year()),n.maxDate&&n.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!i.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(i.isSame(r,"y")&&!p?" active":"")+(U(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");e.find("td").html(s)},W=function(){var e,i=f.find(".datepicker-decades"),a=i.find("th"),s=t({y:o.year()-o.year()%100-1}),l=s.clone().add(100,"y"),c=s.clone(),u=!1,d=!1,p="";for(a.eq(0).find("span").attr("title",n.tooltips.prevCentury),a.eq(2).find("span").attr("title",n.tooltips.nextCentury),i.find(".disabled").removeClass("disabled"),(s.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(s,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(s.year()+"-"+l.year()),(s.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(l,"y"))&&a.eq(2).addClass("disabled");!s.isAfter(l,"y");)e=s.year()+12,u=n.minDate&&n.minDate.isAfter(s,"y")&&n.minDate.year()<=e,d=n.maxDate&&n.maxDate.isAfter(s,"y")&&n.maxDate.year()<=e,p+='<span data-action="selectDecade" class="decade'+(r.isAfter(s)&&r.year()<=e?" active":"")+(U(s,"y")||u||d?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");p+="<span></span><span></span><span></span>",i.find("td").html(p),a.eq(1).text(c.year()+1+"-"+s.year())},V=function(){var t,i,a,s=f.find(".datepicker-days"),l=s.find("th"),c=[],u=[];if(D()){for(l.eq(0).find("span").attr("title",n.tooltips.prevMonth),l.eq(1).attr("title",n.tooltips.selectMonth),l.eq(2).find("span").attr("title",n.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),l.eq(1).text(o.format(n.dayViewHeaderFormat)),U(o.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),U(o.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),a=0;a<42;a++)0===t.weekday()&&(i=e("<tr>"),n.calendarWeeks&&i.append('<td class="cw">'+t.week()+"</td>"),c.push(i)),u=["day"],t.isBefore(o,"M")&&u.push("old"),t.isAfter(o,"M")&&u.push("new"),t.isSame(r,"d")&&!p&&u.push("active"),U(t,"d")||u.push("disabled"),t.isSame(C(),"d")&&u.push("today"),0!==t.day()&&6!==t.day()||u.push("weekend"),R({type:"dp.classify",date:t,classNames:u}),i.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+u.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(c),q(),G(),W()}},K=function(){var t=f.find(".timepicker-hours table"),i=o.clone().startOf("d"),n=[],r=e("<tr>");for(o.hour()>11&&!s&&i.hour(12);i.isSame(o,"d")&&(s||o.hour()<12&&i.hour()<12||o.hour()>11);)i.hour()%4==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(U(i,"h")?"":" disabled")+'">'+i.format(s?"HH":"hh")+"</td>"),i.add(1,"h");t.empty().append(n)},Z=function(){for(var t=f.find(".timepicker-minutes table"),i=o.clone().startOf("h"),r=[],a=e("<tr>"),s=1===n.stepping?5:n.stepping;o.isSame(i,"h");)i.minute()%(4*s)==0&&(a=e("<tr>"),r.push(a)),a.append('<td data-action="selectMinute" class="minute'+(U(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(s,"m");t.empty().append(r)},Q=function(){for(var t=f.find(".timepicker-seconds table"),i=o.clone().startOf("m"),n=[],r=e("<tr>");o.isSame(i,"m");)i.second()%20==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(U(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");t.empty().append(n)},Y=function(){var e,t,i=f.find(".timepicker span[data-time-component]");s||(e=f.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),U(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i.filter("[data-time-component=hours]").text(r.format(s?"HH":"hh")),i.filter("[data-time-component=minutes]").text(r.format("mm")),i.filter("[data-time-component=seconds]").text(r.format("ss")),K(),Z(),Q()},X=function(){f&&(V(),Y())},J=function(e){var t=p?null:r;if(!e)return p=!0,a.val(""),i.data("date",""),R({type:"dp.change",date:!1,oldDate:t}),void X();if(e=e.clone().locale(n.locale),S()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");U(e)?(r=e,o=r.clone(),a.val(r.format(l)),i.data("date",r.format(l)),p=!1,X(),R({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?R({type:"dp.change",date:e,oldDate:t}):a.val(p?"":r.format(l)),R({type:"dp.error",date:e,oldDate:t}))},ee=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=e(this).data("collapse");return!i||!i.transitioning||(t=!0,!1)}),t?d:(h&&h.hasClass("btn")&&h.toggleClass("active"),f.hide(),e(window).off("resize",O),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,R({type:"dp.hide",date:r.clone()}),a.blur(),o=r.clone(),d)):d},te=function(){J(null)},ie=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=C(e)):e=n.parseInputDate(e),e},ne={next:function(){var e=m[u].navFnc;o.add(m[u].navStep,e),V(),F(e)},previous:function(){var e=m[u].navFnc;o.subtract(m[u].navStep,e),V(),F(e)},pickerSwitch:function(){L(1)},selectMonth:function(t){var i=e(t.target).closest("tbody").find("span").index(e(t.target));o.month(i),u===g?(J(r.clone().year(o.year()).month(o.month())),n.inline||ee()):(L(-1),V()),F("M")},selectYear:function(t){var i=parseInt(e(t.target).text(),10)||0;o.year(i),u===g?(J(r.clone().year(o.year())),n.inline||ee()):(L(-1),V()),F("YYYY")},selectDecade:function(t){var i=parseInt(e(t.target).data("selection"),10)||0;o.year(i),u===g?(J(r.clone().year(o.year())),n.inline||ee()):(L(-1),V()),F("YYYY")},selectDay:function(t){var i=o.clone();e(t.target).is(".old")&&i.subtract(1,"M"),e(t.target).is(".new")&&i.add(1,"M"),J(i.date(parseInt(e(t.target).text(),10))),T()||n.keepOpen||n.inline||ee()},incrementHours:function(){var e=r.clone().add(1,"h");U(e,"h")&&J(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");U(e,"m")&&J(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");U(e,"s")&&J(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");U(e,"h")&&J(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");U(e,"m")&&J(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");U(e,"s")&&J(e)},togglePeriod:function(){J(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var i,r=e(t.target),o=r.closest("ul"),a=o.find(".in"),s=o.find(".collapse:not(.in)");if(a&&a.length){if((i=a.data("collapse"))&&i.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),r.is("span")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(e(t.target).text(),10);s||(r.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),J(r.clone().hours(i)),ne.showPicker.call(d)},selectMinute:function(t){J(r.clone().minutes(parseInt(e(t.target).text(),10))),ne.showPicker.call(d)},selectSecond:function(t){J(r.clone().seconds(parseInt(e(t.target).text(),10))),ne.showPicker.call(d)},clear:te,today:function(){var e=C();U(e,"d")&&J(e)},close:ee},re=function(t){return!e(t.currentTarget).is(".disabled")&&(ne[e(t.currentTarget).data("action")].apply(d,arguments),!1)},oe=function(){var t,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return a.prop("disabled")||!n.ignoreReadonly&&a.prop("readonly")||f?d:(void 0!==a.val()&&0!==a.val().trim().length?J(ie(a.val().trim())):p&&n.useCurrent&&(n.inline||a.is("input")&&0===a.val().trim().length)&&(t=C(),"string"==typeof n.useCurrent&&(t=i[n.useCurrent](t)),J(t)),f=P(),j(),H(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),X(),L(),e(window).on("resize",O),f.on("click","[data-action]",re),f.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),O(),f.show(),n.focusOnShow&&!a.is(":focus")&&a.focus(),R({type:"dp.show"}),d)},ae=function(){return f?ee():oe()},se=function(e){var t,i,r,o,a=null,s=[],l={},c=e.which;x[c]="p";for(t in x)x.hasOwnProperty(t)&&"p"===x[t]&&(s.push(t),parseInt(t,10)!==c&&(l[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" "),r.length===s.length&&_[c]===r[r.length-1])){for(o=!0,i=r.length-2;i>=0;i--)if(!(_[r[i]]in l)){o=!1;break}if(o){a=n.keyBinds[t];break}}a&&(a.call(d,f),e.stopPropagation(),e.preventDefault())},le=function(e){x[e.which]="r",e.stopPropagation(),e.preventDefault()},ce=function(t){var i=e(t.target).val().trim(),n=i?ie(i):null;return J(n),t.stopImmediatePropagation(),!1},ue=function(){a.off({change:ce,blur:blur,keydown:se,keyup:le,focus:n.allowInputToggle?ee:""}),i.is("input")?a.off({focus:oe}):h&&(h.off("click",ae),h.off("mousedown",!1))},de=function(t){var i={};return e.each(t,function(){var e=ie(this);e.isValid()&&(i[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},pe=function(t){var i={};return e.each(t,function(){i[this]=!0}),!!Object.keys(i).length&&i},he=function(){var e=n.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(r.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),c=n.extraFormats?n.extraFormats.slice():[],c.indexOf(e)<0&&c.indexOf(l)<0&&c.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,k("y")&&(g=2),k("M")&&(g=1),k("d")&&(g=0),u=Math.max(g,u),p||J(r)};if(d.destroy=function(){ee(),ue(),i.removeData("DateTimePicker"),i.removeData("date")},d.toggle=ae,d.show=oe,d.hide=ee,d.disable=function(){return ee(),h&&h.hasClass("btn")&&h.addClass("disabled"),a.prop("disabled",!0),d},d.enable=function(){return h&&h.hasClass("btn")&&h.removeClass("disabled"),a.prop("disabled",!1),d},d.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,d},d.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===d[e])throw new TypeError("option "+e+" is not recognized!");d[e](t)}),d},d.date=function(e){if(0===arguments.length)return p?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return J(null===e?null:ie(e)),d},d.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,l&&he(),d},d.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,d},d.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,d},d.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,c&&he(),d},d.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,X(),d;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=de(t),n.enabledDates=!1,X(),d},d.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,X(),d;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=de(t),n.disabledDates=!1,X(),d},d.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,X(),d;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return(t=parseInt(t,10))>6||t<0||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!U(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}J(r)}return X(),d},d.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&!1===e)return n.maxDate=!1,X(),d;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ie(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&J(n.maxDate),o.isAfter(t)&&(o=t.clone().subtract(n.stepping,"m")),X(),d},d.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&!1===e)return n.minDate=!1,X(),d
;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ie(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&J(n.minDate),o.isBefore(t)&&(o=t.clone().add(n.stepping,"m")),X(),d},d.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,d;"string"==typeof e&&(e="now"===e||"moment"===e?C():C(e));var t=ie(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!U(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===a.val().trim())&&J(n.defaultDate),d},d.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),o.locale(n.locale),l&&he(),f&&(ee(),oe()),d},d.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,d)},d.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,d},d.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?d:(n.collapse=e,f&&(ee(),oe()),d)},d.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),f&&(ee(),oe()),d},d.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),f&&(ee(),oe()),d},d.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,d},d.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,f&&(ee(),oe()),d},d.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return n.viewMode=e,u=Math.max(v.indexOf(e),g),L(),d},d.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return n.toolbarPlacement=e,f&&(ee(),oe()),d},d.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===b.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===y.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return X(),d},d.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,X(),d},d.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,f&&(ee(),oe()),d},d.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,f&&(ee(),oe()),d},d.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,f&&(ee(),oe()),d},d.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,d},d.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,d},d.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,d},d.clear=function(){return te(),d},d.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,d)},d.getMoment=function(e){return C(e)},d.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,d},d.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,d},d.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,d},d.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,d},d.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,d},d.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,d},d.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,X(),d;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,X(),d},d.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,X(),d;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=pe(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!U(r,"h");){if(r.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}J(r)}return X(),d},d.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,X(),d;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=pe(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!U(r,"h");){if(r.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}J(r)}return X(),d},d.viewDate=function(e){if(0===arguments.length)return o.clone();if(!e)return o=r.clone(),d;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=ie(e),F(),d},i.is("input"))a=i;else if(a=i.find(n.datepickerInput),0===a.length)a=i.find("input");else if(!a.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(h=0===i.find(".datepickerbutton").length?i.find(".input-group-addon"):i.find(".datepickerbutton")),!n.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=C(),o=r.clone(),e.extend(!0,n,function(){var t,r={};return t=i.is("input")||n.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var i="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[i]&&(r[e]=t[i])}),r}()),d.options(n),he(),function(){a.on({change:ce,blur:n.debug?"":ee,keydown:se,keyup:le,focus:n.allowInputToggle?oe:""}),i.is("input")?a.on({focus:oe}):h&&(h.on("click",ae),h.on("mousedown",!1))}(),a.prop("disabled")&&d.disable(),a.is("input")&&0!==a.val().trim().length?J(ie(a.val().trim())):n.defaultDate&&void 0===a.attr("placeholder")&&J(n.defaultDate),n.inline&&oe(),d};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),o=!0,a=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",i(r,n)))});if("string"==typeof t)return this.each(function(){var i=e(this),a=i.data("DateTimePicker");if(!a)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=a[t].apply(a,r),o=n===a}),o||e.inArray(t,a)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker}),function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return e.Bloodhound=t(i)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,r){if(!(n=i.call(null,r,e,t)))return!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,r){if(n=i.call(null,r,e,t))return!1}),!!n):n},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,r;return function(){var o,a,s=this,l=arguments;return o=function(){n=null,i||(r=e.apply(s,l))},a=i&&!n,clearTimeout(n),n=setTimeout(o,t),a&&(r=e.apply(s,l)),r}},throttle:function(e,t){var i,n,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=e.apply(i,n)},function(){var l=new Date,c=t-(l-a);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,a=l,o=e.apply(i,n)):r||(r=setTimeout(s,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function i(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function n(e){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return t.each(i,function(i){r=r.concat(e(t.toStr(n[i])))}),r}}}return{nonword:i,whitespace:e,obj:{nonword:n(i),whitespace:n(e)}}}(),r=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function n(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(i.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new r(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),t.mixin(n.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),i}(),o=function(){"use strict";function i(e,i){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=i||s,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(e){return JSON.stringify(t.isUndefined(e)?null:e)}function o(t){return e.parseJSON(t)}function a(e){var t,i,n=[],r=s.length;for(t=0;t<r;t++)(i=s.key(t)).match(e)&&n.push(i.replace(e,""));return n}var s;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(e){s=null}return t.mixin(i.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),o(this.ls.getItem(this._prefix(e)))},set:function(e,i,o){return t.isNumber(o)?this._safeSet(this._ttlKey(e),r(n()+o)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(i))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=a(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var i=o(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(i)&&n()>i)}}),i}(),a=function(){"use strict";function i(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new r(0):s}var n=0,o={},a=6,s=new r(10);return i.setMaxPendingRequests=function(e){a=e},i.resetCache=function(){s.reset()},t.mixin(i.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function i(e){t(null,e),u._cache.set(l,e)}function r(){t(!0)}function s(){n--,delete o[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(e),this.cancelled||l!==this.lastReq||((c=o[l])?c.done(i).fail(r):n<a?(n++,o[l]=this._send(e).done(i).fail(r).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||e.noop,i=t.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),s=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||t.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function r(){var e={};return e[l]=[],e[s]={},e}function o(e){for(var t={},i=[],n=0,r=e.length;n<r;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function a(e,t){var i=0,n=0,r=[];e=e.sort(),t=t.sort();for(var o=e.length,a=t.length;i<o&&n<a;)e[i]<t[n]?i++:e[i]>t[n]?n++:(r.push(e[i]),i++,n++);return r}var s="c",l="i";return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var o,a;i.datums[o=i.identify(e)]=e,a=n(i.datumTokenizer(e)),t.each(a,function(e){var t,n,a;for(t=i.trie,n=e.split("");a=n.shift();)t=t[s][a]||(t[s][a]=r()),t[l].push(o)})})},get:function(e){var i=this;return t.map(e,function(e){return i.datums[e]})},search:function(e){var i,r,c=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,o;if(r&&0===r.length)return!1;for(t=c.trie,i=e.split("");t&&(n=i.shift());)t=t[s][n];if(!t||0!==i.length)return r=[],!1;o=t[l].slice(0),r=r?a(r,o):o}),r?t.map(o(r),function(e){return c.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new o(e.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(i.data,e,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(i.data),t.protocol=this.storage.get(i.protocol),t.thumbprint=this.storage.get(i.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function i(t){e(null,r.transform(t))}var n,r=this;e&&(n=this.prepare(this._settings()),this.transport(n).fail(t).done(i))},clear:function(){return this.storage.clear(),this}}),e}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new a({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function i(e,i){t(e?[]:r.transform(i))}var n,r=this;if(t)return e=e||"",n=this.prepare(e,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),e}(),u=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(r,n),!n.url&&e.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?s(n.transport):e.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,i=t.mixin(n,i),!i.url&&e.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=a(i),i.transport=i.transport?s(i.transport):e.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(e){function t(e,t){return t.url=o(t.url,e),t}function i(e,t){return t.url=t.url.replace(a,encodeURIComponent(e)),t}function n(e,t){return t}var r,o,a;return r=e.prepare,o=e.replace,a=e.wildcard,r||(r=o?t:e.wildcard?i:n)}function a(e){var i,n,r;return i=e.limiter,n=e.rateLimitBy,r=e.rateLimitWait,i||(i=/^throttle$/i.test(n)?function(e){return function(i){return t.throttle(i,e)}}(r):function(e){return function(i){return t.debounce(i,e)}}(r)),i}function s(i){return function(n){function r(e){t.defer(function(){a.resolve(e)})}function o(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return i(n,r,o),a}}return function(i){var o,a;return o={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(o,i||{}),!i.datumTokenizer&&e.error("datumTokenizer is required"),!i.queryTokenizer&&e.error("queryTokenizer is required"),a=i.sorter,i.sorter=a?function(e){return e.sort(a)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}();return function(){"use strict";function i(e){e=u(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,t.mixin(i.prototype,{__ttAdapter:function(){function e(e,t,n){return i.search(e,t,n)}function t(e,t){return i.search(e,t)}var i=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){if(e)return i.reject();r.add(t),r.prefetch.store(r.index.serialize()),i.resolve()}var i,n,r=this;return i=e.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(t):i.resolve(),i.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,i,n){function r(e){var i=[];t.each(e,function(e){!t.some(o,function(t){return a.identify(e)===a.identify(t)})&&i.push(e)}),n&&n(i)}var o,a=this;return o=this.sorter(this.index.search(e)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(e,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,r){if(!(n=i.call(null,r,e,t)))return!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,r){if(n=i.call(null,r,e,t))return!1}),!!n):n},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,r;return function(){var o,a,s=this,l=arguments;return o=function(){n=null,i||(r=e.apply(s,l))},a=i&&!n,clearTimeout(n),n=setTimeout(o,t),a&&(r=e.apply(s,l)),r}},throttle:function(e,t){var i,n,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=e.apply(i,n)},function(){var l=new Date,c=t-(l-a);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,a=l,o=e.apply(i,n)):r||(r=setTimeout(s,c)),o}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";function e(e){var a,s;return s=t.mixin({},o,e),a={css:r(),classes:s,html:i(s),selectors:n(s)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(e){t.mixin(e,a)}}}function i(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function n(e){var i={};return t.each(e,function(e,t){i[t]="."+e}),i}function r(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),n=function(){"use strict";function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(i.prototype,{_trigger:function(t,i){var r;return r=e.Event(n+t),(i=i||[]).unshift(r),this.$el.trigger.apply(this.$el,i),r},before:function(e){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+e,t),i.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=r[e])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function e(e,t,i,n){var r;if(!i)return this;for(t=t.split(s),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(s);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,i,n,r,a;if(!this._callbacks)return this;for(e=e.split(s),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)r=o(i.sync,this,[t].concat(n)),a=o(i.async,this,[t].concat(n)),r()&&l(a);return this}function o(e,t,i){function n(){for(var n,r=0,o=e.length;!n&&r<o;r+=1)n=!1===e[r].apply(t,i);return!n}return n}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var s=/\s+/,l=function(){return window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}();return{onSync:i,onAsync:t,off:n,trigger:r}}(),o=function(e){"use strict";function i(e,i,n){for(var r,o=[],a=0,s=e.length;a<s;a++)o.push(t.escapeRegExChars(e[a]));return r=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t){var i,n,o;return(i=s.exec(t.data))&&(o=e.createElement(r.tagName),r.className&&(o.className=r.className),n=t.splitText(i.index),n.splitText(i[0].length),o.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(o,n)),!!i}function a(e,t){for(var i,n=0;n<e.childNodes.length;n++)i=e.childNodes[n],3===i.nodeType?n+=t(i)?1:0:a(i,t)}var s;r=t.mixin({},n,r),r.node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],s=i(r.pattern,r.caseSensitive,r.wordsOnly),a(r.node,o))}}(window.document),a=function(){"use strict";function i(i,r){i=i||{},i.input||e.error("input is missing"),r.mixin(this),this.$hint=e(i.hint),
this.$input=e(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=s[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var i;switch(e){case"up":case"down":i=!a(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!a(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var i,n;i=o(e,this.query),n=!!i&&this.query.length!==e.length,this.query=e,t||i?!t&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,i,n,r,o=this;return e=t.bind(this._onBlur,this),i=t.bind(this._onFocus,this),n=t.bind(this._onKeydown,this),r=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",i).on("keydown.tt",n),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){s[e.which||e.keyCode]||t.defer(t.bind(o._onInput,o,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i,n;e=this.getInputValue(),t=this.getHint(),i=e!==t&&0===t.indexOf(e),!(n=""!==e&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),i}(),s=function(){"use strict";function i(i,r){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||e.error("missing source"),i.node||e.error("missing node"),i.name&&!s(i.name)&&e.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=a(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=e(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(e){function i(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:i}function a(i,n){function r(t){return e("<div>").text(n(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||r}}function s(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=t.getIdGenerator(),i.extractData=function(t){var i=e(t);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},t.mixin(i.prototype,r,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var i;i=this._getSuggestionsFragment(e,t),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var i,n;i=this._getSuggestionsFragment(e,t),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,a=this;return r=document.createDocumentFragment(),t.each(n,function(t){var n,o;o=a._injectQuery(i,t),n=e(a.templates.suggestion(o)).data(l.obj,t).data(l.val,a.displayFn(t)).addClass(a.classes.suggestion+" "+a.classes.selectable),r.appendChild(n[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:i}),e(r)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,i){return t.isObject(i)?t.mixin({_query:e},i):i},update:function(t){function i(e){a||(a=!0,e=(e||[]).slice(0,r.limit),s=e.length,r._overwrite(t,e),s<r.limit&&r.async&&r.trigger("asyncRequested",t))}function n(i){i=i||[],!o&&s<r.limit&&(r.cancel=e.noop,s+=i.length,r._append(t,i.slice(0,r.limit-s)),r.async&&r.trigger("asyncReceived",t))}var r=this,o=!1,a=!1,s=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=e.noop,r.async&&r.trigger("asyncCanceled",t)},this.source(t,i,n),!a&&i([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function r(t){var i=o.$node.find(t.node).first();return t.node=i.length?i:e("<div>").appendTo(o.$node),new s(t,n)}var o=this;i=i||{},i.node||e.error("node is required"),n.mixin(this),this.$node=e(i.node),this.query=null,this.datasets=t.map(i.datasets,r)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,i,n,r;t=e.position().top,i=t+e.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(n+t):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var e,i=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,i,n,r;return i=this.getActiveSelectable(),t=this._getSelectables(),n=i?t.index(i):-1,r=n+e,r=(r+1)%(t.length+1)-1,r=r<-1?t.length-1:r,-1===r?null:t.eq(r)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?s.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function i(t){t.update(e)}var n=e!==this.query;return n&&(this.query=e,t.each(this.datasets,i)),n},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,i)}}),i}(),c=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),u=function(){"use strict";function i(i,r){var o,a,s,l,c,u,d,p,h,f,g;i=i||{},i.input||e.error("missing input"),i.menu||e.error("missing menu"),i.eventBus||e.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),a=n(this,"deactivate","_onBlurred"),s=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),d=n(this,"isActive","open","_onDownKeyed"),p=n(this,"isActive","isOpen","_onLeftKeyed"),h=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",p,this).onSync("rightKeyed",h,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(e){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);t.each(i,function(t){return e[t].apply(e,n)})}}return t.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||e("<div>"),n=this.menu.$node||e("<div>"),i.on("blur.tt",function(e){var r,o,a;r=document.activeElement,o=n.is(r),a=n.has(r).length>0,t.isMsie()&&(o||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,t)},_onAsyncRequested:function(e,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(e,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(e,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,i,n,r,o,s,l;e=this.menu.getTopSelectable(),i=this.menu.getSelectableData(e),n=this.input.getInputValue(),!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(n),o=t.escapeRegExChars(r),s=new RegExp("^(?:"+o+")(.+$)","i"),(l=s.exec(i.val))&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,i;return t=this.input.getQuery(),i=this.menu.getSelectableData(e),!(!(i&&t!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(e){var t,i,n,r;return t=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),n=this.menu.getSelectableData(i),r=n?n.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(t,i){t.each(function(){var t,n=e(this);(t=n.data(g.typeahead))&&i(t,n)})}function o(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(d(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function s(e,t){e.data(g.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}function d(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function p(e){var i,n;i=e.data(g.www),n=e.parent().filter(i.selectors.wrapper),t.each(e.data(g.attrs),function(i,n){t.isUndefined(i)?e.removeAttr(n):e.attr(n,i)}),e.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(e.detach().insertAfter(n),n.remove())}function h(i){var n,r;return n=t.isJQuery(i)||t.isElement(i),r=n?e(i).first():[],r.length?r:null}var f,g,m;f=e.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,d){function p(){var i,p,m,v,y,b,w,_,x,S,C;t.each(d,function(e){e.highlight=!!r.highlight}),i=e(this),p=e(f.html.wrapper),m=h(r.hint),v=h(r.menu),y=!1!==r.hint&&!m,b=!1!==r.menu&&!v,y&&(m=o(i,f)),b&&(v=e(f.html.menu).css(f.css.menu)),m&&m.val(""),i=s(i,f),(y||b)&&(p.css(f.css.wrapper),i.css(y?f.css.input:f.css.inputWithNoHint),i.wrap(p).parent().prepend(y?m:null).append(b?v:null)),C=b?c:l,w=new n({el:i}),_=new a({hint:m,input:i},f),x=new C({node:v,datasets:d},f),S=new u({input:_,menu:x,eventBus:w,minLength:r.minLength},f),i.data(g.www,f),i.data(g.typeahead,S)}var f;return d=t.isArray(d)?d:[].slice.call(arguments,1),r=r||{},f=i(r.classNames),this.each(p)},isEnabled:function(){var e;return r(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return r(this,function(e){e.enable()}),this},disable:function(){return r(this,function(e){e.disable()}),this},isActive:function(){var e;return r(this.first(),function(t){e=t.isActive()}),e},activate:function(){return r(this,function(e){e.activate()}),this},deactivate:function(){return r(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return r(this.first(),function(t){e=t.isOpen()}),e},open:function(){return r(this,function(e){e.open()}),this},close:function(){return r(this,function(e){e.close()}),this},select:function(t){var i=!1,n=e(t);return r(this.first(),function(e){i=e.select(n)}),i},autocomplete:function(t){var i=!1,n=e(t);return r(this.first(),function(e){i=e.autocomplete(n)}),i},moveCursor:function(e){var t=!1;return r(this.first(),function(i){t=i.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(r(this,function(t){t.setVal(e)}),this):(r(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return r(this,function(e,t){p(t),e.destroy()}),this}},e.fn.typeahead=function(e){return m[e]?m[e].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this}}()});
